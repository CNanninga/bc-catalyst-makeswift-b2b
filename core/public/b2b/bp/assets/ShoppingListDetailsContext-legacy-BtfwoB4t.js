System.register(["./react-setup-legacy-CKF-9cua.js","./mui-legacy-Co1sKVsS.js","./intl-legacy-f5dGU49Z.js"],function(t,e){"use strict";var r,o,a,n;return{setters:[t=>{r=t.ca,o=t.ak},t=>{a=t.j},t=>{n=t.r}],execute:function(){t("a",function(t){const[r,o]=n.useReducer(s,e),{children:u}=t,d=n.useMemo(()=>({state:r,dispatch:o}),[r]);return a.jsx(i.Provider,{value:d,children:u})}),t("v",async(t,e)=>{const a=t.map(({node:t})=>{const{productId:e,quantity:o,productsSearch:a}=t,{variantId:n,newSelectOptionList:i}=a,s=i.map(t=>"string"==typeof t.optionId&&t.optionId.includes("attribute")?{optionId:Number(t.optionId.split("[")[1].split("]")[0]),optionValue:t.optionValue}:{optionId:Number(t.optionId),optionValue:t.optionValue});return r({productId:Number(e),variantId:Number(n),quantity:Number(o),productOptions:s})}),n=await Promise.allSettled(a);return n.forEach((r,a)=>{if("rejected"===r.status){const{productName:r}=t[a].node;return void o.error(e("quotes.productValidationFailed",{productName:r}))}const{responseType:n,message:i}=r.value;"ERROR"===n&&o.error(i)}),t.filter((t,e)=>{const r=n[e];return"fulfilled"===r.status&&"ERROR"!==r.value.responseType})});const e={id:0,isLoading:!1},i=t("S",n.createContext({state:e,dispatch:()=>{}})),s=(t,e)=>{switch(e.type){case"all":return{...t,...e.payload};case"init":return{...t,id:e.payload.id};case"loading":return{...t,isLoading:e.payload.isLoading};default:return t}}}}});
//# sourceMappingURL=ShoppingListDetailsContext-legacy-BtfwoB4t.js.map
