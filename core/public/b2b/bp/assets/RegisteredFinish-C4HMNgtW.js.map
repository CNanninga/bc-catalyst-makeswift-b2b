{"version":3,"file":"RegisteredFinish-C4HMNgtW.js","sources":["../../src/pages/Registered/PrimaryButton.tsx","../../src/pages/Registered/styled.ts","../../src/pages/Registered/RegisteredFinish.tsx"],"sourcesContent":["import { Button, useTheme } from '@mui/material';\n\ninterface Props {\n  onClick: React.MouseEventHandler<HTMLButtonElement>;\n  children: React.ReactNode;\n}\n\nexport function PrimaryButton({ onClick, children }: Props) {\n  const theme = useTheme();\n\n  return (\n    <Button\n      variant=\"contained\"\n      type=\"button\"\n      onClick={onClick}\n      sx={{\n        backgroundColor: theme.palette.primary.main,\n      }}\n    >\n      {children}\n    </Button>\n  );\n}\n","import styled from '@emotion/styled';\n\nexport const StyleTipContainer = styled('p')(() => ({\n  margin: '2rem auto',\n}));\n\nexport const InformationLabels = styled('h3')(() => ({\n  margin: '1rem 0',\n  display: 'flex',\n  justifyContent: 'center',\n  fontSize: '34px',\n  fontWeight: '400',\n}));\n\nexport const InformationFourLabels = styled('h4')(() => ({\n  marginBottom: '20px',\n}));\n\nexport const TipContent = styled('div')({\n  display: 'flex',\n  flexDirection: 'row',\n  alignItems: 'center',\n});\n\nexport const RegisteredContainer = styled('div')((props: CustomFieldItems) => {\n  const { isMobile = false } = props;\n  const style = isMobile\n    ? {}\n    : {\n        padding: '20px 40px',\n      };\n\n  return style;\n});\n\nexport const RegisteredImage = styled('div')({\n  display: 'flex',\n  flexDirection: 'column',\n  justifyContent: 'center',\n  alignItems: 'center',\n  width: '100%',\n  height: '100%',\n});\n","import { useContext, useRef } from 'react';\nimport { Box } from '@mui/material';\n\nimport { getContrastColor } from '@/components/outSideComponents/utils/b3CustomStyles';\nimport { useMobile } from '@/hooks';\nimport { useB3Lang } from '@/lib/lang';\nimport { CustomStyleContext } from '@/shared/customStyleButton';\nimport { GlobalContext } from '@/shared/global';\nimport { B3SStorage } from '@/utils';\n\nimport { RegisteredContext } from './context/RegisteredContext';\nimport { PrimaryButton } from './PrimaryButton';\nimport { StyleTipContainer } from './styled';\n\ninterface Props {\n  handleFinish: (shouldAutoLogin: boolean) => void;\n  isBCToB2B?: boolean;\n}\n\nexport default function RegisteredFinish({ handleFinish, isBCToB2B = false }: Props) {\n  const { state } = useContext(RegisteredContext);\n  const b3Lang = useB3Lang();\n  const shouldAutoLogin = useRef(false);\n\n  const {\n    state: {\n      portalStyle: { backgroundColor = '#FEF9F5' },\n    },\n  } = useContext(CustomStyleContext);\n  const [isMobile] = useMobile();\n\n  const customColor = getContrastColor(backgroundColor);\n\n  const { storeName } = useContext(GlobalContext).state;\n\n  const { accountType, submitSuccess, isAutoApproval } = state;\n\n  const blockPendingAccountOrderCreation = B3SStorage.get('blockPendingAccountOrderCreation');\n  const blockPendingAccountViewPrice = B3SStorage.get('blockPendingAccountViewPrice');\n\n  const renderB2BSuccessPage = () => {\n    // Business Account\n    if (accountType === '1') {\n      if (isAutoApproval) {\n        shouldAutoLogin.current = true;\n        return (\n          <StyleTipContainer>\n            {b3Lang('global.registerFinish.autoApproved.tip', { storeName })}\n          </StyleTipContainer>\n        );\n      }\n\n      // Pending approval, check feature blocks\n      shouldAutoLogin.current = false;\n\n      if (blockPendingAccountViewPrice && !blockPendingAccountOrderCreation) {\n        return (\n          <StyleTipContainer>\n            {b3Lang(\n              'global.statusNotifications.willGainAccessToBusinessFeatProductsAndPricingAfterApproval',\n            )}\n          </StyleTipContainer>\n        );\n      }\n\n      if (blockPendingAccountViewPrice && blockPendingAccountOrderCreation) {\n        return (\n          <StyleTipContainer>\n            {b3Lang(\n              'global.statusNotifications.productsPricingAndOrderingWillBeEnabledAfterApproval',\n            )}\n          </StyleTipContainer>\n        );\n      }\n\n      return (\n        <StyleTipContainer>\n          {b3Lang('global.statusNotifications.willGainAccessToBusinessFeatAfterApproval')}\n        </StyleTipContainer>\n      );\n    }\n\n    // Personal Account\n    if (accountType === '2') {\n      shouldAutoLogin.current = true;\n      return (\n        <StyleTipContainer>\n          {b3Lang('global.registerFinish.bcSuccess.tip', { storeName })}\n        </StyleTipContainer>\n      );\n    }\n\n    // Unknown account type\n    return undefined;\n  };\n\n  const onFinishClick = () => {\n    handleFinish(shouldAutoLogin.current);\n  };\n\n  return (\n    <Box\n      sx={\n        isBCToB2B\n          ? {\n              pl: 2,\n              pr: 2,\n              mt: 2,\n              '& p': {\n                color: customColor,\n              },\n              width: isMobile ? '100%' : '537px',\n              boxShadow:\n                '0px 2px 1px -1px rgba(0, 0, 0, 0.2), 0px 1px 1px rgba(0, 0, 0, 0.14), 0px 1px 3px rgba(0, 0, 0, 0.12)',\n              borderRadius: '4px',\n              background: '#FFFFFF',\n              padding: '0 0.8rem 1rem 0.8rem',\n            }\n          : {\n              mt: 2,\n              '& p': {\n                color: customColor,\n              },\n            }\n      }\n    >\n      {submitSuccess && (\n        <>\n          {renderB2BSuccessPage()}\n          <Box\n            sx={{\n              display: 'flex',\n              justifyContent: 'flex-end',\n              pt: 2,\n            }}\n          >\n            <PrimaryButton onClick={onFinishClick}>{b3Lang('global.button.finish')}</PrimaryButton>\n          </Box>\n        </>\n      )}\n    </Box>\n  );\n}\n"],"names":["PrimaryButton","onClick","children","theme","useTheme","jsx","Button","StyleTipContainer","styled","InformationLabels","InformationFourLabels","TipContent","RegisteredContainer","props","isMobile","RegisteredImage","RegisteredFinish","handleFinish","isBCToB2B","state","useContext","RegisteredContext","b3Lang","useB3Lang","shouldAutoLogin","useRef","backgroundColor","CustomStyleContext","useMobile","customColor","getContrastColor","storeName","GlobalContext","accountType","submitSuccess","isAutoApproval","blockPendingAccountOrderCreation","B3SStorage","blockPendingAccountViewPrice","renderB2BSuccessPage","onFinishClick","Box","jsxs","Fragment"],"mappings":"kQAOO,SAASA,EAAc,CAAE,QAAAC,EAAS,SAAAC,GAAmB,CAC1D,MAAMC,EAAQC,EAAA,EAEd,OACEC,EAAAA,IAACC,EAAA,CACC,QAAQ,YACR,KAAK,SACL,QAAAL,EACA,GAAI,CACF,gBAAiBE,EAAM,QAAQ,QAAQ,IAAA,EAGxC,SAAAD,CAAA,CAAA,CAGP,CCpBO,MAAMK,EAAoBC,EAAO,GAAG,EAAE,KAAO,CAClD,OAAQ,WACV,EAAE,EAEWC,EAAoBD,EAAO,IAAI,EAAE,KAAO,CACnD,OAAQ,SACR,QAAS,OACT,eAAgB,SAChB,SAAU,OACV,WAAY,KACd,EAAE,EAEWE,EAAwBF,EAAO,IAAI,EAAE,KAAO,CACvD,aAAc,MAChB,EAAE,EAEWG,EAAaH,EAAO,KAAK,EAAE,CACtC,QAAS,OACT,cAAe,MACf,WAAY,QACd,CAAC,EAEYI,EAAsBJ,EAAO,KAAK,EAAGK,GAA4B,CAC5E,KAAM,CAAE,SAAAC,EAAW,EAAA,EAAUD,EAO7B,OANcC,EACV,GACA,CACE,QAAS,WAAA,CAIjB,CAAC,EAEYC,EAAkBP,EAAO,KAAK,EAAE,CAC3C,QAAS,OACT,cAAe,SACf,eAAgB,SAChB,WAAY,SACZ,MAAO,OACP,OAAQ,MACV,CAAC,ECvBD,SAAwBQ,EAAiB,CAAE,aAAAC,EAAc,UAAAC,EAAY,IAAgB,CACnF,KAAM,CAAE,MAAAC,CAAA,EAAUC,EAAAA,WAAWC,CAAiB,EACxCC,EAASC,EAAA,EACTC,EAAkBC,EAAAA,OAAO,EAAK,EAE9B,CACJ,MAAO,CACL,YAAa,CAAE,gBAAAC,EAAkB,SAAA,CAAU,CAC7C,EACEN,EAAAA,WAAWO,CAAkB,EAC3B,CAACb,CAAQ,EAAIc,EAAA,EAEbC,EAAcC,EAAiBJ,CAAe,EAE9C,CAAE,UAAAK,CAAA,EAAcX,aAAWY,CAAa,EAAE,MAE1C,CAAE,YAAAC,EAAa,cAAAC,EAAe,eAAAC,CAAA,EAAmBhB,EAEjDiB,EAAmCC,EAAW,IAAI,kCAAkC,EACpFC,EAA+BD,EAAW,IAAI,8BAA8B,EAE5EE,EAAuB,IAAM,CAEjC,GAAIN,IAAgB,IAClB,OAAIE,GACFX,EAAgB,QAAU,SAEvBjB,EAAA,CACE,SAAAe,EAAO,yCAA0C,CAAE,UAAAS,CAAA,CAAW,EACjE,IAKJP,EAAgB,QAAU,GAEtBc,GAAgC,CAACF,QAEhC7B,EAAA,CACE,SAAAe,EACC,wFAAA,EAEJ,EAIAgB,GAAgCF,QAE/B7B,EAAA,CACE,SAAAe,EACC,iFAAA,EAEJ,EAKFjB,EAAAA,IAACE,EAAA,CACE,SAAAe,EAAO,sEAAsE,EAChF,GAKJ,GAAIW,IAAgB,IAClB,OAAAT,EAAgB,QAAU,SAEvBjB,EAAA,CACE,SAAAe,EAAO,sCAAuC,CAAE,UAAAS,CAAA,CAAW,EAC9D,CAMN,EAEMS,EAAgB,IAAM,CAC1BvB,EAAaO,EAAgB,OAAO,CACtC,EAEA,OACEnB,EAAAA,IAACoC,EAAA,CACC,GACEvB,EACI,CACE,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,MAAO,CACL,MAAOW,CAAA,EAET,MAAOf,EAAW,OAAS,QAC3B,UACE,wGACF,aAAc,MACd,WAAY,UACZ,QAAS,sBAAA,EAEX,CACE,GAAI,EACJ,MAAO,CACL,MAAOe,CAAA,CACT,EAIP,YACCa,EAAAA,KAAAC,EAAAA,SAAA,CACG,SAAA,CAAAJ,EAAA,EACDlC,EAAAA,IAACoC,EAAA,CACC,GAAI,CACF,QAAS,OACT,eAAgB,WAChB,GAAI,CAAA,EAGN,eAACzC,EAAA,CAAc,QAASwC,EAAgB,SAAAlB,EAAO,sBAAsB,CAAA,CAAE,CAAA,CAAA,CACzE,CAAA,CACF,CAAA,CAAA,CAIR"}