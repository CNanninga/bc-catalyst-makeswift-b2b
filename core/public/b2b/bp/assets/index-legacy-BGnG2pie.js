System.register(["./mui-legacy-Co1sKVsS.js","./intl-legacy-f5dGU49Z.js","./react-setup-legacy-CKF-9cua.js","./load-functions-legacy-B3DSplhu.js","./base-legacy-DAqmyLJs.js","./useSort-legacy-D3ci4eqa.js","./ConfirmMasqueradeDialog-legacy-5oCoCY3f.js","./B3FilterSearch-legacy-DC2PyRhg.js","./masquerade-legacy-C_f1znHQ.js","./muiIcon-legacy-C-h6sDde.js","./router-legacy-CQEMCAt4.js","./reactVendor-legacy-C5drotBr.js","./eCache-legacy-QcRlogRO.js","./redux-legacy-DH94TLLa.js","./toolkit-legacy-DO7GmFjE.js","./lodashEs-legacy-BTGS6uHg.js","../index-legacy.JvindH6T.js","./global-legacy-vVqwfyov.js","./dropzone-legacy-B1uEXZk9.js","./dateFns-legacy-DHywh9DD.js"],function(e,a){"use strict";var n,t,s,r,o,l,c,i,d,m,u,p,y,x,b,g,h,j,f,C,N,I,S,F,k,q,w,v;return{setters:[e=>{n=e.j,t=e.A,s=e.ae,r=e.T,o=e.B,l=e.y,c=e.I,i=e.s,d=e.Y,m=e.X},e=>{u=e.r},e=>{p=e.j,y=e.ap,x=e.x,b=e.af,g=e.am,h=e.u,j=e.o,f=e.N,C=e.p,N=e.q},null,null,e=>{I=e.u},e=>{S=e.C},e=>{F=e.B},e=>{k=e.e,q=e.s},e=>{w=e.M},e=>{v=e.u},null,null,null,null,null,null,null,null,null],execute:function(){function a(){const e=p();return n.jsx(o,{sx:{fontWeight:400,fontSize:"13px",background:"#ED6C02",display:"inline-block",p:"2px 7px",color:"#FFFFFF",borderRadius:"10px"},children:e("dashboard.selected")})}function E({companyName:e,email:c,isSelected:i,action:d}){return n.jsxs(t,{children:[n.jsxs(s,{sx:{color:"#313440"},children:[n.jsx(r,{sx:{fontWeight:400,fontSize:"24px",color:"rgba(0, 0, 0, 0.87)"},children:e}),i&&n.jsx(a,{}),n.jsxs(o,{sx:{display:"flex",fontSize:"16px",mt:"15px",gap:"5px"},children:[n.jsx(r,{sx:{fontWeight:500},children:"Email:"}),n.jsx(r,{variant:"body1",children:c})]})]}),n.jsx(l,{sx:{ml:"10px",mb:"10px"},variant:"text",onClick:()=>d.onClick(),children:d.label})]})}e("default",function(e){const a=y(),t=x(),{salesRepCompanyId:s,b2bId:r,customerId:l,cartNumber:c}=function(){const e=h(({company:e})=>e.customer.id),a=h(({company:e})=>e.customer.b2bId),n=h(({global:e})=>e.cartNumber),t=Number(h(({b2bFeatures:e})=>e.masqueradeCompany.id));return{salesRepCompanyId:t,b2bId:a,customerId:e,cartNumber:n}}(),{setOpenPage:i}=e,d=p(),[m,w]=u.useState(!1),[R,z]=u.useState(),[D,W]=u.useState({q:"",orderBy:O[B]}),[L,T,K]=I(O,B,D,W,"asc"),U=v(),V=async e=>{await C({deleteCartInput:{cartEntityId:e}}),j.remove("cartId"),t.dispatch(N(0))},X=async e=>{try{w(!0),"number"==typeof r&&await q({customerId:l,companyId:e},t);const a=j.get("cartId");a&&await V(a),i({isOpen:!0,openUrl:"/dashboard"}),W({...D})}finally{w(!1)}},Y=async()=>{try{a(!0),"number"==typeof r&&await k(t);const e=j.get("cartId");e&&await V(e),W({...D})}finally{a(!1)}};u.useEffect(()=>{const e={...U};e?.state&&Y()},[U]);const G=async e=>{c>0?z({type:"start",companyId:e}):await X(e)},H=async()=>{c>0?z({type:"end"}):await Y()},J=[{key:"companyName",title:d("dashboard.company"),render:({companyName:e,companyId:a})=>n.jsx(M,{companyName:e,isSelected:Number(a)===Number(s)}),isSortable:!0},{key:"companyEmail",title:d("dashboard.email"),isSortable:!0},{key:"actions",title:d("dashboard.action"),render:({companyId:e})=>Number(e)===Number(s)?n.jsx(A,{label:d("dashboard.endMasqueradeAction"),onClick:()=>H()}):n.jsx(A,{label:d("dashboard.masqueradeAction"),onClick:()=>G(Number(e))})}];return n.jsxs(b,{isSpinning:m,children:[n.jsxs(o,{sx:{display:"flex",flexDirection:"column",flex:1},children:[n.jsx(o,{sx:{mb:"24px"},children:n.jsx(F,{handleChange:async e=>{W({...D,q:e})}})}),n.jsx(g,{columnItems:J,rowsPerPageOptions:P,getRequestList:async e=>{let a={edges:[],totalCount:0};return"number"==typeof r&&(a=(await f(r,e)).superAdminCompanies),a},searchParams:D||{},isCustomRender:!1,requestLoading:w,tableKey:"id",sortDirection:T,orderBy:K,sortByFn:L,renderItem:({companyName:e,companyEmail:a,companyId:t})=>{const r=Number(t)===Number(s),o=r?{label:d("dashboard.endMasqueradeAction"),onClick:()=>H()}:{label:d("dashboard.masqueradeAction"),onClick:()=>G(Number(t))};return n.jsx(E,{companyName:e,email:a,isSelected:r,action:o})}})]}),n.jsx(S,{title:d("end"===R?.type?"dashboard.masqueradeModal.title.end":"dashboard.masqueradeModal.title.start"),isOpen:void 0!==R,isRequestLoading:m,handleClose:()=>z(void 0),handleConfirm:async()=>{"start"===R?.type?(await X(R.companyId),z(void 0)):"end"===R?.type&&(await Y(),z(void 0))}})]})});const R=i(m)(()=>({"& .MuiPaper-elevation":{boxShadow:"0px 1px 0px -1px rgba(0, 0, 0, 0.1), 0px 1px 6px rgba(0, 0, 0, 0.07), 0px 1px 4px rgba(0, 0, 0, 0.06)",borderRadius:"4px"}}));function A({label:e,onClick:a}){const t=u.useRef(null),[s,r]=u.useState(!1);return n.jsxs(n.Fragment,{children:[n.jsx(c,{onClick:()=>r(!0),ref:t,children:n.jsx(w,{})}),n.jsx(R,{anchorEl:t.current,open:s,onClose:()=>r(!1),anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:n.jsx(d,{sx:{color:"primary.main"},onClick:()=>{a(),r(!1)},children:e})})]})}function z(){const e=p();return n.jsx(o,{sx:{fontWeight:400,fontSize:"13px",background:"#ED6C02",ml:"16px",p:"2px 7px",color:"#FFFFFF",borderRadius:"10px"},children:e("dashboard.selected")})}function M({companyName:e,isSelected:a}){return n.jsxs(o,{sx:{display:"flex",alignItems:"center"},children:[e,a&&n.jsx(z,{})]})}const B="companyName",O={companyName:"companyName",companyAdminName:"companyAdminName",companyEmail:"companyEmail"},P=[10,20,30]}}});
//# sourceMappingURL=index-legacy-BGnG2pie.js.map
