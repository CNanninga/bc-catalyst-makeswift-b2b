System.register(["./mui-legacy-Co1sKVsS.js","./intl-legacy-f5dGU49Z.js","./form-legacy-LlvE08FY.js","./react-setup-legacy-CKF-9cua.js","./B3CustomForm-legacy-iy2Vgra_.js","./load-functions-legacy-B3DSplhu.js","./base-legacy-DAqmyLJs.js","./shoppingList-legacy-P85pMCak.js","./muiIcon-legacy-C-h6sDde.js"],function(e,t){"use strict";var n,i,a,s,l,o,r,c,d,g,u,p,m,h,x,f,y,j,S,b,C,L,v,k,w,B,I,O;return{setters:[e=>{n=e.j,i=e.B,a=e.O,s=e.al,l=e.Y,o=e.a9},e=>{r=e.r},e=>{c=e.u},e=>{d=e.a6,g=e.ao,u=e.a7,p=e.I,m=e.j,h=e.u,x=e.y,f=e.ad,y=e.a2,j=e.a,S=e.af,b=e.aa,C=e.ag},e=>{L=e.B},null,null,e=>{v=e.S,k=e.d,w=e.e,B=e.g,I=e.a},e=>{O=e.l}],execute:function(){e({C:function({open:e,onChange:a,onClose:s}){const l=r.useRef(null),o=m(),[d,g]=r.useState(!1),u=h(x),{control:p,handleSubmit:y,getValues:j,formState:{errors:S},setValue:b}=c({mode:"onSubmit"});return n.jsxs(i,{sx:{ml:3,cursor:"pointer",width:"50%"},children:[n.jsx(i,{ref:l}),n.jsx(f,{isOpen:e,fullWidth:!0,title:o("global.createShoppingList.createNew"),loading:d,handleLeftClick:()=>{s()},handRightClick:()=>{y(async e=>{const{name:n,description:i}=e;g(!0),await t({data:{name:n,description:i},isB2BUser:u}),g(!1),a()})()},children:n.jsx(i,{sx:{minHeight:"auto",display:"flex",alignItems:"flex-start"},children:n.jsx(L,{formFields:H(o),errors:S,control:p,getValues:j,setValue:b})})})]})},O:function(e){const t=m(),{isOpen:c,dialogTitle:d=t("global.orderShoppingList.confirm"),confirmText:g=t("global.orderShoppingList.ok"),onClose:u=T,onConfirm:L=T,onCreate:k=T,isLoading:w=!1,setLoading:H=T}=e,z=h(x),V=h(({company:e})=>e.customer.role),{submitShoppingListPermission:q}=h(y),F=a(),[N]=j(),P=F.palette.primary.main,[R,U]=r.useState([]),[A,D]=r.useState("");r.useEffect(()=>{c&&(async()=>{H(!0),U([]);try{const e=q?v.Draft:v.Approved,{edges:t=[]}=z?await B({status:e}):await I({channelId:p});U(t)}finally{H(!1)}})()},[z,c,V]);const E=e=>()=>{D(e.node.id)};return n.jsx(f,{fullWidth:!0,isOpen:c,title:d,disabledSaveBtn:!A,handleLeftClick:()=>{u()},handRightClick:()=>{L(A)},rightSizeBtn:g,children:n.jsxs(S,{isSpinning:w,isFlex:!1,children:[n.jsx(i,{sx:N?{height:"430px"}:{padding:w?"4rem 0":"unset",maxHeight:"430PX"},children:n.jsx(s,{sx:{maxHeight:"400px",width:"100%",overflowY:"auto"},children:R.map(e=>n.jsx(l,{className:A===e.node.id?"active":"",onClick:E(e),sx:{"&:hover":{backgroundColor:b(P,.12)},"&.active":{backgroundColor:b(P,.12)}},children:n.jsx(o,{children:e.node.name})},e.node.id))})}),n.jsxs(C,{variant:"text",onClick:()=>{k()},sx:{textTransform:"none"},children:[n.jsx(O,{sx:{fontSize:"17px"}}),` ${t("global.orderShoppingList.createNew")}`]})]})})}});const t=e("c",({data:e,isB2BUser:t})=>{const n=e,i=t?k:w;if(t){const e=d({containOrEqual:"contain",code:g.submitShoppingListPermission}),t=u.getState()?.company?.companyHierarchyInfo?.selectCompanyHierarchyId||0;n.status=e?v.Draft:v.Approved,t&&(n.companyId=t)}else n.channelId=p;return i({...n,channelId:p})}),H=e=>[{name:"name",label:e("global.createShoppingList.name"),required:!0,default:"",fieldType:"text",xs:12,variant:"filled",size:"small",maxLength:200},{name:"description",label:e("global.createShoppingList.description"),required:!1,default:"",fieldType:"multiline",xs:12,variant:"filled",size:"small",rows:4,maxLength:200}],T=()=>{}}}});
//# sourceMappingURL=OrderShoppingList-legacy-BtcmQihB.js.map
