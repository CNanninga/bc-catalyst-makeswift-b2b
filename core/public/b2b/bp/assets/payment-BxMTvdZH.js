import{r as u}from"./lodashEs-CONzB2I0.js";import{B as n,aD as r}from"./react-setup-Bynf4djQ.js";import{b as l}from"./base-CC7kTJh2.js";import"./load-functions-BXOIym8k.js";import"./intl-D34a3Rgg.js";import{a as m}from"./b3checkout-CwvpX7Ns.js";const p=e=>'\nquery GetInvoices {\n  invoices (\n    search: "'.concat(e.q||"",'"\n    first: ').concat(e.first,"\n    offset: ").concat(e.offset," \n    ").concat(e!=null&&e.status?"status: ".concat(r(e.status?[e.status]:[])):"","\n    ").concat(e!=null&&e.beginDateAt?'beginDateAt: "'.concat(e.beginDateAt,'"'):"","\n    ").concat(e!=null&&e.endDateAt?'endDateAt: "'.concat(e.endDateAt,'"'):"",'\n    orderBy: "').concat(e==null?void 0:e.orderBy,'"\n    ').concat(e!=null&&e.beginDueDateAt?'beginDueDateAt: "'.concat(e.beginDueDateAt,'"'):"","\n    ").concat(e!=null&&e.endDueDateAt?'endDueDateAt: "'.concat(e.endDueDateAt,'"'):"","\n    ").concat(e!=null&&e.companyIds?"companyIds: ".concat(r(e.companyIds||[])):"","\n  ){\n    totalCount,\n    pageInfo{\n      hasNextPage,\n      hasPreviousPage,\n    },\n    edges{\n      node {\n        id,\n        createdAt,\n        updatedAt,\n        storeHash,\n        customerId,\n        externalId,\n        invoiceNumber,\n        dueDate,\n        orderNumber,\n        purchaseOrderNumber,\n        notAllowedPay,\n        details,\n        status,\n        pendingPaymentCount,\n        purchaseOrderNumber,\n        openBalance {\n          code,\n          value,\n        },\n        originalBalance {\n          code,\n          value,\n        },\n        companyInfo {\n          companyId,\n          companyName,\n          companyAddress,\n          companyCountry,\n          companyState,\n          companyCity,\n          companyZipCode,\n          phoneNumber,\n          bcId,\n        },\n        orderUserId,\n      }\n    }\n  }\n}"),y=(e,t,o)=>"\nquery GetInvoiceStats {\n  invoiceStats (\n    ".concat(e===""?"":"status: ".concat(e,","),"\n    decimalPlaces: ").concat(t,"\n    ").concat(o.length?"companyIds: ".concat(r(o||[])):"","\n  ){\n    totalBalance,\n    overDueBalance,\n  }\n}"),d=(e,t)=>"\nmutation GetInvoicePDFUrl {\n  invoicePdf (\n    invoiceId: ".concat(e,"\n    ").concat(t?"isPayNow: ".concat(t):"","\n  ){\n    url,\n  }\n}"),I=e=>"\nmutation CreateCart {\n  invoiceCreateBcCart (\n    bcCartData: {\n      lineItems: ".concat(r(e.lineItems),',\n      currency: "').concat(e.currency,'"\n      details: {\n        memo: ""\n      }\n    }\n  ) {\n    result {\n      checkoutUrl\n      cartId\n    }\n  }\n}'),v=e=>'\nquery GetInvoicePaymentHistory {\n  allReceiptLines (\n    invoiceId: "'.concat(e,'"\n    first: 50\n    offset: 0\n  ) {\n    edges {\n      node {\n        id\n        paymentType\n        invoiceId\n        amount\n        transactionType\n        referenceNumber\n        createdAt\n      }\n    }\n    totalCount\n  }\n}'),g=e=>"\nquery GetInvoiceDetails {\n  invoice (\n    invoiceId: ".concat(e,"\n  ) {\n    id,\n    createdAt,\n    updatedAt,\n    storeHash,\n    customerId,\n    externalId,\n    invoiceNumber,\n    dueDate,\n    orderNumber,\n    purchaseOrderNumber,\n    notAllowedPay,\n    details,\n    status,\n    pendingPaymentCount,\n    purchaseOrderNumber,\n    openBalance {\n      code,\n      value,\n    },\n    originalBalance {\n      code,\n      value,\n    },\n  }\n}"),D=e=>"\nquery GetInvoiceReceipt {\n  receipt (\n    id: ".concat(e,"\n  ) {\n    id,\n    createdAt,\n    updatedAt,\n    storeHash,\n    customerId,\n    externalId,\n    externalCustomerId,\n    totalCode,\n    totalAmount,\n    payerName,\n    payerCustomerId,\n    details,\n    paymentId,\n    transactionType,\n    paymentType,\n    referenceNumber,\n    receiptLineSet {\n      edges {\n        node {\n          id,\n          createdAt,\n          updatedAt,\n          storeHash,\n          customerId,\n          externalId,\n          externalCustomerId,\n          receiptId,\n          invoiceId,\n          amountCode,\n          amount,\n          paymentStatus,\n          paymentType,\n          invoiceNumber,\n          paymentId,\n          transactionType,\n          referenceNumber,\n        }\n      }\n    }\n  }\n}"),h="\nmutation ExportInvoicesAsCSV ($invoiceFilterData: InvoiceFilterDataType!, $lang: String!) {\n  invoicesExport (\n    invoiceFilterData: $invoiceFilterData,\n    lang: $lang,\n  ) {\n    url\n  }\n}",P=e=>n.graphqlB2B({query:p(e)}),w=(e,t)=>n.graphqlB2B({query:d(e,t)}),$=e=>n.graphqlB2B({query:I(e)}),x=e=>n.graphqlB2B({query:v(e)}),S=e=>n.graphqlB2B({query:g(e)}),k=e=>n.graphqlB2B({query:D(e)}),F=e=>n.graphqlB2B({query:h,variables:e}),T=(e,t,o)=>n.graphqlB2B({query:y(e,t,o)}),A=async e=>{const{invoiceCreateBcCart:{result:{checkoutUrl:t,cartId:o}}}=await $(e);return{checkoutUrl:t,cartId:o}},G=async(e,t,o)=>{const{checkoutUrl:c,cartId:i}=await A(e),s=()=>{o?window.location.replace(c):window.location.href=c};if(t==="bigcommerce"){s();return}if(t==="catalyst"){window.location.assign("/checkout?cartId=".concat(i));return}try{await m(i,c,o)}catch(a){l.error(a),s()}},L=(e,t)=>u(Number(e),t).toFixed(t);export{x as a,k as b,P as c,T as d,F as e,L as f,G as g,S as h,w as i};
//# sourceMappingURL=payment-BxMTvdZH.js.map
