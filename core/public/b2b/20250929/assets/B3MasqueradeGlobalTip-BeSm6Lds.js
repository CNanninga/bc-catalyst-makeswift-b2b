import{j as s,p as f,y as $,B as e}from"./mui-DjJKBaL-.js";import{r as q}from"./intl-D34a3Rgg.js";import{i as ss,j as es,b as ts,k as os,a as ns,e as as,s as rs,c as is,g as cs,l as F,f as k,d as B,E as ps,m as ds,n as ls,o as z,p as xs,q as us,r as ms,u as r,C as gs}from"./react-setup-Ctz-bmMs.js";import"./load-functions-utyuqH_X.js";import"./base-CC7kTJh2.js";import{C as hs}from"./ConfirmMasqueradeDialog-B7lur4zu.js";import{G as b,b as N,a as O}from"./muiIcon-BBtg8u0V.js";import"./reactVendor-CkUTLE5B.js";import"./eCache-97HTO8co.js";import"./redux-Bt5-tVzx.js";import"./toolkit-CpEbzTSY.js";import"./lodashEs-CONzB2I0.js";import"../index.js";import"./global-D7Yn0gGb.js";import"./router-DcuTQ_yx.js";import"./dropzone-B1UJxEDf.js";import"./dateFns-DubixNBV.js";const fs=["shoppingList/","purchased-products"];function bs(){const C=r(({company:t})=>t.customer.id),o=r(({company:t})=>t.customer.b2bId),j=r(({b2bFeatures:t})=>t.masqueradeCompany.id),y=r(({b2bFeatures:t})=>t.masqueradeCompany.isAgenting),p=r(({global:t})=>t.cartNumber),I=r(({b2bFeatures:t})=>t.masqueradeCompany.companyName),{state:{masqueradeButton:i}}=q.useContext(gs);return{customerId:C,b2bId:o,salesRepCompanyId:j,salesRepCompanyName:I,isAgenting:y,masqueradeButton:i,cartNumber:p}}function Os(C){const{isOpen:o,setOpenPage:j}=C,[y,p]=q.useState(!1),[I,i]=q.useState(!1),t=ss(),{customerId:T,b2bId:U,salesRepCompanyId:D,salesRepCompanyName:d,isAgenting:W,masqueradeButton:P,cartNumber:_}=bs(),{hash:v,href:G}=window.location,A=es(),{text:V="",color:l="",customCss:K="",location:x="bottomLeft",horizontalPadding:M="",verticalPadding:L=""}=P,S=ts(ds,V,ps),H=fs.some(h=>v.includes(h)),[a,u]=os("sf-isMasqueradeTipExpansion",!0,sessionStorage),[n]=ns(),R=async()=>{p(!0),typeof U=="number"&&await ls(Number(D));const h=z.get("cartId");h&&(await xs({deleteCartInput:{cartEntityId:h}}),z.remove("cartId"),t(us(0))),p(!1),t(ms()),j({isOpen:!0,openUrl:"/dashboard"})},m=async()=>{_>0?i(!0):await R()};if(G.includes(as)||!T||!W)return null;const g={vertical:"bottom",horizontal:"left"};let c={};n&&o?c={width:"100%",bottom:0,left:0,borderRadius:"0px"}:!n&&H&&(c={bottom:"90px !important"});const Q=rs(K),{cssValue:J,mediaBlocks:X}=Q,w=is(X),E={backgroundColor:l||"#ED6C02",color:F(l||"#FFFFFF"),padding:"0",...cs(J)},Y={backgroundColor:l||"#ED6C02",color:F(l||"#FFFFFF")},Z={bottom:"24px",left:"24px",right:"auto",top:"unset"};return s.jsxs(s.Fragment,{children:[!o&&n&&s.jsx(f,{sx:{zIndex:"99999999993",...B(M,L,x)},anchorOrigin:k(x)||g,open:!0,children:s.jsx($,{sx:{height:"42px",marginTop:"10px",...E,...w},onClick:m,variant:"contained",startIcon:s.jsx(b,{}),children:d})}),!o&&!n&&s.jsx(f,{sx:{zIndex:"9999999999",borderRadius:"4px",height:"52px",fontSize:"16px",...B(M,L,x),...c,...E,...w},anchorOrigin:k(x)||g,open:!0,children:s.jsx(e,{sx:{padding:"5px 15px",width:"100%"},children:!n&&s.jsxs(e,{sx:{display:"flex",alignItems:"center"},children:[s.jsx(b,{sx:{mr:"12px"}}),a&&s.jsx(e,{sx:{fontWeight:400},children:A("global.masquerade.youAreMasqueradeAs")}),s.jsx(e,{sx:{fontWeight:"600",m:"0 15px 0 10px"},children:d}),a&&s.jsx(e,{sx:{fontWeight:500,fontSize:"13px",cursor:"pointer"},onClick:m,children:S}),a?s.jsx(N,{onClick:()=>u(!1),sx:{ml:"10px",cursor:"pointer"}}):s.jsx(O,{onClick:()=>u(!0),sx:{ml:"10px",cursor:"pointer"}})]})})}),o&&!n&&s.jsx(f,{sx:{zIndex:"9999999999",borderRadius:"4px",height:"52px",...E,...Z,...c},anchorOrigin:g,open:!0,children:s.jsx(e,{sx:{padding:"5px 15px",width:"100%"},children:s.jsxs(e,{sx:{display:"flex",alignItems:"center",fontSize:"16px"},children:[s.jsx(b,{sx:{mr:"12px"}}),a&&s.jsx(e,{sx:{fontWeight:400},children:A("global.masquerade.youAreMasqueradeAs")}),s.jsx(e,{sx:{fontWeight:"600",m:"0 15px 0 10px"},children:d}),a&&s.jsx(e,{sx:{fontWeight:500,fontSize:"13px",cursor:"pointer"},onClick:m,children:S}),a?s.jsx(N,{onClick:()=>u(!1),sx:{ml:"10px",cursor:"pointer"}}):s.jsx(O,{onClick:()=>u(!0),sx:{ml:"10px",cursor:"pointer"}})]})})}),o&&n&&s.jsx(f,{sx:{zIndex:"9999999999",borderRadius:"4px",height:"52px",...c,...Y},anchorOrigin:g,open:!0,children:s.jsx(e,{sx:{padding:"5px 15px",width:"100%"},children:s.jsxs(e,{sx:{display:"flex",alignItems:"center",fontSize:"16px",width:"100%",justifyContent:"space-between"},children:[s.jsxs(e,{sx:{display:"flex",alignItems:"center"},children:[s.jsx(b,{sx:{mr:"12px"}}),s.jsx(e,{sx:{fontWeight:"600",m:"0 15px 0 10px"},children:d})]}),s.jsx(e,{sx:{fontWeight:500,fontSize:"13px",cursor:"pointer"},onClick:m,children:S})]})})}),s.jsx(hs,{title:A("dashboard.masqueradeModal.title.end"),isOpen:I,isRequestLoading:y,handleClose:()=>i(!1),handleConfirm:async()=>{await R(),i(!1)}})]})}export{Os as default};
//# sourceMappingURL=B3MasqueradeGlobalTip-BeSm6Lds.js.map
