System.register(["./mui-legacy-Co1sKVsS.js","./intl-legacy-f5dGU49Z.js","./form-legacy-LlvE08FY.js","./react-setup-legacy-DEc0vKYV.js","./load-functions-legacy-ksbQXdn-.js","./base-legacy-DAqmyLJs.js","./B3CustomForm-legacy-lFqWnpvs.js","./dateFns-legacy-DHywh9DD.js","./muiIcon-legacy-C-h6sDde.js"],function(e,t){"use strict";var l,r,a,s,n,i,o,c,u,d,f,g,h,x,b,j,m,p,y,k,F,C,V,S,v,M;return{setters:[e=>{l=e.j,r=e.B,a=e.b,s=e.O,n=e.I,i=e.ac,o=e.y},e=>{c=e.r},e=>{u=e.u},e=>{d=e.G,f=e.cc,g=e.C,h=e.l,x=e.a,b=e.j,j=e.h,m=e.ad,p=e.ag},null,null,e=>{y=e.s,k=e.L,F=e.A,C=e.D,V=e.B},e=>{S=e.f,v=e.s},e=>{M=e.F}],execute:function(){e("B",function({startPicker:e,endPicker:t,filterMoreInfo:a,onChange:d,isShowMore:f=!1,resetFilterInfo:y}){const{state:{portalStyle:{backgroundColor:k="#FEF9F5"}}}=c.useContext(g),F=h(k),[C,S]=c.useState(!1),[v,P]=c.useState(!1),[B,O]=c.useState(0),[z,I]=c.useState(null),R=c.useRef(null),{control:D,handleSubmit:L,getValues:Y,formState:{errors:A},setValue:T}=u({mode:"onSubmit"}),[K]=x(),G=b(),H=s().palette.primary.main;c.useEffect(()=>{z&&Object.keys(z).forEach(e=>{T(e,z[e])})},[z,C]);const W=c.useMemo(()=>{if(!B)return 0;const e=Y();return a.reduce((t,l)=>{const r=l;return E.includes(r.fieldType)&&e[r.name]&&(t-=1),t},B)},[B]),q=()=>{S(!1)},J=e=>{if(e){const t=[],l=Object.keys(e).every(t=>""===e[t]);Object.keys(e).forEach(l=>{""!==e[l]&&t.push(l)}),P(!l),O(t.length)}},N=()=>{Object.keys(Y()).forEach(e=>{T(e,"")}),y&&y(),R.current?.setClearPickerValue()};return l.jsxs(r,{sx:{ml:3,cursor:"pointer"},children:[(a&&a.length||f)&&l.jsxs(r,{sx:{display:"flex",alignItems:"center"},children:[l.jsxs(r,{onClick:()=>{S(!0)},children:[!v&&l.jsx(n,{"aria-label":"edit",size:"medium",sx:{color:F,":hover":{backgroundColor:j("#FFFFFF",.1)},"& svg":{width:"32px",height:"32px"}},children:l.jsx(M,{})}),v&&l.jsx(n,{"aria-label":"edit",size:"medium",sx:{color:F,":hover":{backgroundColor:j("#FFFFFF",.1)}},children:l.jsx(i,{badgeContent:W,sx:{"& .MuiBadge-badge.MuiBadge-standard.MuiBadge-anchorOriginTopRight":{bgcolor:H,borderRadius:"50%"}},children:l.jsx(M,{})})})]}),v&&!K&&l.jsx(o,{"aria-label":"clear-edit",size:"small",sx:{marginLeft:"5px",color:"#1976D2"},onClick:()=>{const t=e?.isEnabled?{startValue:"",endValue:""}:{};N();const l=Y();if(d){const e={...t,...l};J(e),d(e),I({...l})}},children:G("global.filter.clearFilters")})]}),l.jsxs(m,{isOpen:C,leftSizeBtn:G("global.filter.cancel"),rightSizeBtn:G("global.filter.apply"),title:G("global.filter.title"),handleLeftClick:q,handRightClick:e=>{L(e=>{const t=R.current?.getPickerValue();if(d){const l={...t,...e};J(l),d(l),I({...e})}q()})(e)},children:[l.jsxs(r,{sx:{width:K?"100%":"450px"},children:[l.jsx(V,{formFields:a,errors:A,control:D,getValues:Y,setValue:T}),l.jsx(w,{ref:R,startPicker:e,endPicker:t})]}),l.jsx(p,{sx:{mt:1},onClick:N,size:"small",children:G("global.filter.clearFilters")})]})]})});const t=e("d",(e=0,t="yyyy-MM-dd")=>S(v(new Date,e),t));function P({onChange:e,variant:t,value:s,label:n,disableOpenPicker:i=!0,formatInput:o="YYYY-MM-DD",size:u="small"}){const g=c.useRef(null),h=c.useRef(null),{state:{bcLanguage:x}}=c.useContext(d),b=y(x||"en"),[j,m]=c.useState(!1);return l.jsxs(l.Fragment,{children:[l.jsx(r,{ref:h}),l.jsx(k,{dateAdapter:F,adapterLocale:b,children:l.jsx(C,{label:n,DialogProps:{container:h.current},onChange:t=>t&&(t=>{if("string"!=typeof t){const l=f(t).format(o);e(l)}else e(t)})(t),onClose:()=>{m(!1)},value:s||null,open:j,inputRef:g,disableOpenPicker:i,renderInput:e=>l.jsx(a,{...e,size:u,onMouseDown:()=>{m(!j),g?.current?.blur&&g.current.blur()},variant:t})})})]})}const w=e("a",c.forwardRef(function({startPicker:e,endPicker:a,handleChange:s,isMonthlySpacing:n=!1,xs:i={},customWidth:o},u){const[d,f]=c.useState(e?.defaultValue||""),[g,h]=c.useState(a?.defaultValue||""),x=()=>{f(n?t(30):""),h(n?t():"")};c.useEffect(()=>{f(e?.defaultValue||"")},[e?.defaultValue]),c.useEffect(()=>{h(a?.defaultValue||"")},[a?.defaultValue]);const b=()=>{const t={startValue:d,endValue:g};return e?.isEnabled?t:{}};return c.useImperativeHandle(u,()=>({setClearPickerValue:x,getPickerValue:b})),l.jsxs(r,{sx:{display:"flex",width:o||"auto"},children:[e?.isEnabled&&l.jsx(r,{sx:{width:"49%",mt:"16px",mr:"1%",cursor:"pointer","& > .MuiFormControl-root":{width:"100%"},...i},children:l.jsx(P,{onChange:t=>{f(t),s&&s(e?.pickerKey||"start",t)},value:d,label:e?.label,variant:"filled"})}),a?.isEnabled&&l.jsx(r,{sx:{width:"49%",mt:"16px",ml:"1%","& > .MuiFormControl-root":{width:"100%"},cursor:"pointer",...i},children:l.jsx(P,{onChange:e=>{h(e),s&&s(a?.pickerKey||"end",e)},value:g,label:a?.label,variant:"filled"})})]})})),E=["roleAutocomplete"]}}});
//# sourceMappingURL=B3FilterMore-legacy-BM2VX4b8.js.map
