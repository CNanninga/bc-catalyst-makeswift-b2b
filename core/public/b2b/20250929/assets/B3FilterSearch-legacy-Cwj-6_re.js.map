{"version":3,"file":"B3FilterSearch-legacy-Cwj-6_re.js","sources":["../../src/components/filter/B3FilterSearch.tsx","../../src/hooks/useDebounce.ts"],"sourcesContent":["import { ChangeEvent, useEffect, useState } from 'react';\nimport { Clear as ClearIcon, Search as SearchIcon } from '@mui/icons-material';\nimport { InputBase, Paper } from '@mui/material';\n\nimport { useDebounce } from '@/hooks';\nimport { useB3Lang } from '@/lib/lang';\n\ninterface B3FilterSearchProps {\n  handleChange: (value: string) => void;\n  w?: number | undefined | string;\n  searchBGColor?: string;\n  placeholder?: string;\n  h?: number | string;\n  searchValue?: string;\n}\n\nfunction B3FilterSearch({\n  handleChange,\n  w = '100%',\n  h,\n  searchBGColor = '#efeae7',\n  searchValue = '',\n  ...restProps\n}: B3FilterSearchProps) {\n  const [search, setSearch] = useState<string>('');\n  const b3Lang = useB3Lang();\n  const debouncedValue = useDebounce<string>(search, 500);\n  const { placeholder = b3Lang('global.filter.search') } = restProps;\n\n  const handleOnChange = (e: ChangeEvent<HTMLInputElement>) => {\n    setSearch(e.target.value);\n  };\n\n  const handleClearSearchValue = () => {\n    setSearch('');\n  };\n\n  // debounce\n  useEffect(() => {\n    handleChange(search);\n    // disabling this rule as we need to wait for debounceValue change, to search\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [debouncedValue]);\n  useEffect(() => {\n    if (searchValue.length > 0) {\n      setSearch(searchValue);\n    }\n  }, [searchValue]);\n\n  return (\n    <Paper\n      component=\"div\"\n      sx={{\n        p: '2px 4px',\n        display: 'flex',\n        alignItems: 'center',\n        width: w,\n        maxWidth: w,\n        border: 'none',\n        boxShadow: 'none',\n        height: h || '50px',\n        borderBottomLeftRadius: '0',\n        borderBottomRightRadius: '0',\n        borderBottom: '1px solid rgba(0, 0, 0, 0.42)',\n        backgroundColor: searchBGColor,\n      }}\n    >\n      <SearchIcon\n        sx={{\n          p: '10px',\n          color: 'rgba(0, 0, 0, 0.54)',\n          fontSize: '2.7rem',\n        }}\n      />\n      <InputBase\n        sx={{\n          ml: 1,\n          flex: 1,\n          '& .MuiInputBase-input': {\n            pb: 0,\n          },\n        }}\n        size=\"small\"\n        value={search}\n        placeholder={placeholder}\n        onChange={handleOnChange}\n        endAdornment={\n          search.length > 0 && (\n            <ClearIcon\n              sx={{\n                marginRight: '8px',\n                cursor: 'pointer',\n                padding: '4px',\n                fontSize: '1.8rem',\n                color: 'rgba(0, 0, 0, 0.54)',\n                ':hover': {\n                  backgroundColor: 'rgba(0, 0, 0, 0.04)',\n                  borderRadius: '48px',\n                },\n              }}\n              onClick={handleClearSearchValue}\n            />\n          )\n        }\n      />\n    </Paper>\n  );\n}\n\nexport default B3FilterSearch;\n","import { useEffect, useState } from 'react';\n\nfunction useDebounce<T>(value: T, delay?: number): T {\n  const [debouncedValue, setDebouncedValue] = useState<T>(value);\n\n  useEffect(() => {\n    const timer = setTimeout(() => setDebouncedValue(value), delay || 500);\n\n    return () => {\n      clearTimeout(timer);\n    };\n  }, [value, delay]);\n\n  return debouncedValue;\n}\n\nexport default useDebounce;\n"],"names":["handleChange","w","h","searchBGColor","searchValue","restProps","search","setSearch","useState","b3Lang","useB3Lang","debouncedValue","value","delay","setDebouncedValue","useEffect","timer","setTimeout","clearTimeout","useDebounce","placeholder","length","jsxs","Paper","component","sx","p","display","alignItems","width","maxWidth","border","boxShadow","height","borderBottomLeftRadius","borderBottomRightRadius","borderBottom","backgroundColor","children","jsx","SearchIcon","color","fontSize","InputBase","ml","flex","pb","size","onChange","e","target","endAdornment","ClearIcon","marginRight","cursor","padding","borderRadius","onClick","handleClearSearchValue"],"mappings":"8WAgBA,UAAwBA,aACtBA,EAAAC,EACAA,EAAI,OAAAC,EACJA,EAAAC,cACAA,EAAgB,UAAAC,YAChBA,EAAc,MACXC,IAEH,MAAOC,EAAQC,GAAaC,EAAAA,SAAiB,IACvCC,EAASC,IACTC,ECxBR,SAAwBC,EAAUC,GAChC,MAAOF,EAAgBG,GAAqBN,EAAAA,SAAYI,GAUxD,OARAG,EAAAA,UAAU,KACR,MAAMC,EAAQC,WAAW,IAAMH,EAAkBF,GAAQC,GAEzD,MAAO,KACLK,aAAaF,KAEd,CAACJ,EAAOC,IAEJF,CACT,CDYyBQ,CAAoBb,EAAQ,MAC7Cc,YAAEA,EAAcX,EAAO,yBAA4BJ,EAsBzD,OAXAU,EAAAA,UAAU,KACRf,EAAaM,IAGZ,CAACK,IACJI,EAAAA,UAAU,KACJX,EAAYiB,OAAS,GACvBd,EAAUH,IAEX,CAACA,IAGFkB,EAAAA,KAACC,EAAA,CACCC,UAAU,MACVC,GAAI,CACFC,EAAG,UACHC,QAAS,OACTC,WAAY,SACZC,MAAO5B,EACP6B,SAAU7B,EACV8B,OAAQ,OACRC,UAAW,OACXC,OAAQ/B,GAAK,OACbgC,uBAAwB,IACxBC,wBAAyB,IACzBC,aAAc,gCACdC,gBAAiBlC,GAGnBmC,SAAA,CAAAC,EAAAA,IAACC,EAAA,CACCf,GAAI,CACFC,EAAG,OACHe,MAAO,sBACPC,SAAU,YAGdH,EAAAA,IAACI,EAAA,CACClB,GAAI,CACFmB,GAAI,EACJC,KAAM,EACN,wBAAyB,CACvBC,GAAI,IAGRC,KAAK,QACLnC,MAAON,EACPc,cACA4B,SAxDkBC,IACtB1C,EAAU0C,EAAEC,OAAOtC,QAwDfuC,aACE7C,EAAOe,OAAS,GACdkB,EAAAA,IAACa,EAAA,CACC3B,GAAI,CACF4B,YAAa,MACbC,OAAQ,UACRC,QAAS,MACTb,SAAU,SACVD,MAAO,sBACP,SAAU,CACRJ,gBAAiB,sBACjBmB,aAAc,SAGlBC,QAnEmBC,KAC7BnD,EAAU,WAyEd"}