System.register(["./mui-legacy-Co1sKVsS.js","./intl-legacy-f5dGU49Z.js","./react-setup-legacy-DEc0vKYV.js","./load-functions-legacy-ksbQXdn-.js","./base-legacy-DAqmyLJs.js","./payment-legacy-DMCut_VB.js","./router-legacy-CQEMCAt4.js","./reactVendor-legacy-C5drotBr.js","./eCache-legacy-QcRlogRO.js","./redux-legacy-DH94TLLa.js","./toolkit-legacy-DO7GmFjE.js","./lodashEs-legacy-BTGS6uHg.js","../index-legacy.js","./global-legacy-vVqwfyov.js","./muiIcon-legacy-C-h6sDde.js","./dropzone-legacy-B1uEXZk9.js","./dateFns-legacy-DHywh9DD.js","./b3checkout-legacy-BiIsKnbV.js"],function(e,n){"use strict";var l,t,a,c,s,i,r,o,u,y,g,d;return{setters:[e=>{l=e.j,t=e.B},e=>{a=e.r},e=>{c=e.u,s=e.j,i=e.aC,r=e.ad,o=e.ak},null,null,e=>{u=e.h,y=e.g},e=>{g=e.c,d=e.a},null,null,null,null,null,null,null,null,null,null,null],execute:function(){e("default",function(){const e=c(({global:e})=>e.storeInfo.platform),n=c(({company:e})=>e.tokens.B2BToken),[j,f]=a.useState(!1),[h,m]=a.useState(!1),x=g(),p=d(),k=s();return a.useEffect(()=>{(async()=>{if(f(!0),!n)return m(!0),void f(!1);if(x?.id||o.error(k("payment.errorInvoiceCantBeBlank")),x?.id)try{const{invoice:{openBalance:{code:n="",value:l=""}}}=await u(Number(x.id));n&&l||o.error(k("payment.errorOpenBalanceIsIncorrect"));const t={lineItems:[{invoiceId:Number(x.id),amount:l}],currency:n};await y(t,e,!0)}catch(l){o.error(l?.message||k("payment.invoiceDoesNotExist"))}finally{f(!1)}})()},[e,x.id,n,k]),l.jsxs(t,{children:[j&&l.jsx(i,{backColor:"#FFFFFF"}),l.jsx(r,{isOpen:h,fullWidth:!0,title:"",rightSizeBtn:"ok",showLeftBtn:!1,handRightClick:()=>{p("/login")},children:l.jsx(t,{sx:{height:"200px",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:l.jsxs(t,{children:[l.jsx(t,{sx:{mb:"10px"},children:k("payment.firstLoginToPay")}),l.jsx(t,{children:k("payment.clickToLandingPage")})]})})})]})})}}});
//# sourceMappingURL=index-legacy-BQt6fvCC.js.map
