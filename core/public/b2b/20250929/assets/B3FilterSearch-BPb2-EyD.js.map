{"version":3,"file":"B3FilterSearch-BPb2-EyD.js","sources":["../../src/hooks/useDebounce.ts","../../src/components/filter/B3FilterSearch.tsx"],"sourcesContent":["import { useEffect, useState } from 'react';\n\nfunction useDebounce<T>(value: T, delay?: number): T {\n  const [debouncedValue, setDebouncedValue] = useState<T>(value);\n\n  useEffect(() => {\n    const timer = setTimeout(() => setDebouncedValue(value), delay || 500);\n\n    return () => {\n      clearTimeout(timer);\n    };\n  }, [value, delay]);\n\n  return debouncedValue;\n}\n\nexport default useDebounce;\n","import { ChangeEvent, useEffect, useState } from 'react';\nimport { Clear as ClearIcon, Search as SearchIcon } from '@mui/icons-material';\nimport { InputBase, Paper } from '@mui/material';\n\nimport { useDebounce } from '@/hooks';\nimport { useB3Lang } from '@/lib/lang';\n\ninterface B3FilterSearchProps {\n  handleChange: (value: string) => void;\n  w?: number | undefined | string;\n  searchBGColor?: string;\n  placeholder?: string;\n  h?: number | string;\n  searchValue?: string;\n}\n\nfunction B3FilterSearch({\n  handleChange,\n  w = '100%',\n  h,\n  searchBGColor = '#efeae7',\n  searchValue = '',\n  ...restProps\n}: B3FilterSearchProps) {\n  const [search, setSearch] = useState<string>('');\n  const b3Lang = useB3Lang();\n  const debouncedValue = useDebounce<string>(search, 500);\n  const { placeholder = b3Lang('global.filter.search') } = restProps;\n\n  const handleOnChange = (e: ChangeEvent<HTMLInputElement>) => {\n    setSearch(e.target.value);\n  };\n\n  const handleClearSearchValue = () => {\n    setSearch('');\n  };\n\n  // debounce\n  useEffect(() => {\n    handleChange(search);\n    // disabling this rule as we need to wait for debounceValue change, to search\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [debouncedValue]);\n  useEffect(() => {\n    if (searchValue.length > 0) {\n      setSearch(searchValue);\n    }\n  }, [searchValue]);\n\n  return (\n    <Paper\n      component=\"div\"\n      sx={{\n        p: '2px 4px',\n        display: 'flex',\n        alignItems: 'center',\n        width: w,\n        maxWidth: w,\n        border: 'none',\n        boxShadow: 'none',\n        height: h || '50px',\n        borderBottomLeftRadius: '0',\n        borderBottomRightRadius: '0',\n        borderBottom: '1px solid rgba(0, 0, 0, 0.42)',\n        backgroundColor: searchBGColor,\n      }}\n    >\n      <SearchIcon\n        sx={{\n          p: '10px',\n          color: 'rgba(0, 0, 0, 0.54)',\n          fontSize: '2.7rem',\n        }}\n      />\n      <InputBase\n        sx={{\n          ml: 1,\n          flex: 1,\n          '& .MuiInputBase-input': {\n            pb: 0,\n          },\n        }}\n        size=\"small\"\n        value={search}\n        placeholder={placeholder}\n        onChange={handleOnChange}\n        endAdornment={\n          search.length > 0 && (\n            <ClearIcon\n              sx={{\n                marginRight: '8px',\n                cursor: 'pointer',\n                padding: '4px',\n                fontSize: '1.8rem',\n                color: 'rgba(0, 0, 0, 0.54)',\n                ':hover': {\n                  backgroundColor: 'rgba(0, 0, 0, 0.04)',\n                  borderRadius: '48px',\n                },\n              }}\n              onClick={handleClearSearchValue}\n            />\n          )\n        }\n      />\n    </Paper>\n  );\n}\n\nexport default B3FilterSearch;\n"],"names":["useDebounce","value","delay","debouncedValue","setDebouncedValue","useState","useEffect","timer","B3FilterSearch","handleChange","w","h","searchBGColor","searchValue","restProps","search","setSearch","b3Lang","useB3Lang","placeholder","handleOnChange","e","handleClearSearchValue","jsxs","Paper","jsx","SearchIcon","InputBase","ClearIcon"],"mappings":"uPAEA,SAASA,EAAeC,EAAUC,EAAmB,CACnD,KAAM,CAACC,EAAgBC,CAAiB,EAAIC,EAAAA,SAAYJ,CAAK,EAE7DK,OAAAA,EAAAA,UAAU,IAAM,CACd,MAAMC,EAAQ,WAAW,IAAMH,EAAkBH,CAAK,EAAGC,CAAY,EAErE,MAAO,IAAM,CACX,aAAaK,CAAK,CACpB,CACF,EAAG,CAACN,EAAOC,CAAK,CAAC,EAEVC,CACT,CCEA,SAASK,EAAe,CACtB,aAAAC,EACA,EAAAC,EAAI,OACJ,EAAAC,EACA,cAAAC,EAAgB,UAChB,YAAAC,EAAc,GACd,GAAGC,CACL,EAAwB,CACtB,KAAM,CAACC,EAAQC,CAAS,EAAIX,EAAAA,SAAiB,EAAE,EACzCY,EAASC,EAAA,EACTf,EAAiBH,EAAoBe,EAAQ,GAAG,EAChD,CAAE,YAAAI,EAAcF,EAAO,sBAAsB,GAAMH,EAEnDM,EAAkBC,GAAqC,CAC3DL,EAAUK,EAAE,OAAO,KAAK,CAC1B,EAEMC,EAAyB,IAAM,CACnCN,EAAU,EAAE,CACd,EAGAV,OAAAA,EAAAA,UAAU,IAAM,CACdG,EAAaM,CAAM,CAGrB,EAAG,CAACZ,CAAc,CAAC,EACnBG,EAAAA,UAAU,IAAM,CACVO,EAAY,OAAS,GACvBG,EAAUH,CAAW,CAEzB,EAAG,CAACA,CAAW,CAAC,EAGdU,EAAAA,KAACC,EAAA,CACC,UAAU,MACV,GAAI,CACF,EAAG,UACH,QAAS,OACT,WAAY,SACZ,MAAOd,EACP,SAAUA,EACV,OAAQ,OACR,UAAW,OACX,OAAQC,GAAK,OACb,uBAAwB,IACxB,wBAAyB,IACzB,aAAc,gCACd,gBAAiBC,CAAA,EAGnB,SAAA,CAAAa,EAAAA,IAACC,EAAA,CACC,GAAI,CACF,EAAG,OACH,MAAO,sBACP,SAAU,QAAA,CACZ,CAAA,EAEFD,EAAAA,IAACE,EAAA,CACC,GAAI,CACF,GAAI,EACJ,KAAM,EACN,wBAAyB,CACvB,GAAI,CAAA,CACN,EAEF,KAAK,QACL,MAAOZ,EACP,YAAAI,EACA,SAAUC,EACV,aACEL,EAAO,OAAS,GACdU,EAAAA,IAACG,EAAA,CACC,GAAI,CACF,YAAa,MACb,OAAQ,UACR,QAAS,MACT,SAAU,SACV,MAAO,sBACP,SAAU,CACR,gBAAiB,sBACjB,aAAc,MAAA,CAChB,EAEF,QAASN,CAAA,CAAA,CACX,CAAA,CAGN,CAAA,CAAA,CAGN"}