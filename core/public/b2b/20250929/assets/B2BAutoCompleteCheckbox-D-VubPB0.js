import{j as l,q as L,aj as B,ak as H,Y as M,x as v,a9 as T}from"./mui-DjJKBaL-.js";import{r as c}from"./intl-D34a3Rgg.js";import{j as P,a as V,u as N}from"./react-setup-Ctz-bmMs.js";import{d as $}from"./muiIcon-BBtg8u0V.js";function Y({handleChangeCompanyIds:I}){const g=P(),[f]=V(),{id:m,companyName:k}=N(({company:e})=>e.companyInfo),{selectCompanyHierarchyId:o,companyHierarchyList:x,companyHierarchySelectSubsidiariesList:h}=N(({company:e})=>e.companyHierarchyInfo),[C,u]=c.useState(!1),[r,j]=c.useState([k]),[i,b]=c.useState([Number(o)||Number(m)]),s=c.useMemo(()=>[{companyId:-1,companyName:"All",parentCompanyId:null,parentCompanyName:""},...o?h:x],[x,o,h]);c.useEffect(()=>{b([Number(o)||Number(m)])},[o,m]);const A=e=>{const{value:t}=e.target,n=typeof t=="string"?[t]:t;let a=[];n.includes("All")&&(r.includes("All")&&(n.length!==s.length||s.length===2&&C)?(u(!1),a=[],s.forEach(({companyName:p,companyId:d})=>{n.includes(p)&&p!=="All"&&a.push(d)})):(a=[-1],u(!0))),n.includes("All")||(C?(a=[Number(o)||Number(m)],u(!1)):(a=[],n.forEach(p=>{const d=s.find(E=>E.companyName===p);d&&a.push(d.companyId)}),n.length||(a=[-1],u(!0)))),b(a);let y=a;o&&a.includes(-1)&&(y=[],h.forEach(({companyId:p})=>{y.push(p)})),I(y)};c.useEffect(()=>{const e=[];if(i.length)i.forEach(t=>{const n=s.find(a=>Number(a.companyId)===Number(t));n&&e.push(n.companyName)});else{const t=o||m,n=s.find(a=>Number(a.companyId)===Number(t));n&&e.push(n.companyName)}j(e)},[i,s,m]);const w=c.useMemo(()=>r.includes("All")?["All"]:r,[r]),S={PaperProps:{style:{maxHeight:300}}};return l.jsxs(L,{variant:"filled",sx:{width:f?"100%":235},children:[l.jsx(B,{id:"autoComplete-multiple-checkbox-label",children:g("global.B2BAutoCompleteCheckbox.input.label")}),l.jsx(H,{labelId:"autoComplete-multiple-checkbox-label",id:"autoComplete-multiple-checkbox",multiple:!0,value:w,onChange:A,renderValue:e=>e.join(", "),MenuProps:S,sx:{backgroundColor:"#efeae7","& #autoComplete-multiple-checkbox":{paddingTop:"20px"}},children:s.map(e=>l.jsxs(M,{value:e.companyName,sx:{width:f?"100%":"300px",alignItems:"flex-start"},children:[l.jsx(v,{checked:r.includes(e.companyName)&&i.includes(e.companyId)}),l.jsx(T,{primary:e.companyName,title:e.companyName,sx:{"& span":{width:"100%",whiteSpace:"break-spaces",wordWrap:"break-word",paddingTop:"9px"}}}),r.includes(e.companyName)&&i.includes(e.companyId)&&l.jsx($,{sx:{marginTop:"9px"}})]},"".concat(e.companyId,"-").concat(e.companyName)))})]})}export{Y as B};
//# sourceMappingURL=B2BAutoCompleteCheckbox-D-VubPB0.js.map
