System.register(["./react-setup-legacy-DEc0vKYV.js","./mui-legacy-Co1sKVsS.js","./intl-legacy-f5dGU49Z.js"],function(t,e){"use strict";var r,o,a,i;return{setters:[t=>{r=t.ca,o=t.ak},t=>{a=t.j},t=>{i=t.r}],execute:function(){t("a",function(t){const[r,o]=i.useReducer(s,e),{children:u}=t,d=i.useMemo(()=>({state:r,dispatch:o}),[r]);return a.jsx(n.Provider,{value:d,children:u})}),t("v",async(t,e)=>{const a=t.map(({node:t})=>{const{productId:e,quantity:o,productsSearch:a}=t,{variantId:i,newSelectOptionList:n}=a,s=n.map(t=>"string"==typeof t.optionId&&t.optionId.includes("attribute")?{optionId:Number(t.optionId.split("[")[1].split("]")[0]),optionValue:t.optionValue}:{optionId:Number(t.optionId),optionValue:t.optionValue});return r({productId:Number(e),variantId:Number(i),quantity:Number(o),productOptions:s})}),i=await Promise.allSettled(a);return i.forEach((r,a)=>{if("rejected"===r.status){const{productName:r}=t[a].node;return void o.error(e("quotes.productValidationFailed",{productName:r}))}const{responseType:i,message:n}=r.value;"ERROR"===i&&o.error(n)}),t.filter((t,e)=>{const r=i[e];return"fulfilled"===r.status&&"ERROR"!==r.value.responseType})});const e={id:0,isLoading:!1},n=t("S",i.createContext({state:e,dispatch:()=>{}})),s=(t,e)=>{switch(e.type){case"all":return{...t,...e.payload};case"init":return{...t,id:e.payload.id};case"loading":return{...t,isLoading:e.payload.isLoading};default:return t}}}}});
//# sourceMappingURL=ShoppingListDetailsContext-legacy-CQabgpbi.js.map
