System.register(["./mui-legacy-Co1sKVsS.js","./intl-legacy-f5dGU49Z.js","./form-legacy-LlvE08FY.js","./B3Card-legacy-oQ66XMuA.js","./B3CustomForm-legacy-lFqWnpvs.js","./react-setup-legacy-DEc0vKYV.js","./load-functions-legacy-ksbQXdn-.js","./base-legacy-DAqmyLJs.js","./recaptcha-legacy-DaSjs-nl.js","./config-legacy-CbbOyLJG.js","./styled-legacy-DUIpg82W.js","./router-legacy-CQEMCAt4.js","./reactVendor-legacy-C5drotBr.js","./eCache-legacy-QcRlogRO.js","./lodashEs-legacy-BTGS6uHg.js","./muiIcon-legacy-C-h6sDde.js","./redux-legacy-DH94TLLa.js","./toolkit-legacy-DO7GmFjE.js","../index-legacy.js","./global-legacy-vVqwfyov.js","./dropzone-legacy-B1uEXZk9.js","./dateFns-legacy-DHywh9DD.js","./validatorRules-legacy-e1M49_aF.js"],function(e,s){"use strict";var t,a,l,n,r,o,i,c,g,x,d,u,y,j,f,m,p,h,S,b,w,F,P;return{setters:[e=>{t=e.j,a=e.B,l=e.a7,n=e.T},e=>{r=e.r},e=>{o=e.u},e=>{i=e.B},e=>{c=e.B},e=>{g=e.G,x=e.C,d=e.a,u=e.j,y=e.af,j=e.ag},null,e=>{f=e.b},e=>{m=e.r,p=e.C,h=e.g},e=>{S=e.g,b=e.s},e=>{w=e.L,F=e.B},e=>{P=e.a},null,null,null,null,null,null,null,null,null,null,null],execute:function(){function s({setOpenPage:e,isEnabledOnStorefront:s,storefrontSiteKey:g,logo:x}){const[h]=d(),[C,v]=r.useState(!1),B=u(),E=S(B),[O,z]=r.useState(!1),[K,T]=r.useState(""),{control:V,handleSubmit:L,getValues:k,formState:{errors:D},setValue:W}=o({mode:"onSubmit"}),G=P();r.useEffect(()=>{!K&&s||z(!1)},[K,s]);const I=L(async({email:e})=>{if(!s||K)try{if(v(!0),s&&K)try{await m(K,e),G("/login?loginFlag=receivePassword"),v(!1)}catch(t){f.error(t)}s||(await b(e),v(!1),G("/login?loginFlag=receivePassword"))}catch(t){f.error(t)}else z(!0)});return t.jsx(i,{setOpenPage:e,children:t.jsxs(a,{sx:{bgcolor:"#FFFFFF",borderRadius:"4px",display:"flex",flexDirection:"column",mr:"auto",ml:"auto",maxWidth:"537px"},children:[t.jsx(a,{sx:{mt:"20px"},children:x&&t.jsx(w,{children:t.jsx(l,{sx:{maxWidth:h?"175px":"250px"},onClick:()=>{window.location.assign("/")},children:t.jsx("img",{src:x,alt:B("global.tips.registerLogo"),loading:"lazy"})})})}),t.jsxs(a,{sx:{margin:"20px 0 0 0",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[t.jsx(n,{variant:"h5",sx:{margin:"16px 0"},children:B("forgotPassword.resetPassword")}),t.jsx(n,{variant:"body1",sx:{margin:"0 16px 16px 16px"},children:B("forgotPassword.requestEmail")}),t.jsx(c,{formFields:E,errors:D,control:V,getValues:k,setValue:W,sx:{margin:"0 16px",maxWidth:h?"311px":"505px"}}),s&&O?t.jsx(n,{variant:"body1",sx:{color:"red",display:"flex",alignSelf:"flex-start",marginLeft:"18px",marginTop:"2px",fontSize:"13px"},children:B("login.loginText.missingCaptcha")}):"",s?t.jsx(a,{sx:{marginTop:"20px"},children:t.jsx(p,{siteKey:g,size:"normal",handleGetKey:T})}):"",t.jsx(y,{isSpinning:C,size:20,isFlex:!1,children:t.jsx(F,{children:t.jsx(j,{type:"submit",size:"medium",onClick:I,variant:"contained",sx:{width:"auto"},children:B("forgotPassword.resetPasswordBtn")})})})]})]})})}e({ForgotPassword:s,default:function({setOpenPage:e}){const{logo:a}=r.useContext(g).state,{loginPageDisplay:l}=r.useContext(x).state,[n,o]=r.useState(!1),[i,c]=r.useState("");return r.useEffect(()=>{(async()=>{try{const e=await h();e&&(o(e.isEnabledOnStorefront),c(e.siteKey))}catch(e){f.error(e)}})()},[]),t.jsx(s,{setOpenPage:e,logo:l.displayStoreLogo?a:void 0,isEnabledOnStorefront:n,storefrontSiteKey:i})}})}}});
//# sourceMappingURL=index-legacy-Dbad94uA.js.map
