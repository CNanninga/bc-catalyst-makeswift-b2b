import{j as s,B as J,T as Y,I as Ht,w as we,x as St,v as Sn,b as Pn,ah as Cn,A as ot,ae as st,O as An,y as In,ai as Lt,a0 as kn,G as De}from"./mui-DjJKBaL-.js";import{r as _}from"./intl-D34a3Rgg.js";import{B as Ie,aD as Tn,a7 as Dn,aM as Ln,j as ve,u as oe,y as ct,a as ke,aN as Nn,ay as rt,ak as ue,ad as lr,aO as On,aP as jn,a4 as En,aQ as Vt,o as Bn,a2 as Rn,G as pr,aw as Pt,ao as Mn,at as Un,aR as Xt,ag as qn,aS as It,aT as zn,aU as Fn,ah as Wn,C as Gn,l as $n,af as Zn,aa as Kn}from"./react-setup-Ctz-bmMs.js";import"./load-functions-utyuqH_X.js";import{b as Nt}from"./base-CC7kTJh2.js";import{f as Hn}from"./address-lvGbxkys.js";import{O as hr,o as dr}from"./OrderStatus-C8-7QLce.js";import{u as mr,a as Ot,c as Vn}from"./router-DcuTQ_yx.js";import{N as Xn,g as Jn,h as Qn,i as Yn,j as ei}from"./muiIcon-BBtg8u0V.js";import{h as ti}from"./lodashEs-CONzB2I0.js";import{H as ri}from"./HierarchyDialog-Bh43E3c4.js";import{u as ni}from"./form-pKe_k4Gy.js";import{B as ii}from"./B3CustomForm-BLuJSiae.js";import{b as ai,c as ui}from"./shoppingList-5c4DgHH6.js";import{b as oi}from"./b3TriggerCartNumber-Dt8ppjJx.js";import{O as si,C as ci}from"./OrderShoppingList-qu8HwRgc.js";import{f as li}from"./dateFns-DubixNBV.js";import{a as pi}from"./reactVendor-CkUTLE5B.js";import"./eCache-97HTO8co.js";import"./redux-Bt5-tVzx.js";import"./toolkit-CpEbzTSY.js";import"../index.js";import"./global-D7Yn0gGb.js";import"./dropzone-B1UJxEDf.js";const hi=(r,e)=>{var i;let t=document.getElementById(e);t||(t=document.createElement("iframe"),t.src="about:blank",t.id=e,t.style.display="none",document.body.appendChild(t));const n=(i=t.contentWindow)==null?void 0:i.document;n&&(n.open(),n.write(r),n.close()),t.style.display="block"},di=async(r,e)=>{await fetch("/account.php?action=print_invoice&order_id=".concat(r)).then(t=>{if(t.ok)return t.text();throw new Error("Network response was not ok.")}).then(t=>{hi(t,e)}).catch(t=>{Nt.error("Error Invoice:",t)})},fr="\n  companyInfo {\n    companyId,\n    companyName,\n    companyAddress,\n    companyCountry,\n    companyState,\n    companyCity,\n    companyZipCode,\n    phoneNumber,\n    bcId,\n  }\n",wr=(r,e)=>"\nquery ".concat(e==="allOrders"?"GetAllOrders":"GetCustomerOrders"," {\n  ").concat(e,'(\n    search: "').concat(r.q||"",'"\n    status: "').concat((r==null?void 0:r.statusCode)||"",'"\n    first: ').concat(r.first,"\n    offset: ").concat(r.offset,"\n    beginDateAt: ").concat(r!=null&&r.beginDateAt?JSON.stringify(r.beginDateAt):null,"\n    endDateAt: ").concat(r!=null&&r.endDateAt?JSON.stringify(r.endDateAt):null,'\n    companyName: "').concat((r==null?void 0:r.companyName)||"",'"\n    createdBy: "').concat((r==null?void 0:r.createdBy)||"",'"\n    isShowMy: "').concat((r==null?void 0:r.isShowMy)||0,'"\n    orderBy: "').concat(r.orderBy,'"\n    email: "').concat((r==null?void 0:r.email)||"",'"\n    ').concat(r!=null&&r.companyIds?"companyIds: ".concat(Tn(r.companyIds||[])):"","\n  ){\n    totalCount,\n    pageInfo{\n      hasNextPage,\n      hasPreviousPage,\n    },\n    edges{\n      node {\n        orderId,\n        createdAt,\n        updatedAt,\n        totalIncTax,\n        currencyCode,\n        usdIncTax,\n        money,\n        items,\n        cartId,\n        userId,\n        poNumber,\n        referenceNumber,\n        status,\n        customStatus,\n        statusCode,\n        isArchived,\n        isInvoiceOrder,\n        invoiceId,\n        invoiceNumber,\n        invoiceStatus,\n        ipStatus,\n        flag,\n        billingName,\n        merchantEmail,\n        firstName,\n        lastName,\n        companyName,\n        ").concat(fr,"\n      }\n    }\n  }\n}"),gr=(r,e)=>"\nquery ".concat(e==="order"?"GetOrder":"GetCustomerOrder"," {\n  ").concat(e,"(\n    id: ").concat(r,"\n  ){\n    id,\n    companyName,\n    firstName,\n    lastName,\n    status,\n    statusId,\n    customerId,\n    customStatus,\n    dateCreated,\n    dateModified,\n    dateShipped,\n    subtotalExTax,\n    subtotalIncTax,\n    subtotalTax,\n    baseShippingCost,\n    shippingCostExTax,\n    shippingCostIncTax,\n    shippingCostTax,\n    shippingCostTaxClassId,\n    baseHandlingCost,\n    handlingCostExTax,\n    handlingCostIncTax,\n    handlingCostTax,\n    handlingCostTaxClassId,\n    baseWrappingCost,\n    wrappingCostExTax,\n    wrappingCostIncTax,\n    wrappingCostTax,\n    wrappingCostTaxClassId,\n    totalExTax,\n    totalIncTax,\n    totalTax,\n    itemsTotal,\n    itemsShipped,\n    paymentMethod,\n    paymentProviderId,\n    paymentStatus,\n    refundedAmount,\n    orderIsDigital,\n    storeCreditAmount,\n    giftCertificateAmount,\n    ipAddress,\n    geoipCountry,\n    geoipCountryIso2,\n    currencyId,\n    currencyCode,\n    currencyExchangeRate,\n    defaultCurrencyId,\n    defaultCurrencyCode,\n    staffNotes,\n    customerMessage,\n    discountAmount,\n    couponDiscount,\n    shippingAddressCount,\n    isDeleted,\n    ebayOrderId,\n    cartId,\n    ipAddressV6,\n    isEmailOptIn,\n    poNumber,\n    storeDefaultCurrencyCode,\n    storeDefaultToTransactionalExchangeRate,\n    customerLocale,\n    channelId,\n    orderSource,\n    externalSource,\n    creditCardType,\n    externalId,\n    externalMerchantId,\n    taxProviderId,\n    canReturn,\n    createdEmail,\n    products,\n    coupons,\n    extraFields,\n    billingAddress,\n    shippingAddresses,\n    shippingAddress,\n    shipments,\n    money,\n    referenceNumber,\n    isInvoiceOrder,\n    updatedAt,\n    externalOrderId,\n    ipStatus,\n    invoiceId,\n    orderHistoryEvent {\n      id,\n      eventType,\n      status,\n      extraFields,\n      createdAt,\n    },\n    ").concat(fr,"\n  }\n}"),yr=r=>"\nquery ".concat(r==="orderStatuses"?"GetOrderStatuses":"GetCustomerOrderStatuses"," {\n  ").concat(r," {\n    systemLabel,\n    customLabel,\n    statusCode,\n  }\n}"),mi=r=>Ie.graphqlB2B({query:wr(r,"allOrders")}).then(e=>e.allOrders),fi=r=>Ie.graphqlB2B({query:wr(r,"customerOrders")}).then(e=>e.customerOrders),wi=r=>Ie.graphqlB2B({query:gr(r,"order")}).then(e=>e.order),gi=r=>Ie.graphqlB2B({query:gr(r,"customerOrder")}).then(e=>e.customerOrder),yi=()=>Ie.graphqlB2B({query:yr("orderStatuses")}).then(r=>r.orderStatuses),vi=()=>Ie.graphqlB2B({query:yr("bcOrderStatuses")}).then(r=>r.bcOrderStatuses),_i={currency_location:"left",currency_token:"$",decimal_token:".",decimal_places:2,thousands_token:",",currency_exchange_rate:"1.0000000000"},vr={shippings:[],billings:[],history:[],poNumber:"",status:"",statusCode:"",currencyCode:"",currency:"",orderSummary:{createAt:"",name:"",priceData:{},priceSymbol:{}},customStatus:"",money:{..._i},payment:{},orderComments:"",products:[],orderId:"",orderStatus:[],ipStatus:0,invoiceId:0,addressLabelPermission:!1,canReturn:!1,createdEmail:"",orderIsDigital:!1,companyInfo:{companyId:"",companyName:"",companyAddress:"",companyCountry:"",companyState:"",companyCity:"",companyZipCode:"",phoneNumber:"",bcId:""},digitalProducts:[],billingAddress:{city:"",company:"",country:"",country_iso2:"",email:"",first_name:"",last_name:"",phone:"",state:"",street_1:"",street_2:"",zip:""}},Re=_.createContext({state:vr,dispatch:()=>{}}),bi=(r,e)=>{switch(e.type){case"all":return{...r,...e.payload};case"statusType":return{...r,orderStatus:e.payload.orderStatus};case"addressLabel":return{...r,addressLabelPermission:e.payload.addressLabelPermission};default:return r}};function xi(r){const[e,t]=_.useReducer(bi,vr),{children:n}=r,i=_.useMemo(()=>({state:e,dispatch:t}),[e]);return s.jsx(Re.Provider,{value:i,children:n})}const Si=r=>{const{shipments:e,shippingAddress:t,products:n=[]}=r,a=(e||[]).map(l=>{const{items:m}=l,g=[];return m.forEach(h=>{const k=n.find(E=>E.id===h.order_product_id);k&&g.push({...k,current_quantity_shipped:h.quantity,not_shipping_number:k.quantity-k.quantity_shipped})}),{...l,itemsInfo:g}});return(t===!1?[]:t).map(l=>({...l,shipmentItems:[...a.filter(m=>m.order_address_id===l.id)],notShip:{itemsInfo:n.filter(m=>m.quantity>m.quantity_shipped&&l.id===m.order_address_id).map(m=>({...m,not_shipping_number:m.quantity-m.quantity_shipped}))}}))},Pi=r=>{const{billingAddress:e,products:t}=r;return[{billingAddress:e,digitalProducts:t.filter(i=>i.type==="digital")}]},Le=r=>{const{decimal_places:e=2}=Ln();try{return(parseFloat(r.toString())||0).toFixed(e)}catch(t){return"0.00"}},Ci=(r,e)=>{const{dateCreated:t,firstName:n,lastName:i,totalTax:a,subtotalExTax:u,subtotalIncTax:c,totalExTax:l,totalIncTax:m,handlingCostExTax:g,handlingCostIncTax:h,shippingCostExTax:k,shippingCostIncTax:E,coupons:y,discountAmount:I}=r,{global:{showInclusiveTaxPrice:P}}=Dn.getState(),D={},C={},O={};y.forEach(f=>{const L=e("orderDetail.summary.coupon",{couponCode:f!=null&&f.code?"(".concat(f.code,")"):""});D[L]=L,C[L]=f==null?void 0:f.discount,O[L]="coupon"});const j={subTotal:e("orderDetail.summary.subTotal"),shipping:e("orderDetail.summary.shipping"),handingFee:e("orderDetail.summary.handlingFee"),discountAmount:e("orderDetail.summary.discountAmount"),...D,tax:e("orderDetail.summary.tax"),grandTotal:e("orderDetail.summary.grandTotal")};return{createAt:t,name:"".concat(n," ").concat(i),priceData:{[j.subTotal]:Le(P?c:u),[j.shipping]:Le(P?E:k),[j.handingFee]:Le(h||g||""),[j.discountAmount]:Le(I||""),...C,[j.tax]:Le(a||""),[j.grandTotal]:Le(m||l||"")},priceSymbol:{[j.subTotal]:"subTotal",[j.shipping]:"shipping",[j.handingFee]:"handingFee",[j.discountAmount]:"discountAmount",...O,[j.tax]:"tax",[j.grandTotal]:"grandTotal"}}},Ai=r=>{const{updatedAt:e,billingAddress:t,paymentMethod:n,dateCreated:i}=r,a=new Date(i).getTime()/1e3;return{updatedAt:e,billingAddress:t,paymentMethod:n,dateCreateAt:JSON.stringify(a)}},Ii=r=>{const{products:e}=r,t=[];return e.forEach(n=>{const i=t.findIndex(a=>Number(a.variant_id)===Number(n.variant_id));if(i===-1)t.push(n);else{const a=t[i];t[i]={...a,quantity:Number(a.quantity)+Number(n.quantity)}}}),t},ki=r=>r.filter(e=>e.type==="digital"),Ti=(r,e)=>{var t;return{shippings:Si(r),billings:Pi(r),digitalProducts:ki(r.products),billingAddress:r.billingAddress||{},history:r.orderHistoryEvent||[],poNumber:r.poNumber||"",status:r.status,statusCode:r.statusId,currencyCode:r.currencyCode,currency:((t=r.money)==null?void 0:t.currency_token)||"$",money:r.money,orderSummary:Ci(r,e),payment:Ai(r),orderComments:r.customerMessage,products:Ii(r),orderId:Number(r.id),customStatus:r.customStatus,ipStatus:Number(r.ipStatus)||0,invoiceId:Number(r.invoiceId||0),canReturn:r.canReturn,createdEmail:r.createdEmail,orderIsDigital:r.orderIsDigital,companyInfo:r.companyInfo}},Ct=1e8,Di={orderBy:"-createdAt",offset:0};function Li({onChange:r,color:e}){const t=ve(),n=oe(ct),[i,a]=_.useState(Ct),[u,c]=_.useState(""),[l,m]=_.useState(!1),[g,h]=_.useState({rightId:"",leftId:""}),k=mr(),[E]=ke();let y=0,I=0,P=null,D=null,C={offset:0};const O=_.useId();if(k!=null&&k.state){const A=k.state;y=(A==null?void 0:A.currentIndex)||0,I=(A==null?void 0:A.totalCount)||0,P=(A==null?void 0:A.beginDateAt)||null,D=(A==null?void 0:A.endDateAt)||null,C=(A==null?void 0:A.searchParams)||{offset:0}}const j=async()=>{var te,T,X,p;m(!0);const N={...Di,...C,first:3,offset:i?i-1:0,beginDateAt:P||null,endDateAt:D||null},{edges:q,totalCount:Z}=n?await mi(N):await fi(N);let F="",Q="",W="";i===Z-1?(F="toRight",W=((te=q[q.length-2])==null?void 0:te.node.orderId)||0):i===0?(F="toLeft",Q=((T=q[1])==null?void 0:T.node.orderId)||0):(W=((X=q[0])==null?void 0:X.node.orderId)||0,Q=((p=q[2])==null?void 0:p.node.orderId)||0),h({leftId:W,rightId:Q}),c(F),m(!1)};if(_.useEffect(()=>{if(I>0&&a(y),i===Ct)return;const A=y+(C.offset||0);a(A)},[C]),_.useEffect(()=>{i!==Ct&&j()},[i]),JSON.stringify(C)==="{}")return null;const U=()=>{a(i-1),r(g.leftId)},f=()=>{a(i+1),r(g.rightId)},L=i+1;return s.jsxs(J,{role:"navigation","aria-labelledby":O,sx:{display:"flex",color:e},children:[!E&&s.jsxs(J,{id:O,sx:{display:"flex",alignItems:"center"},children:[t("orderDetail.pagination.order"),s.jsx(Y,{sx:{m:1},children:L}),t("orderDetail.pagination.of"),s.jsx(J,{sx:{ml:1},children:I})]}),s.jsx(Ht,{onClick:U,disabled:I<=1||u==="toLeft"||l,children:s.jsx(Xn,{sx:{color:e}})}),s.jsx(Ht,{onClick:f,disabled:I<=1||u==="toRight"||l,children:s.jsx(Jn,{sx:{color:e}})})]})}const Ni=()=>[{name:"return_reason",label:"Return reason",required:!0,xs:12,variant:"filled",size:"small",fieldType:"dropdown",default:"",options:[{label:"Received Wrong Product",value:"Received wrong product"},{label:"Wrong Product Ordered",value:"Wrong product ordered"},{label:"Not Satisfied With The Product",value:"Not satisfied with the product"},{label:"There Was A Problem With The Product",value:"There was a problem with the product"}]},{name:"return_action",label:"Return action",required:!0,xs:12,variant:"filled",size:"small",fieldType:"dropdown",default:"",options:[{label:"Repair",value:"Repair"},{label:"Replacement",value:"Replacement"},{label:"Store Credit",value:"Store credit"}]},{name:"return_comments",label:"Comment",required:!1,xs:12,rows:5,variant:"filled",size:"small",fieldType:"multiline",default:""}],Jt=we("div")(({isHeader:r,isMobile:e})=>({display:"flex",wordBreak:"break-word",padding:"8px 0 0",gap:"8px",flexWrap:e?"wrap":"initial",...r?{borderBottom:"1px solid #D9DCE9",paddingBottom:"8px",alignItems:"center"}:{alignItems:"flex-start"},...e?{borderTop:"1px solid #D9DCE9",padding:"12px 0 12px","&:first-of-type":{marginTop:"12px"}}:{}})),Se=we("div")(({width:r,padding:e="0",flexBasis:t,textAlignLocation:n})=>({display:"flex",flexGrow:r?0:1,flexShrink:r?0:1,alignItems:"flex-start",justifyContent:n==="right"?"flex-end":"flex-start",flexBasis:t,width:r,padding:e})),et=we("div")(()=>({fontSize:"0.875rem",lineHeight:"1.5",color:"#263238"})),Oi=we("img")(()=>({width:"60px",borderRadius:"4px",flexShrink:0})),ji=we("div")(()=>({fontSize:"0.75rem",lineHeight:"1.5",color:"#455A64"})),Ei={default:{width:"15%"}},Bi={default:{width:"100%",padding:"0 0 0 128px"}};function Ri(r){const{products:e,getProductQuantity:t=f=>f.editQuantity,onProductChange:n=()=>{},setCheckedArr:i=()=>{},setReturnArr:a=()=>{},textAlign:u="left",type:c}=r,l=ve(),[m]=ke(),[g,h]=_.useState([]),[k,E]=_.useState([]),y=(f,L)=>{const A=parseFloat(L.toString())||0;return(parseInt(f.toString(),10)||0)*A},I=m?Bi:Ei,P=()=>{if([...g].length===e.length)h([]),E([]);else{const L=e.map(N=>N.variant_id),A=[];e.forEach((N,q)=>{A[q]={returnId:N.id,returnQty:Number(N.editQuantity)}}),h(L),E(A)}},D=(f,L,A)=>{const N=[...g],q=[...k],Z=N.findIndex(Q=>Q===f),F=q.findIndex(Q=>Q.returnId===L);Z!==-1?(N.splice(Z,1),q.splice(F,1)):(N.push(f),q.push({returnId:L,returnQty:A})),h(N),E(q)},C=f=>g.includes(f),O=f=>L=>{const A=f,N=L.target.value;Number(N)>=0&&Number(N)<=1e6&&(A.editQuantity=N,c==="return"&&(Number(N)>Number(f.quantity)?(A.editQuantity=f.quantity,ue.error(l("purchasedProducts.error.returnedQuantityShouldBeWithinThePurchase"))):(k.forEach(q=>{const Z=q;Z.returnId===f.id&&(Z.returnQty=Number(N))}),a(k))),n([...e]))},j=f=>{["KeyE","Equal","Minus"].indexOf(f.code)>-1&&f.preventDefault()},U=f=>()=>{const L=f;(!f.editQuantity||Number(f.editQuantity)===0)&&(L.editQuantity="1",n([...e]))};return _.useEffect(()=>{i(g)},[g]),_.useEffect(()=>{a(k)},[k]),e.length>0?s.jsxs(J,{children:[!m&&s.jsxs(Jt,{isHeader:!0,isMobile:m,children:[s.jsx(St,{checked:g.length===e.length,onChange:P}),s.jsx(Se,{children:s.jsx(et,{children:l("orderDetail.reorder.product")})}),s.jsx(Se,{textAlignLocation:u,...I.default,children:s.jsx(et,{children:l("orderDetail.reorder.price")})}),s.jsx(Se,{textAlignLocation:u,...I.default,children:s.jsx(et,{children:l("orderDetail.reorder.qty")})}),s.jsx(Se,{textAlignLocation:u,...I.default,children:s.jsx(et,{children:l("orderDetail.reorder.total")})})]}),m&&s.jsx(Sn,{label:"Select all products",control:s.jsx(St,{checked:g.length===e.length,onChange:P}),sx:{paddingLeft:"0.6rem"}}),e.map(f=>s.jsxs(Jt,{isMobile:m,role:"group","aria-labelledby":"group-label-".concat(f.id),children:[s.jsx(St,{checked:C(f.variant_id),onChange:()=>D(f.variant_id,f.id,Number(f.editQuantity))}),s.jsxs(Se,{children:[s.jsx(Oi,{src:f.imageUrl||Nn}),s.jsxs(J,{sx:{marginLeft:"16px"},children:[s.jsx(Y,{variant:"body1",color:"#212121",id:"group-label-".concat(f.id),children:f.name}),s.jsx(Y,{variant:"body1",color:"#616161",children:f.sku}),(f.product_options||[]).map(L=>s.jsx(ji,{children:"".concat(L.display_name,": ").concat(L.display_value)},L.id))]})]}),s.jsxs(Se,{textAlignLocation:u,padding:"10px 0 0",...I.default,children:[m&&s.jsxs("span",{children:[l("orderDetail.reorder.price")," "]}),rt(f.base_price)]}),s.jsx(Se,{textAlignLocation:u,...I.default,children:s.jsx(Pn,{type:"number",variant:"filled",hiddenLabel:!m,label:m?l("orderDetail.reorder.qty"):"",value:t(f),onChange:O(f),onKeyDown:j,onBlur:U(f),size:"small",sx:{width:m?"60%":"80px","& .MuiFormHelperText-root":{marginLeft:"0",marginRight:"0"}},error:!!f.helperText,helperText:f.helperText})}),s.jsxs(Se,{textAlignLocation:u,padding:"10px 0 0",...I.default,children:[m&&s.jsxs("span",{children:[l("orderDetail.reorder.total")," "]}),rt(y(t(f),f.base_price))]})]},f.sku))]}):null}const Mi=()=>{const r=Bn.get("XSRF-TOKEN");if(r)return decodeURIComponent(r)};function Ui({open:r,products:e=[],type:t,currentDialogData:n=void 0,setOpen:i,itemKey:a,orderId:u}){const c=Ot(),l=oe(ct),[m,g]=_.useState(!1),[h,k]=_.useState(!1),[E,y]=_.useState([]),[I,P]=_.useState([]),[D,C]=_.useState(!1),[O,j]=_.useState([]),[U,f]=_.useState([]),[L]=_.useState(Ni()),[A]=ke(),{control:N,handleSubmit:q,getValues:Z,formState:{errors:F},setValue:Q}=ni({mode:"all"}),W=ve(),te=()=>{i(!1)},T=async(R,H,B)=>{if(!Object.keys(R).length||!H.length){ue.error(W("purchasedProducts.error.selectOneItem"));return}const pe=H.reduce((ae,xe)=>{const qe=ae,ze="return_qty[".concat(xe.returnId,"]");return qe[ze]=xe.returnQty,ae},R);pe.authenticity_token=Mi(),pe.order_id=B;const $=new URLSearchParams(pe),ne={method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},referrer:"".concat(Vt,"/account.php?action=new_return&order_id=").concat(B),body:$,mode:"no-cors"};try{C(!0);const ae=await fetch("".concat(Vt,"/account.php?action=save_new_return"),ne);ae.status===200&&ae.url.includes("saved_new_return")?ue.success(W("purchasedProducts.success.successfulApplication")):ue.error("purchasedProducts.error.failedApplication"),C(!1),te()}catch(ae){Nt.error(ae)}},X=()=>{q(R=>{T(R,U,u)})()},p=(R,H)=>{let B=!0;return H.forEach(pe=>{const $=(R||[]).find(We=>We.variantSku.toUpperCase()===pe.toUpperCase()),ne=E.find(We=>We.sku===pe);if(!$||!ne)return;const{maxQuantity:ae=0,minQuantity:xe=0,stock:qe=0,isStock:ze="0"}=$,Fe=(ne==null?void 0:ne.editQuantity)||1;ze==="1"&&Fe>qe?(ne.helperText=W("purchasedProducts.outOfStock"),B=!1):xe!==0&&Fe<xe?(ne.helperText=W("purchasedProducts.minQuantity",{minQuantity:xe}),B=!1):ae!==0&&Fe>ae?(ne.helperText=W("purchasedProducts.maxQuantity",{maxQuantity:ae}),B=!1):ne.helperText=""}),B||y([...E]),B},d=async()=>{C(!0);try{const R=[],H=[];if(E.forEach($=>{O.includes($.variant_id)&&(R.push({quantity:parseInt("".concat($.editQuantity),10)||1,productId:$.product_id,variantId:$.variant_id,optionSelections:($.product_options||[]).map(ne=>({optionId:ne.product_option_id,optionValue:ne.value})),allOptions:$.product_options}),H.push($.sku))}),H.length<=0)return;if(!p(I,H)){ue.error(W("purchasedProducts.error.fillCorrectQuantity"));return}const B=await jn(R);B&&(B.data.cart.createCart||B.data.cart.addCartLineItems)?(i(!1),ue.success(W("orderDetail.reorder.productsAdded"),{action:{label:W("orderDetail.reorder.viewCart"),onClick:()=>{window.b2b.callbacks.dispatchEvent("on-click-cart-button")&&(window.location.href=En)}}}),oi()):B.errors&&ue.error(B.errors[0].message)}catch(R){if(R instanceof Error)ue.error(R.message);else if(typeof R=="object"&&R!==null&&"detail"in R){const H=R;ue.error(H.detail)}}finally{C(!1)}},v=()=>{if(O.length===0&&ue.error(W("purchasedProducts.error.selectOneItem")),t==="shoppingList"){if(O.length===0)return;te(),k(!0)}t==="reOrder"&&d(),t==="return"&&X()},x=()=>{g(!1),k(!0)},b=()=>{k(!1)},z=async R=>{C(!0);try{const B=E.map($=>{const{product_id:ne,variant_id:ae,editQuantity:xe,product_options:qe}=$;return{productId:Number(ne),variantId:ae,quantity:Number(xe),optionList:qe.map(ze=>{const{product_option_id:Fe,value:We}=ze;return{optionId:"attribute[".concat(Fe,"]"),optionValue:We}})}}).filter($=>O.includes(Number($.variantId)));await(l?ai:ui)({shoppingListId:Number(R),items:B}),ue.success(W("orderDetail.addToShoppingList.productsAdded"),{action:{label:W("orderDetail.viewShoppingList"),onClick:()=>{c("/shoppingList/".concat(R))}}}),k(!1)}finally{C(!1)}},K=()=>{k(!1),g(!0)},me=()=>{g(!1),k(!0)};_.useEffect(()=>{if(!r)return;y(e.map(H=>({...H,editQuantity:H.quantity}))),(async()=>{const B=e.filter($=>$==null?void 0:$.isVisible).map($=>$.sku);if(B.length===0)return;const{variantSku:pe=[]}=await On(B);P(pe)})()},[l,r,e]);const le=R=>{y(R)};return s.jsxs(s.Fragment,{children:[s.jsx(J,{sx:{ml:3,width:"50%"},children:s.jsxs(lr,{isOpen:r,fullWidth:!0,handleLeftClick:te,handRightClick:v,title:(n==null?void 0:n.dialogTitle)||"",rightSizeBtn:(n==null?void 0:n.confirmText)||"Save",maxWidth:"md",loading:D,children:[s.jsx(Y,{sx:{margin:A?"0 0 1rem":"1rem 0"},children:(n==null?void 0:n.description)||""}),s.jsx(Ri,{products:E,onProductChange:le,setCheckedArr:j,setReturnArr:f,textAlign:A?"left":"right",type:t}),t==="return"&&s.jsxs(s.Fragment,{children:[s.jsx(Y,{variant:"body1",sx:{margin:"20px 0"},children:W("purchasedProducts.orderDialog.additionalInformation")}),s.jsx(ii,{formFields:L,errors:F,control:N,getValues:Z,setValue:Q})]})]})}),a==="order-summary"&&s.jsx(si,{isOpen:h,dialogTitle:W("purchasedProducts.orderDialog.addToShoppingList"),onClose:b,onConfirm:z,onCreate:K,isLoading:D,setLoading:C}),a==="order-summary"&&s.jsx(ci,{open:m,onChange:x,onClose:me})]})}const qi=we("div")(()=>({})),zi=we("div")(r=>({flexWrap:"wrap",padding:r.isShowButtons?"0 1rem 1rem 1rem":0,"& button":{marginLeft:"0",marginRight:"8px",margin:"8px 8px 0 0"}})),Fi=we("div")(r=>({display:"flex",justifyContent:"space-between",fontWeight:r.nameKey==="grandTotal"?700:400,"& p":{marginTop:0,marginBottom:r.nameKey==="grandTotal"?"0":"12px",lineHeight:1}})),Wi=we("div")(()=>({display:"flex",justifyContent:"space-between",fontWeight:400}));function Gi(r){const{header:e,subtitle:t,buttons:n,infos:i,products:a,itemKey:u,orderId:c,role:l,invoiceId:m,ipStatus:g,isCurrentCompany:h,switchCompanyId:k}=r,E=["coupon","discountAmount"],y=ve(),I=oe(({b2bFeatures:T})=>T.masqueradeCompany.isAgenting),P=[{dialogTitle:y("orderDetail.orderCard.reorder"),type:"reOrder",description:y("orderDetail.orderCard.reorderDescription"),confirmText:y("orderDetail.orderCard.reorderConfirmText")},{dialogTitle:y("orderDetail.orderCard.return"),type:"return",description:y("orderDetail.orderCard.returnDescription"),confirmText:y("orderDetail.orderCard.returnConfirmText")},{dialogTitle:y("orderDetail.orderCard.addToShoppingList"),type:"shoppingList",description:y("orderDetail.orderCard.addToShoppingListDescription"),confirmText:y("orderDetail.orderCard.addToShoppingListConfirmText")}],D=Ot(),[C,O]=_.useState(!1),[j,U]=_.useState(!1),[f,L]=_.useState(""),[A,N]=_.useState(),q=n.filter(T=>T.isCanShow).length>0;let Z=[],F=[];if(typeof i!="string"){const{info:T}=i;Z=Object.keys(T),F=Object.values(T)}const Q=()=>!h&&k?(O(!0),!0):!1,W=T=>{if(T==="viewInvoice")g!==0?D("/invoice?invoiceId=".concat(m)):di(c,"b2b_print_invoice");else if(T==="printInvoice")window.open("/account.php?action=print_invoice&order_id=".concat(c));else{if(Q())return;if(!I&&Number(l)===3){ue.error(y("orderDetail.orderCard.errorMasquerade"));return}U(!0),L(T);const p=P.find(d=>d.type===T);N(p)}};let te=F==null?void 0:F.map(T=>s.jsx(Wi,{children:T},T));if(typeof i=="string")te=i;else if(i!=null&&i.money){const T=(i==null?void 0:i.symbol)||{};te=Z==null?void 0:Z.map((X,p)=>s.jsxs(_.Fragment,{children:[T[X]==="grandTotal"&&s.jsx(Cn,{sx:{marginBottom:"1rem",marginTop:"0.5rem"}}),s.jsxs(Fi,{nameKey:T[X],"aria-label":X,role:"group",children:[s.jsx("p",{id:"item-name-key",children:X})," ",E.includes(T[X])?s.jsx("p",{children:i!=null&&i.money?"-".concat(Xt(i.money,F[p])):"-".concat(rt(F[p]))}):s.jsx("p",{children:i!=null&&i.money?Xt(i.money,F[p]):rt(F[p])})]},X)]},X))}return s.jsxs(ot,{sx:{marginBottom:"1rem"},children:[s.jsxs(J,{sx:{padding:"1rem 1rem 0 1rem"},children:[s.jsx(Y,{variant:"h5",children:e}),t&&s.jsx("div",{children:t})]}),s.jsx(st,{children:s.jsx(J,{sx:{"& #item-name-key":{maxWidth:"70%",wordBreak:"break-word"}},children:te})}),s.jsx(zi,{isShowButtons:q,children:n&&n.map(T=>s.jsx(_.Fragment,{children:T.isCanShow&&s.jsx(qn,{value:T.value,name:T.name,variant:T.variant,onClick:ti(()=>{W(T.name)},2e3),children:T.value},T.key)},T.key))}),s.jsx(Ui,{open:j,products:a,currentDialogData:A,type:f,setOpen:U,itemKey:u,orderId:Number(c)}),s.jsx(ri,{open:C,currentRow:{companyId:Number(k||0)},handleClose:()=>O(!1),title:y("orderDetail.switchCompany.title"),context:y("orderDetail.switchCompany.content.tipsText"),dialogParams:{rightSizeBtn:y("global.B2BSwitchCompanyModal.confirm.button")}})]})}function $i(r){const{detailsData:e,isCurrentCompany:t}=r,n=ve(),i=oe(ct),a=oe(({company:b})=>b.customer.emailAddress),u=oe(({company:b})=>b.customer.role),c=oe(Rn),{state:{shoppingListEnabled:l=!1}}=_.useContext(pr),{state:{addressLabelPermission:m,createdEmail:g}}=_.useContext(Re),{money:h,orderSummary:{createAt:k,name:E,priceData:y,priceSymbol:I}={},payment:{billingAddress:P,paymentMethod:D,dateCreateAt:C}={},orderComments:O="",products:j,orderId:U,ipStatus:f=0,invoiceId:L,poNumber:A,customerId:N,companyInfo:{companyId:q}={}}=e,Z=_.useCallback(()=>{let b="";return k&&(A?b=n("orderDetail.paidWithPo",{paidDate:Pt(k,!0)}):b=n("orderDetail.paidInFull",{paidDate:Pt(k,!0)})),b},[A,k,n]);if(!U)return null;const{purchasabilityPermission:F,shoppingListCreateActionsPermission:Q}=c,{getInvoicesPermission:W}=Mn,te=Un({code:W,companyId:q?Number(q):0,userId:N?Number(N):0}),T=b=>{if(m)return b;const z=b.indexOf("/");return b.substring(z+1,b.length)},X=b=>{if(!b)return{};const{first_name:z,last_name:K,company:me,street_1:le,state:R,zip:H,country:B,city:pe}=b||{};return{paymentMethod:n("orderDetail.paymentMethod",{paymentMethod:D!=null?D:""}),name:n("orderDetail.customerName",{firstName:z,lastName:K}),company:T(me),street:le,address:n("orderDetail.customerAddress",{city:pe,state:R,zip:H,country:B})}},p=b=>{const z=b.split(/\n/g),K={},me=["-------------------------------------"];return z.forEach((le,R)=>{if(le.trim().length>0){let B=le.trim().includes(":")?le:n("orderDetail.itemComments",{item:le});me.includes(le)&&(B=le),K["mes".concat(R)]=B}}),K},d=[{value:n("orderDetail.reorder"),key:"Re-Order",name:"reOrder",variant:"outlined",isCanShow:i?F:!0},{value:n("orderDetail.return"),key:"Return",name:"return",variant:"outlined",isCanShow:!1},{value:n("orderDetail.addToShoppingList"),key:"add-to-shopping-list",name:"shoppingList",variant:"outlined",isCanShow:i?Q&&l:l}],v=Number(f)!==0||g===a,x=[{header:n("orderDetail.summary"),key:"order-summary",subtitle:C&&E?n("orderDetail.purchaseDetails",{name:E,updatedAt:Pt(Number(C))}):"",buttons:d,infos:{money:h,info:y||{},symbol:I||{}}},{header:n("orderDetail.payment"),key:"payment",subtitle:Z(),buttons:[{value:n(i?"orderDetail.viewInvoice":"orderDetail.printInvoice"),key:"aboutInvoice",name:i?"viewInvoice":"printInvoice",variant:"outlined",isCanShow:i?v&&te:v}],infos:{info:X(P)}},{header:n("orderDetail.comments"),key:"order-comments",subtitle:"",buttons:[],infos:{info:p(O)}}];return s.jsx(qi,{children:x&&x.map(b=>_.createElement(Gi,{products:j,orderId:U.toString(),...b,itemKey:b.key,role:u,ipStatus:f,invoiceId:L,key:b.key,isCurrentCompany:t,switchCompanyId:q}))})}const Zi=r=>{var i;const e=r.get("content-disposition"),n=((i=e==null?void 0:e.split(";"))!=null?i:[]).find(a=>a.trim().startsWith("filename="));return n?JSON.parse(n.split("=")[1]):""},Ki=(r,e)=>{const t=document.createElement("a");t.style.display="none",t.href=URL.createObjectURL(r),t.setAttribute("download",e),document.body.appendChild(t),t.click()},Hi=async r=>{const e=await fetch(r),t=await e.blob();if(t.type==="text/html")throw new Error;const n=Zi(e.headers);Ki(t,n)};function Vi({isOpen:r,onClose:e,product:t}){var c;const n=An(),i=ve(),a=n.palette.primary.main,u=async l=>{try{await Hi(l)}catch(m){ue.error(i("orderDetail.digitalProducts.fileNotAvailable"))}};return s.jsx(lr,{isOpen:r,fullWidth:!0,handleLeftClick:e,title:i("orderDetail.digitalProducts.filesToDownload"),leftSizeBtn:i("orderDetail.digitalProducts.close"),maxWidth:"md",showRightBtn:!1,children:(c=t==null?void 0:t.downloadFileUrls)==null?void 0:c.map((l,m)=>{const g="".concat(t==null?void 0:t.product_id,"-").concat(m);return s.jsxs(J,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"8px 0",margin:"15px 0 15px 0",borderWidth:"1px",borderStyle:"solid",borderColor:a,borderRadius:"10px",p:2},children:[s.jsxs(J,{sx:{display:"flex"},children:[s.jsx(Qn,{sx:{color:a,fontSize:"40px"}}),s.jsx(Y,{sx:{color:a,fontSize:"14px",alignSelf:"center"},children:"".concat(t==null?void 0:t.name," ").concat(m+1)})]}),s.jsx(In,{onClick:()=>u(l),sx:{color:a,textDecoration:"none",fontSize:"14px"},children:i("orderDetail.digitalProducts.download")})]},g)})})}const Xi="\n  query GetDigitalDownloadLinks($orderId: Int!) {\n    site {\n      order(filter: {entityId: $orderId}) {\n        consignments {\n          downloads {           \n            lineItems {\n              edges {\n                node {\n                  name\n                  downloadPageUrl\n                  downloadFileUrls\n                  productEntityId\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n",Ji=r=>Ie.graphqlBCProxy({query:Xi,variables:{orderId:r}}).then(e=>{var t;return((t=e.data.site.order.consignments.downloads[0])==null?void 0:t.lineItems.edges)||[]});function Qi({isCurrentCompany:r}){const{state:{billingAddress:e,digitalProducts:t=[],addressLabelPermission:n,orderId:i,money:a}}=_.useContext(Re),[u]=ke(),c=ve(),[l,m]=_.useState([]),[g,h]=_.useState();_.useEffect(()=>{i&&(async D=>{const C=await Ji(D);if(!C.length)return;const O=C.map(U=>U.node),j=t.map(U=>{var L;const f=((L=O.find(({productEntityId:A})=>A===U.product_id))==null?void 0:L.downloadFileUrls)||[];return{...U,downloadFileUrls:f}});m(j)})(i)},[t,i]);const k=P=>{const D=l==null?void 0:l.find(C=>C.product_id===P);h(D)},E=P=>{if(P){const{first_name:D,last_name:C}=P;return"".concat(D," ").concat(C)}return""},y=P=>{if(P){const{street_1:D,city:C,state:O,zip:j,country:U}=P;return"".concat(D,", ").concat(C,", ").concat(O," ").concat(j,", ").concat(U)}return""},I=P=>{if(n)return P;const D=P.indexOf("/");return P.substring(D+1,P.length)};return e?s.jsx(Lt,{spacing:2,children:s.jsxs(ot,{children:[s.jsxs(st,{children:[s.jsxs(J,{sx:{wordBreak:"break-word",color:"rgba(0, 0, 0, 0.87)"},children:[s.jsxs(Y,{variant:"h6",sx:{fontSize:"24px",fontWeight:"400"},children:[E(e)," – ",I(e.company||"")]}),s.jsx(Y,{variant:"h6",sx:{fontSize:"24px",fontWeight:"400"},children:y(e)})]}),s.jsx(J,{sx:{margin:"20px 0 2px"},children:s.jsx(Y,{variant:"body1",sx:{fontWeight:"bold",color:"#313440"},children:c("orderDetail.billing.digitalProducts")})}),s.jsx(It,{products:l.length?l:t||[],totalText:"Total",canToProduct:r,textAlign:u?"left":"right",money:a,getCurrentProductUrls:k})]}),s.jsx(Vi,{isOpen:!!g,onClose:()=>h(void 0),product:g})]},"billing-".concat(i))}):null}const Yi=we("div")(()=>({"& > .MuiPaper-root":{boxShadow:"none"},"& table":{"& td, & th":{"&:first-of-type":{paddingLeft:0}}}}));function ea(){const r=ve(),{state:{history:e=[],orderStatus:t=[],customStatus:n}}=_.useContext(Re),[i]=ke(),a=c=>{const l=t.find(g=>g.systemLabel===c);let m=(l==null?void 0:l.customLabel)||n;if(l){const g=dr[l.systemLabel];m=g&&r(g)!==l.systemLabel?r(g):m}return m},u=[{key:"time",title:r("orderDetail.history.dateHeader"),render:c=>"".concat(zn(c.createdAt)),width:i?"100px":"200px"},{key:"code",title:r("orderDetail.history.statusHeader"),render:c=>s.jsx(hr,{code:c.status,text:a(c.status)})}];return e.length>0?s.jsx(ot,{children:s.jsxs(st,{sx:{paddingBottom:"50px"},children:[s.jsx(Y,{variant:"h5",children:r("orderDetail.history.title")}),s.jsx(Yi,{children:s.jsx(Fn,{columnItems:u,listItems:e,showPagination:!1})})]})}):null}var be={};const ta="Amazon",ra="amazon",na=[{name:"Amazon Logistics",id:"amazon_logistics",regex:["\\s*T\\s*B\\s*A\\s*(?<SerialNumber>([0-9]\\s*){12,12})\\s*"],validation:{},test_numbers:{valid:["TBA000000000000","TBA010000000000","TBA 000000000000","TBA502887274000"],invalid:["TBA50288727400A","000000000000000","000000000000","TBB000000000000"]}},{name:"Amazon International",id:"amazon_international",regex:["\\s*[AFC]\\s*(?<SerialNumber>([0-9]\\s*){10,10})\\s*"],validation:{},test_numbers:{valid:["C1004444443","C1004444444"],invalid:["D1234567890"]}}],ia={name:ta,courier_code:ra,tracking_numbers:na},aa="DHL",ua="dhl",oa=[{name:"DHL Express",id:"dhl_express",regex:"\\s*(?<SerialNumber>([0-9]\\s*){9,10})(?<CheckDigit>([0-9]\\s*))",validation:{checksum:{name:"mod7"}},tracking_url:"http://www.dhl.com/en/express/tracking.html?brand=DHL&AWB=%s",test_numbers:{valid:["3318810025","73891051146","8487135506","1099255990","3821724944","3318810036","3318810014"],invalid:["3318810010","3318810034","3318810011"]}},{name:"DHL Express (Piece ID)",id:"dhl_express_piece_id",regex:"\\s*(J[A-Z]{2,3})(?<SerialNumber>([0-9]\\s*){9,10})",validation:{},tracking_url:"http://www.dhl.com/en/express/tracking.html?brand=DHL&AWB=%s",test_numbers:{valid:["JJD0099999999","JVGL0999999990"],invalid:["XJD0099999998"]}},{name:"DHL E-Commerce",id:"dhl_ecommerce",regex:"\\s*((GM)|(LX)|(RX)|(UV)|(CN)|(SG)|(TH)|(IN)|(HK)|(MY))\\s*(?<SerialNumber>([0-9]\\s*){10,39})",validation:{},tracking_url:"http://www.dhl.com/en/express/tracking.html?brand=DHL&AWB=%s",test_numbers:{valid:["GM2951173225174494","GM 2 9 5 117 32 25 1 7 44 9 4","GM295117494011169042"],invalid:["GS295117494011169041","GR295117494011169045"]}}],sa={name:aa,courier_code:ua,tracking_numbers:oa},ca="FedEx",la="fedex",pa=[{name:"FedEx Express (12)",id:"fedex_12",regex:"\\s*(?<SerialNumber>([0-9]\\s*){11})(?<CheckDigit>[0-9]\\s*)",validation:{checksum:{name:"sum_product_with_weightings_and_modulo",weightings:[3,1,7,3,1,7,3,1,7,3,1],modulo1:11,modulo2:10}},tracking_url:"https://www.fedex.com/apps/fedextrack/?tracknumbers=%s",test_numbers:{valid:["986578788855","477179081230","799531274483","790535312317"," 7 9 0 5 3 5 3 1 2 3 1 7 ","974367662710"],invalid:["996578788855"]}},{name:"FedEx Express (34)",id:"fedex_34",regex:["\\s*1\\s*0\\s*[0-9]\\s*[0-9]\\s*[0-9]\\s*","([0-9]\\s*){10}","(?<DestinationZip>([0-9]\\s*){5})","(?<SerialNumber>([0-9]\\s*){13})","(?<CheckDigit>[0-9]\\s*)"],validation:{checksum:{name:"sum_product_with_weightings_and_modulo",weightings:[1,7,3,1,7,3,1,7,3,1,7,3,1],modulo1:11,modulo2:10}},tracking_url:"https://www.fedex.com/apps/fedextrack/?tracknumbers=%s",test_numbers:{valid:["1001921334250001000300779017972697","1001921380360001000300639585804382","1001901781990001000300617767839437"," 1 0 0 1 9 0 1 7 8 1 9 9 0 0 0 1 0 0 0 3 0 0 6 1 7 7 6 7 8 3 9 4 3 7 ","1002297871540001000300790695517286","1027590111820004833500785458233610"],invalid:["1001901781990001000300617767839438"]}},{name:"FedEx SmartPost",id:"fedex_smartpost",description:"Shipped by FedEx, Delivered by USPS",regex:["\\s*(?:","(?:(?<RoutingApplicationId>4\\s*2\\s*0\\s*)(?<DestinationZip>([0-9]\\s*){5}))?","(?<ApplicationIdentifier>9\\s*2\\s*)",")?","(?<SerialNumber>","(?<SCNC>([0-9]\\s*){2})","(?<ServiceType>2\\s*9\\s*)","(?<ShipperId>([0-9]\\s*){8})","(?<PackageId>([0-9]\\s*){11}|([0-9]\\s*){7})",")","(?<CheckDigit>([0-9]\\s*))"],additional:[{name:"Service Type",regex_group_name:"ServiceType",lookup:[{matches_regex:".",name:"Delivered by USPS"}]}],partners:[{partner_id:"usps_91",partner_type:"carrier",description:"FedEx SmartPost is a shipping service that utilizes FedEx for the initial transport and the United States Postal Service for final delivery."}],validation:{checksum:{name:"mod10",evens_multiplier:3,odds_multiplier:1},serial_number_format:{prepend_if:{matches_regex:"^(?!92).+",content:"92"}}},tracking_url:"https://www.fedex.com/apps/fedextrack/?tracknumbers=%s",test_numbers:{valid:["61299998820821171811","9261292700768711948021","420 11213 92 6129098349792366623 8","92 6129098349792366623 8","6129098349792366623 8"],invalid:["9261292700768711948020","92001903060085300042901077","420 11213 61290983497923666231","92 6129098349792366623 5","9400 1112 0108 0805 4830 16","9361 2898 7870 0317 6337 95"]}},{name:"FedEx Ground",id:"fedex_ground",regex:"\\s*(?<SerialNumber>([0-9]\\s*){14})(?<CheckDigit>([0-9]\\s*))",validation:{checksum:{name:"mod10",evens_multiplier:1,odds_multiplier:3}},tracking_url:"https://www.fedex.com/apps/fedextrack/?tracknumbers=%s",test_numbers:{valid:["0414 4176 0228 964","5682 8361 0012 000"," 5 6 8 2   8 3 6 1   0 0 1 2   0 0 0 ","5682 8361 0012 734"],invalid:["5682 8361 0012 732"]}},{name:"FedEx Ground (SSCC-18)",id:"fedex_ground_sscc_18",regex:"\\s*(?<ShippingContainerType>([0-9]\\s*){2})(?<SerialNumber>([0-9]\\s*){15})(?<CheckDigit>[0-9]\\s*)",tracking_url:"https://www.fedex.com/apps/fedextrack/?tracknumbers=%s",validation:{checksum:{name:"mod10",evens_multiplier:3,odds_multiplier:1}},test_numbers:{valid:["00 0123 4500 0000 0027"," 0 0   0 1 2 3   4 5 0 0   0 0 0 0   0 0 2 7 "],invalid:["000000000000000001"]},additional:[{name:"Container Type",regex_group_name:"ShippingContainerType",lookup:[{matches:"00",name:"case/carton"},{matches:"01",name:"pallet"},{matches:"02",name:"larger than a pallet"},{matches:"04",name:"internally defined for intra-company use"}]}]},{name:"FedEx Ground 96 (22)",id:"fedex_ground_96",regex:["\\s*(?<ApplicationIdentifier>9\\s*6\\s*)","(?<SCNC>([0-9]\\s*){2})","(?<ServiceType>([0-9]\\s*){3})","(?<SerialNumber>(?<ShipperId>([0-9]\\s*){7})(?<PackageId>([0-9]\\s*){7}))","(?<CheckDigit>[0-9]\\s*)"],validation:{checksum:{name:"mod10",evens_multiplier:1,odds_multiplier:3}},tracking_url:"https://www.fedex.com/apps/fedextrack/?tracknumbers=%s",test_numbers:{valid:["9611020987654312345672"," 9 6 1 1 0 2 0 9 8 7 6 5 4 3 1 2 3 4 5 6 7 2 "],invalid:["9600000000000000000001"]}},{name:"FedEx Ground GSN",id:"fedex_ground_gsn",regex:["\\s*(?<ApplicationIdentifier>9\\s*6\\s*)","(?<SCNC>([0-9]\\s*){2})","([0-9]\\s*){5}","(?<GSN>([0-9]\\s*){10})","[0-9]\\s*","(?<SerialNumber>([0-9]\\s*){13})","(?<CheckDigit>[0-9]\\s*)"],validation:{checksum:{name:"sum_product_with_weightings_and_modulo",weightings:[1,7,3,1,7,3,1,7,3,1,7,3,1],modulo1:11,modulo2:10}},tracking_url:"https://www.fedex.com/apps/fedextrack/?tracknumbers=%s",test_numbers:{valid:["9622001900000000000000776632517510","9622001560000000000000794808390594","9622001560001234567100794808390594"," 9 6 2 2 0 0 1 5 6 0 0 0 1 2 3 4 5 6 7 1 0 0 7 9 4 8 0 8 3 9 0 5 9 4 ","9632001560123456789900794808390594"],invalid:["9622001560001234567100794808390595","9622001560001234567100794808390597"]}}],ha={name:ca,courier_code:la,tracking_numbers:pa},da="OnTrac",ma="ontrac",fa=[{name:"OnTrac",id:"ontrac_c",regex:"\\s*C\\s*(?<SerialNumber>([0-9]\\s*){13})(?<CheckDigit>[0-9]\\s*)",validation:{checksum:{name:"mod10",evens_multiplier:1,odds_multiplier:2},serial_number_format:{prepend_if:{matches_regex:"^(?!4).+$",content:"4"}}},tracking_url:"http://www.ontrac.com/tracking/?number=%s",test_numbers:{valid:["C11031500001879","C 110 31 500 00187 9","C10999911320231","C11121552953069","C11121553156000","C11121552829468"],invalid:["C10000000000000","C11031500001889"]}},{name:"OnTrac D",id:"ontrac_d",regex:"\\s*D\\s*(?<SerialNumber>([0-9]\\s*){13})(?<CheckDigit>[0-9]\\s*)",validation:{checksum:{name:"mod10",evens_multiplier:1,odds_multiplier:2},serial_number_format:{prepend_if:{matches_regex:"^(?!5).+$",content:"5"}}},tracking_url:"http://www.ontrac.com/tracking/?number=%s",test_numbers:{valid:["D10011354453707","D10011345983010","D 100 113 459 830 10","D10011342332145"],invalid:["D10011345983012","D10011342332144"]}}],wa={name:da,courier_code:ma,tracking_numbers:fa},ga="S10 International Standard",ya="s10",va=JSON.parse('[{"id":"s10","name":"S10","validation":{"checksum":{"name":"s10"},"additional":{"exists":["Courier"]}},"regex":"\\\\s*(?<ServiceType>([A-Z]\\\\s*){2})(?<SerialNumber>([0-9]\\\\s*){8})(?<CheckDigit>([0-9]\\\\s*))(?<CountryCode>([A-Z]\\\\s*){2})","tracking_url":null,"test_numbers":{"valid":["RB123456785GB","RB123456785US","RB123456785CV","RB123456785CF"],"invalid":["RB123456786US","RB123456785XX"]},"additional":[{"name":"Service Type","regex_group_name":"ServiceType","lookup":[{"name":"EMS","matches_regex":"E[A-Z]","description":"International Express Mail Service"},{"name":"Letter Post Express","matches_regex":"L[A-Z]","description":""},{"name":"Letter Post M-bag","matches_regex":"M[A-Z]","description":"Direct sacks of printed matter sent to a single foreign addressee at a single address"},{"name":"Letter Post IBRS","matches_regex":"Q[A-M]","description":"International Business Reply Service"},{"name":"Letter Post Registered","matches_regex":"R[A-Z]","description":"Prepaid first-class mail that is recorded by the post office before being sent and at each point along its route to safeguard against loss, theft, or damage."},{"name":"Letter Post Misc","matches_regex":"U[A-Z]","description":""},{"name":"Letter Post Insured","matches_regex":"V[A-Z]","description":""},{"name":"Parcel Post","matches_regex":"C[A-Z]","description":""},{"name":"Parcel Post (e-commerce)","matches_regex":"H[A-Z]","description":""},{"name":"Domestic","matches_regex":"([BDNPZ][A-Z]|A[V-Z]|G[AD])","description":"Mail designated for domestic, bilateral, or multilateral use"}]},{"name":"Courier","regex_group_name":"CountryCode","lookup":[{"matches":"AF","country":"Afghanistan","courier":"Afghan Post","courier_url":"http://postalcode.afghanpost.gov.af/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/afghanistan.html"},{"matches":"AL","country":"Albania","courier":"Posta Shqiptare","courier_url":"http://www.postashqiptare.al/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/western-europe/albania.html"},{"matches":"DZ","country":"Algeria","courier":"Algérie Poste","courier_url":"http://www.poste.dz/codepostal/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/algeria.html"},{"matches":"AO","country":"Angola","courier":"Correios de Angola","courier_url":"http://www.correiosdeangola.co.ao/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/angola.html"},{"country":"Antigua and Barbuda","matches":"AG","courier":"Antigua Postal Services","courier_url":null,"upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/antigua-and-barbuda.html"},{"matches":"AR","country":"Argentina","courier":"Correo Argentino","courier_url":"http://www.correoargentino.com.ar/formularios/cpa","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/argentina.html"},{"matches":"AM","country":"Armenia","courier":"Haypost - Armenian Postal Service","courier_url":"http://www.haypost.am/view-lang-eng-page-25.html","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/armenia.html"},{"matches":"AU","country":"Australia","courier":"Australia Post","courier_url":"http://www1.auspost.com.au/postcodes/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/australia.html"},{"matches":"AT","country":"Austria","courier":"Österreichische Post AG","courier_url":"http://www.post.at/en/index.php","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/western-europe/austria.html"},{"matches":"AZ","country":"Azerbaijan","courier":"Azarpoçt","courier_url":"http://www.azerpost.az/?options=content&id=188&language=en","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/azerbaijan.html"},{"matches":"BS","country":"Bahamas","courier":"Bahamas Postal Service","courier_url":"http://www.bahamas.gov.bs/postalservice","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/bahamas.html"},{"matches":"BH","country":"Bahrain","courier":"Bahrain Post","courier_url":"http://www.transportation.gov.bh/en/modules.php?name=Content&pa=showpage&pid=97","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/bahrain.html"},{"matches":"BD","country":"Bangladesh","courier":"Bangladesh Post Office","courier_url":"http://www.bangladeshpost.gov.bd/PostCode.asp","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/bangladesh.html"},{"matches":"BB","country":"Barbados","courier":"Barbados Postal Service","courier_url":"http://www.bps.gov.bb/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/barbados.html"},{"matches":"BY","country":"Belarus","courier":"Belpochta","courier_url":"http://zip.belpost.by/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/belarus.html"},{"matches":"BE","country":"Belgium","courier":"bpost","courier_url":"http://www.bpost.be/site/fr/residential/customerservice/search/postal_codes.html","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/western-europe/belgium.html"},{"matches":"BZ","country":"Belize","courier":"Belize Postal Service","courier_url":"http://www.belizepostalservice.gov.bz/site/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/belize.html"},{"matches":"BJ","country":"Benin","courier":"La Poste du Bénin","courier_url":"http://www.laposte.bj/index1.php?id_page=1","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/benin.html"},{"matches":"BT","country":"Bhutan","courier":"Bhutan Post","courier_url":"http://www.bhutanpost.com.bt/postcode/postcode.php","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/bhutan.html"},{"matches":"BO","country":"Bolivia","courier":"ECOBOL – Empresa de Correos de Bolivia","courier_url":"http://www.correosbolivia.com/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/bolivia.html"},{"matches":"BA","country":"Bosnia and Herzegovina","courier":"JP BH POŠTA d.o.o. Sarajevo","courier_url":"http://www.post.ba/postanski_brojevi_bih.php","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/bosnia-and-herzegovina.html"},{"matches":"BW","country":"Botswana","courier":"BotswanaPost","courier_url":"http://www.botspost.co.bw/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/botswana.html"},{"matches":"BR","country":"Brazil","courier":"CORREIOS","courier_url":"http://www.buscacep.correios.com.br/servicos/dnec/index.do","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/brazil.html"},{"matches":"BN","country":"Brunei Darussalam","courier":"Brunei Postal Services","courier_url":"http://www.post.gov.bn/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/brunei-darussalam.html"},{"matches":"BG","country":"Bulgaria (Rep.)","courier":"Bulgarian Posts","courier_url":"http://www.bgpost.bg/?cid=131","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/bulgaria-rep.html"},{"matches":"BF","country":"Burkina Faso","courier":"SONAPOST","courier_url":"http://www.sonapost.bf/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/burkina-faso.html"},{"matches":"BI","country":"Burundi","courier":"RNP – Régie nationale des postes","courier_url":"http://www.poste.bi/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/burundi.html"},{"matches":"KH","country":"Cambodia","courier":"Ministry of Posts and Telecommunications","courier_url":"http://www.mptc.gov.kh/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/cambodia.html"},{"matches":"CM","country":"Cameroon","courier":"CAMPOST – Cameroon Postal Services","courier_url":"http://campostonline.com/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/cameroon.html"},{"matches":"CA","country":"Canada","courier":"Canada Post","courier_url":"http://www.canadapost.ca/cpotools/apps/fpc/personal/findByCity?execution=e1s1","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/canada.html"},{"country":"Cape Verde","matches":"CV","courier":"Correios de Cabo Verde","courier_url":"http://www.correios.cv/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/cape-verde.html"},{"country":"Central African Rep.","matches":"CF","courier":"Direction des services postaux de l\'Office National des Postes et de l\'Épargne","courier_url":null,"upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/central-african-rep.html"},{"matches":"TD","country":"Chad","courier":"Société tchadienne des postes et de l\'épargne","courier_url":null,"upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/chad.html"},{"matches":"CL","country":"Chile","courier":"Correos de Chile","courier_url":"http://www.correos.cl/SitePages/home.aspx","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/chile.html"},{"matches":"CN","country":"China (People\'s Rep.)","courier":"China Post","courier_url":"http://www.cpdc.com.cn/web/index.php?m=postsearch&c=index&a=init&t=addr","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/china-peoples-rep.html"},{"matches":"HK","country":"China","courier":"Hong Kong Post","courier_url":"http://www.hongkongpost.hk","upu_reference_url":""},{"matches":"CO","country":"Colombia","courier":"4-72 La Red Postal de Colombia","courier_url":"http://visor.codigopostal.gov.co/472/visor/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/colombia.html"},{"matches":"KM","country":"Comoros","courier":"Societé Nationale des Postes et des Services Financiers","courier_url":"http://www.lapostecomores.com/bureaux.php","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/comoros.html"},{"matches":"CG","country":"Congo (Rep.)","courier":"Congolese Posts and Savings Company","courier_url":null,"upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/congo-rep.html"},{"country":"Costa Rica","matches":"CR","courier":"Correos de Costa Rica","courier_url":"https://www.correos.go.cr/nosotros/codigopostal/busqueda.html","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/costa-rica.html"},{"matches":"HR","country":"Croatia","courier":"Hrvatska Posta - Croatian Post","courier_url":"http://www.posta.hr/default.aspx?pretpum&id=3417","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/western-europe/croatia.html"},{"matches":"CU","country":"Cuba","courier":"Ministerio de la Informática y las comunicaciones de Cuba","courier_url":"http://www.mic.gov.cu/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/cuba.html"},{"matches":"CY","country":"Cyprus","courier":"Cyprus Post","courier_url":"http://www.mcw.gov.cy/mcw/dps/dps.nsf/index_en/index_en?OpenDocument","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/western-europe/cyprus.html"},{"matches":"CZ","country":"Czech Rep.","courier":"Česká Pošta","courier_url":"http://psc.cpost.cz/CleanForm.action?request_locale=en","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/czech-rep.html"},{"matches":"CI","country":"Côte d\'Ivoire (Rep.)","courier":"La Poste de Côte d’Ivoire","courier_url":"http://www.laposte.ci/bureau.php","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/cote-divoire-rep.html"},{"matches":"KP","country":"Dem People\'s Rep. of Korea","courier":"Korea Post and Telecommunications Corporation","courier_url":null,"upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/dem-peoples-rep-of-korea.html"},{"matches":"CD","country":"Democratic Republic of the Congo","courier":"Congolese Posts and Telecommunications Corporation","courier_url":null,"upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/democratic-republic-of-the-congo.html"},{"matches":"DK","country":"Denmark","courier":"Post Danmark","courier_url":"http://www.postdanmark.dk/en/find_postcode/Pages/home.aspx","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/western-europe/denmark.html"},{"matches":"DJ","country":"Djibouti","courier":"La Poste de Djibouti","courier_url":null,"upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/djibouti.html"},{"matches":"DM","country":"Dominica","courier":"General Post Office","courier_url":"http://publicworks.gov.dm/index.php/divisions/general-post-office/20-gpo-about-us","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/dominica.html"},{"matches":"DO","country":"Dominican Republic","courier":"INPOSDOM – Instituto Postal Dominicano","courier_url":"http://www.inposdom.gob.do/servicios/codigo-postal","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/dominican-republic.html"},{"matches":"EC","country":"Ecuador","courier":"Correos del Ecuador","courier_url":"http://www.codigopostal.gob.ec/#","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/ecuador.html"},{"matches":"EG","country":"Egypt","courier":"Egypt Post","courier_url":"http://www.egyptpost.org/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/egypt.html"},{"matches":"SV","country":"El Salvador","courier":"Correos de El Salvador","courier_url":"http://www.correos.gob.sv/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/el-salvador.html"},{"matches":"GQ","country":"Equatorial Guinea","courier":"Equatorial Guinea Post","courier_url":null,"upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/equatorial-guinea.html"},{"matches":"ER","country":"Eritrea","courier":"Eritrean Postal Service","courier_url":"http://www.eriposta.com/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/eritrea.html"},{"matches":"EE","country":"Estonia","courier":"Eesti Post","courier_url":"http://www.post.ee/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/estonia.html"},{"matches":"ET","country":"Ethiopia","courier":"Ethiopian postal service","courier_url":"http://www.ethiopostal.com/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/ethiopia.html"},{"matches":"FJ","country":"Fiji","courier":"Post Fiji","courier_url":"http://www.postfiji.com.fj/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/fiji.html"},{"matches":"FI","country":"Finland (including the Åland Islands)","courier":"Posti Ltd","courier_url":"http://www.verkkoposti.com/e3/english/postalcodecatalog","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/western-europe/finland-including-the-aaland-islands.html"},{"matches":"FR","country":"France","courier":"La Poste","courier_url":"http://www.laposte.fr/Entreprise/Outils-Indispensables/Outils/Trouvez-un-code-postal","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/western-europe/france.html"},{"matches":"GA","country":"Gabon","courier":"La Poste SA","courier_url":"http://www.laposte.ga/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/gabon.html"},{"matches":"GM","country":"Gambia","courier":"Gambia Postal services Corporation","courier_url":"http://www.gampost.gm/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/gambia.html"},{"matches":"GE","country":"Georgia","courier":"Georgian Post","courier_url":"http://www.georgianpost.ge/?site-lang=en&site-path=help/zipcodes/&letter=A","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/georgia.html"},{"matches":"DE","country":"Germany","courier":"Deutsche Post","courier_url":"http://www.postdirekt.de/plzserver/PlzSearchServlet?lang=en_GB&id=viewstreet","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/western-europe/germany.html"},{"matches":"GH","country":"Ghana","courier":"Ghana Post","courier_url":"http://www.ghanapostgh.com/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/ghana.html"},{"country":"Great Britain","matches":"GB","courier":"Royal Mail Group plc","courier_url":"http://www.royalmail.com/postcode-finder?gear=postcode&campaignid=postcodefinder_redirect","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/western-europe/great-britain.html"},{"matches":"GR","country":"Greece","courier":"Hellenic Post ELTA","courier_url":"http://www.elta.gr/en-us/findapostcode.aspx","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/western-europe/greece.html"},{"matches":"GD","country":"Grenada","courier":"Grenada Postal Corporation","courier_url":"http://www.grenadapostal.com/index.html","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/grenada.html"},{"matches":"GT","country":"Guatemala","courier":"El Correo","courier_url":"http://www.elcorreo.com.gt/cdgcorreo/index.php?option=com_content&view=article&id=104&Itemid=233","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/guatemala.html"},{"matches":"GN","country":"Guinea","courier":"Office de la poste guinéenne","courier_url":null,"upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/guinea.html"},{"country":"Guinea-Bissau","matches":"GW","courier":"Correios da Guiné-Bissau","courier_url":null,"upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/guinea-bissau.html"},{"matches":"GY","country":"Guyana","courier":"Guyana Post Office Corporation","courier_url":"http://guypost.gy/gpoc/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/guyana.html"},{"matches":"HT","country":"Haiti","courier":"Office des Postes d’Haiti","courier_url":"http://postehaiti.gouv.ht/notre-reseau-postal","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/haiti.html"},{"matches":"HN","country":"Honduras (Rep.)","courier":"Honducor","courier_url":"http://honducor.gob.hn/codpost/consulta.php","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/honduras-rep.html"},{"matches":"HU","country":"Hungary","courier":"Magyar Posta","courier_url":"http://www.posta.hu/ugyfelszolgalat/iranyitoszam_kereso","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/hungary.html"},{"matches":"IS","country":"Iceland","courier":"Íslandspóstur hf","courier_url":"http://www.postur.is/en/desktopdefault.aspx/tabid-450/700_read-1715/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/western-europe/iceland.html"},{"matches":"IN","country":"India","courier":"India Post","courier_url":"http://www.indiapost.gov.in/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/india.html"},{"matches":"ID","country":"Indonesia","courier":"Pos Indonesia","courier_url":"http://kodepos.indonesiaweb.info/en/street/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/indonesia.html"},{"matches":"IR","country":"Iran (Islamic Rep.)","courier":"Islamic Republic of Iran Post Co.","courier_url":"http://www.post.ir/Homepage.aspx?site=PostPortal&lang=fa-IR&tabid=0","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/iran-islamic-rep.html"},{"matches":"IQ","country":"Iraq","courier":"Iraqi Post","courier_url":"http://www.iraqipost.net/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/iraq.html"},{"matches":"IE","country":"Ireland","courier":"AN Post - regulatory and International affairs Unit","courier_url":"http://locator.anpost.ie/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/western-europe/ireland.html"},{"matches":"IL","country":"Israel","courier":"Israel Post","courier_url":"http://www.israelpost.co.il/zipcode.nsf/demozip?openform","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/israel.html"},{"matches":"IT","country":"Italy","courier":"Poste Italiane","courier_url":"http://www.poste.it/online/cercacap/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/western-europe/italy.html"},{"matches":"JM","country":"Jamaica","courier":"Jamaica Post","courier_url":"http://www.jamaicapost.gov.jm/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/jamaica.html"},{"matches":"JP","country":"Japan","courier":"Japan Post","courier_url":"http://www.post.japanpost.jp/zipcode/index.html","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/japan.html"},{"matches":"JO","country":"Jordan","courier":"Jordan Post","courier_url":"http://www.jordanpost.com.jo/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/jordan.html"},{"matches":"KZ","country":"Kazakhstan","courier":"Kazpost","courier_url":"http://www.kazpost.kz/ru/poisk-pochtovogo-indeksa-0","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/kazakhstan.html"},{"matches":"KE","country":"Kenya","courier":"Posta Kenya","courier_url":"http://www.posta.co.ke/postOfficeFind.asp","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/kenya.html"},{"matches":"KI","country":"Kiribati","courier":"Kiribati Public Service Public","courier_url":null,"upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/kiribati.html"},{"matches":"KR","country":"Korea (Rep.)","courier":"Korea Post","courier_url":"http://www.epost.go.kr/roadAreaCdEng.retrieveRdEngAreaCdList.comm","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/korea-rep.html"},{"matches":"KW","country":"Kuwait","courier":"Kuwait Ministry of Communications","courier_url":"http://moc.kw/English/index.html","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/kuwait.html"},{"matches":"KG","country":"Kyrgyzstan","courier":"Kyrgyz Post","courier_url":"http://kyrgyzpost.kg/ru/news.html","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/kyrgyzstan.html"},{"matches":"LA","country":"Laos","courier":"Entreprise des Postes Lao","courier_url":null,"upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/lao-peoples-dem-rep.html"},{"matches":"LV","country":"Latvia","courier":"Latvia Post","courier_url":"http://www.pasts.lv/lv/uzzinas/parbaudit-adresi/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/latvia.html"},{"matches":"LB","country":"Lebanon","courier":"LibanPost","courier_url":"http://www.libanpost.com.lb/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/lebanon.html"},{"matches":"LS","country":"Lesotho","courier":"Lesotho Post","courier_url":"http://lesothopost.org.ls/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/lesotho.html"},{"matches":"LR","country":"Liberia","courier":"Ministry of Posts and Telecommunications","courier_url":"http://www.mopt.gov.lr/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/liberia.html"},{"matches":"LY","country":"Libya","courier":"Libya Post","courier_url":"http://libyapost.ly/en/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/libya.html"},{"matches":"LI","country":"Liechtenstein","courier":"Liechtensteinische Post AG","courier_url":"http://www.post.li/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/western-europe/liechtenstein.html"},{"matches":"LT","country":"Lithuania","courier":"Lietuvos Pastas","courier_url":"http://www.post.lt/en/help/postal-code-search","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/lithuania.html"},{"matches":"LU","country":"Luxembourg","courier":"Post","courier_url":"http://www.post.lu/en/particuliers/courrier/rechercher-un-code-postal","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/western-europe/luxembourg.html"},{"matches":"MG","country":"Madagascar","courier":"PAOSITRA MALAGASY","courier_url":"http://www.mtpc.gov.mg/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/madagascar.html"},{"matches":"MW","country":"Malawi","courier":"Malawi Posts Corporation","courier_url":"http://www.malawiposts.com/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/malawi.html"},{"matches":"MY","country":"Malaysia","courier":"Pos Malaysia","courier_url":"http://www.pos.com.my/pos/homepage.aspx","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/malaysia.html"},{"matches":"MV","country":"Maldives","courier":"Maldives Post","courier_url":"http://www.maldivespost.com/index.php?lid=10","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/maldives.html"},{"matches":"ML","country":"Mali","courier":"Office national des postes","courier_url":"http://www.laposte.ml/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/mali.html"},{"matches":"MT","country":"Malta","courier":"Malta Post","courier_url":"http://postcodes.maltapost.com/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/western-europe/malta.html"},{"matches":"MR","country":"Mauritania","courier":"MAURIPOST – Société Mauritanienne des Postes","courier_url":"http://www.mauripost.mr/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/mauritania.html"},{"matches":"MU","country":"Mauritius","courier":"Mauritius Post","courier_url":"http://www.mauritiuspost.mu/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/mauritius.html"},{"matches":"MX","country":"Mexico","courier":"Correos de México","courier_url":"http://www.correosdemexico.gob.mx/ServiciosLinea/Paginas/ccpostales.aspx","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/mexico.html"},{"matches":"MD","country":"Moldova","courier":"Posta Moldovei","courier_url":"http://www.posta.md/ro/postal_code.html","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/moldova.html"},{"matches":"MC","country":"Monaco","courier":"La Poste Monaco","courier_url":"http://www.lapostemonaco.mc/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/western-europe/monaco.html"},{"matches":"MN","country":"Mongolia","courier":"Mongol Post - Монгол шуудан компани","courier_url":"http://www.zipcode.mn/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/mongolia.html"},{"country":"Montenegro (Rep.)","matches":"ME","courier":"Pošta Crne Gore","courier_url":"http://www.postacg.me/main.php?idstr=177","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/montenegro-rep.html"},{"matches":"MA","country":"Morocco","courier":"Barid Al-Maghrib – Poste Maroc","courier_url":"http://www.codepostal.ma/search_mot.aspx?keyword=","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/morocco.html"},{"matches":"MZ","country":"Mozambique","courier":"Correios de Moçambique","courier_url":"http://www.correios.co.mz/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/mozambique.html"},{"matches":"MM","country":"Myanmar","courier":"Myanmar Post and Telecommunications Department","courier_url":null,"upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/myanmar.html"},{"matches":"NA","country":"Namibia","courier":"NAM Post","courier_url":"https://www.nampost.com.na/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/namibia.html"},{"matches":"NR","country":"Nauru","courier":"Nauru General Post Office","courier_url":null,"upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/nauru.html"},{"matches":"NP","country":"Nepal","courier":"Nepal Postal Services","courier_url":"http://www.gpo.gov.np/postalcode.aspx","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/nepal.html"},{"matches":"NL","country":"Netherlands","courier":"PostNL","courier_url":"http://www.postnl.nl/voorthuis/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/western-europe/netherlands.html"},{"matches":"NZ","country":"New Zealand (including the Ross Dependency)","courier":"New Zealand Post","courier_url":"http://www.nzpost.co.nz/Cultures/en-NZ/OnlineTools/PostCodeFinder/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/new-zealand-including-the-ross-dependency.html"},{"matches":"NI","country":"Nicaragua","courier":"Correos de Nicaragua","courier_url":"http://www.correos.gob.ni/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/nicaragua.html"},{"matches":"NE","country":"Niger","courier":"Niger Poste","courier_url":"http://www.nigerposte.net/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/niger.html"},{"matches":"NG","country":"Nigeria","courier":"Nigerian Postal Service","courier_url":"http://www.nigeriapostcodes.com/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/nigeria.html"},{"matches":"NO","country":"Norway","courier":"Posten","courier_url":"http://adressesok.posten.no/en/postal_codes/search","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/western-europe/norway.html"},{"matches":"OM","country":"Oman","courier":"Oman Post","courier_url":"http://www.omanpost.om/Portals/2/Skins/skins//tabid/64/Default.aspx","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/oman.html"},{"matches":"PK","country":"Pakistan","courier":"Pakistan Post","courier_url":"http://www.pakpost.gov.pk/postcode/postcode.html","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/pakistan.html"},{"matches":"PA","country":"Panama (Rep.)","courier":"Correos de Panamá","courier_url":"http://www.correospanama.gob.pa/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/panama-rep.html"},{"matches":"PG","country":"Papua New Guinea","courier":"Post PNG","courier_url":"http://www.postpng.com.pg/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/papua-new-guinea.html"},{"matches":"PY","country":"Paraguay","courier":"Correo Paraguayo","courier_url":"http://www.correoparaguayo.gov.py/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/paraguay.html"},{"matches":"PE","country":"Peru","courier":"SERPOST – Servicios Postales del Perú","courier_url":"http://www.mtc.gob.pe/portal/CPOSTAL/Listado_codigo_postal.html","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/peru.html"},{"matches":"PH","country":"Philippines","courier":"PHLPOST – Philippine Postal Corporation","courier_url":"https://www.phlpost.gov.ph/zip-code-search.php","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/philippines.html"},{"matches":"PL","country":"Poland","courier":"Poczta Polska","courier_url":"http://kody.poczta-polska.pl/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/poland.html"},{"matches":"PT","country":"Portugal","courier":"CTT - Correios","courier_url":"http://www.ctt.pt/feapl_2/app/open/tools.jspx?tool=1","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/western-europe/portugal.html"},{"matches":"QA","country":"Qatar","courier":"Qatar Post","courier_url":"http://www.qpost.com.qa/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/qatar.html"},{"matches":"RO","country":"Romania","courier":"Posta Romana","courier_url":"http://www.posta-romana.ro/postal_codes","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/romania.html"},{"matches":"RU","country":"Russian Federation","courier":"Russian Post","courier_url":"http://www.russianpost.ru/rp/servise/ru/home/postuslug/searchops","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/russian-federation.html"},{"matches":"RW","country":"Rwanda","courier":"National Post Office (Iposita)","courier_url":"http://i-posita.rw/spip.php?article1","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/rwanda.html"},{"matches":"KN","country":"Saint Christopher (Saint Kitts) and Nevis","courier":"St. Kitts & Nevis Postal Services","courier_url":"http://www.post.gov.kn/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/saint-christopher-saint-kitts-and-nevis.html"},{"matches":"LC","country":"Saint Lucia","courier":"Saint Lucia Postal Service","courier_url":"http://www.stluciapostal.com/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/saint-lucia.html"},{"matches":"VC","country":"Saint Vincent and the Grenadines","courier":"SVG Postal Corporation","courier_url":"http://www.svgpost.gov.vc/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/saint-vincent-and-the-grenadines.html"},{"matches":"WS","country":"Samoa","courier":"Samoa Post","courier_url":"http://www.samoapost.ws/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/samoa.html"},{"matches":"SM","country":"San Marino","courier":"Poste San Marino","courier_url":"http://www.poste.sm/on-line/home.html","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/western-europe/san-marino.html"},{"matches":"ST","country":"Sao Tome and Principe","courier":"Correios de São Tomé e Príncipe","courier_url":"http://www.inh.st/correios.st.htm","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/sao-tome-and-principe.html"},{"matches":"SA","country":"Saudi Arabia","courier":"Saudi Post","courier_url":"http://maps.address.gov.sa","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/saudi-arabia.html"},{"matches":"SN","country":"Senegal","courier":"La Poste Senegal","courier_url":"http://www.laposte.sn/laposte/trouver_codepostal.php","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/senegal.html"},{"matches":"RS","country":"Serbia (Rep.)","courier":"PTT Communications \\"Srbija\\"","courier_url":"http://www.posta.rs/struktura/eng/aplikacije/pronadji/nadji-pak-rezultat.asp","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/serbia-rep.html"},{"matches":"SC","country":"Seychelles","courier":"Seychelles Postal Service","courier_url":"http://www.seychellespost.gov.sc/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/seychelles.html"},{"matches":"SL","country":"Sierra Leone","courier":"Sierra Leone Postal Services","courier_url":"http://www.salpost.sl/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/sierra-leone.html"},{"matches":"SG","country":"Singapore","courier":"SingPost","courier_url":"http://www.singpost.com.sg/quick_services/index.htm","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/singapore.html"},{"matches":"SK","country":"Slovakia","courier":"Slovenská Posta","courier_url":"http://psc.posta.sk/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/slovakia.html"},{"matches":"SI","country":"Slovenia","courier":"Posta Slovenije d.o.o.","courier_url":"http://www.posta.si/postne-stevilke-doma","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/western-europe/slovenia.html"},{"matches":"SB","country":"Solomon Islands","courier":"Solomon Post","courier_url":null,"upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/solomon-islands.html"},{"matches":"SO","country":"Somalia","courier":"Somali Post","courier_url":null,"upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/somalia.html"},{"matches":"ZA","country":"South Africa","courier":"South African Post Office","courier_url":"http://www.postoffice.co.za/ContactUs/postalcode.html","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/south-africa.html"},{"matches":"SS","country":"South Sudan (Rep.)","courier":"Minister of Telecommunication and Postal Services","courier_url":null,"upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/south-sudan-rep.html"},{"matches":"ES","country":"Spain","courier":"Correos y Telégrafos","courier_url":"http://www.correos.es/ss/Satellite/site/pagina-buscador_codigos_postales/sidioma=es_ES","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/western-europe/spain.html"},{"matches":"LK","country":"Sri Lanka","courier":"Sri Lanka Post","courier_url":"http://www.slpost.gov.lk/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/sri-lanka.html"},{"matches":"SD","country":"Sudan","courier":"Sudapost","courier_url":"http://sudapost.sd/index.php/en/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/sudan.html"},{"matches":"SR","country":"Suriname","courier":"SURPOST","courier_url":"http://www.surpost.com/surpost2/index.php","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/suriname.html"},{"matches":"SZ","country":"Swaziland","courier":"Swaziland Posts & Telecommunications Corporation","courier_url":"http://www.sptc.co.sz/swazipost/codes.php","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/swaziland.html"},{"matches":"SE","country":"Sweden","courier":"Posten Sweden Post","courier_url":"http://www.posten.se/oldurls/old_postnummersok.jspv","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/western-europe/sweden.html"},{"matches":"CH","country":"Switzerland","courier":"La Poste Suisse","courier_url":"http://www.swisspost.ch/post-startseite.htm","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/western-europe/switzerland.html"},{"matches":"SY","country":"Syrian Arab Rep.","courier":"Syrian Post","courier_url":"http://www.syrianpost.gov.sy/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/syrian-arab-rep.html"},{"matches":"TJ","country":"Tajikistan","courier":"Tajikistan’s communications service agency","courier_url":null,"upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/tajikistan.html"},{"matches":"TZ","country":"Tanzania (United Rep.)","courier":"Tanzania Posts Corporation","courier_url":"http://www.posta.co.tz/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/tanzania-united-rep.html"},{"matches":"TH","country":"Thailand","courier":"Thailand Post","courier_url":"http://www.thailandpost.com/search.php","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/thailand.html"},{"matches":"MK","country":"The former Yugoslav Republic of Macedonia","courier":"Macedonian Post & Telecommunications","courier_url":"http://www.posta.mk/pravilno_adresiranje.html","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/the-former-yugoslav-republic-of-macedonia.html"},{"matches":"TL","country":"Timor-Leste (Dem. Rep.)","courier":"Correios de Timor Leste","courier_url":null,"upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/timor-leste-dem-rep.html"},{"matches":"TG","country":"Togo","courier":"La Poste du Togo","courier_url":"http://www.laposte.tg/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/togo.html"},{"matches":"TO","country":"Tonga (including Niuafo\'ou)","courier":"Tonga Post","courier_url":"http://tongapost.to/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/tonga-including-niuafoou.html"},{"matches":"TT","country":"Trinidad and Tobago","courier":"Trinidad and Tobago Postal Corporation","courier_url":"http://www.ttpost.net/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/trinidad-and-tobago.html"},{"matches":"TN","country":"Tunisia","courier":"La Poste Tunisienne","courier_url":"http://www.poste.tn/codes.php","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/tunisia.html"},{"matches":"TR","country":"Turkey","courier":"Turkey Post","courier_url":"http://postakodu.ptt.gov.tr/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/western-europe/turkey.html"},{"matches":"TM","country":"Turkmenistan","courier":"Turkmenpost","courier_url":"http://www.turkmenpost.gov.tm/about_index.php","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/turkmenistan.html"},{"matches":"TV","country":"Tuvalu","courier":"Tuvalu Philatelic Bureau","courier_url":null,"upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/tuvalu.html"},{"matches":"UG","country":"Uganda","courier":"Posta Uganda","courier_url":"http://www.ugapost.co.ug/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/uganda.html"},{"matches":"UA","country":"Ukraine","courier":"Ukrposhta","courier_url":"http://services.ukrposhta.com/postindex_new/default.aspx?lang=en","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/ukraine.html"},{"matches":"AE","country":"United Arab Emirates","courier":"Emirates Post","courier_url":"http://www.emiratespost.com/content/english/index.jsp;jsessionid=35fbe352a6c441a491929d81d54fa0c6","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/united-arab-emirates.html"},{"matches":"US","country":"United States of America","courier":"United States Postal Service","courier_url":"http://zip4.usps.com/zip4/welcome.jsp","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/united-states-of-america.html"},{"matches":"UY","country":"Uruguay","courier":"Correo Uruguayo","courier_url":"http://www.correo.com.uy/index.asp?codPag=codPost&switchMapa=codPost","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/uruguay.html"},{"matches":"UZ","country":"Uzbekistan","courier":"Post of Uzbekistan","courier_url":"http://www.pochta.uz/index.php/en/postal-indexes/9","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/uzbekistan.html"},{"matches":"VU","country":"Vanuatu","courier":"Vanuatu Post","courier_url":"http://www.vanuatupost.vu/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/vanuatu.html"},{"matches":"VA","country":"Vatican","courier":"Vatican post","courier_url":"http://www.vaticanstate.va/EN/Services/Philatelic_and_Numismatic_Office/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/western-europe/vatican.html"},{"matches":"VE","country":"Venezuela","courier":"IPOSTEL – Instituto Postal Telegráfico de Venezuela","courier_url":"http://www.ipostel.gob.ve/nlinea/codigo_postal.php","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/venezuela.html"},{"matches":"VN","country":"Viet Nam","courier":"VNPT – Vietnam Posts and Telecommunications Group","courier_url":"http://postcode.vnpost.vn/services/search.aspx","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/viet-nam.html"},{"matches":"YE","country":"Yemen","courier":"Yemen Post","courier_url":"http://www.post.ye/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/yemen.html"},{"matches":"ZM","country":"Zambia","courier":"Zambia Postal Services Corporation (ZAMPOST)","courier_url":"http://www.zampost.com.zm/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/zambia.html"},{"matches":"ZW","country":"Zimbabwe","courier":"Zimpost – Zimbabwe Posts","courier_url":"http://www.zimpost.co.zw/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/zimbabwe.html"}]}]}]'),_a={name:ga,courier_code:ya,tracking_numbers:va},ba="UPS",xa="ups",Sa=[{name:"UPS",id:"ups",regex:["\\s*1\\s*Z\\s*(?<SerialNumber>","(?<ShipperId>(?:[A-Z0-9]\\s*){6,6})","(?<ServiceType>(?:[A-Z0-9]\\s*){2,2})","(?<PackageId>(?:[A-Z0-9]\\s*){7,7}))","(?<CheckDigit>[0-9]\\s*)"],validation:{checksum:{name:"mod10",evens_multiplier:1,odds_multiplier:2}},tracking_url:"https://wwwapps.ups.com/WebTracking/track?track=yes&trackNums=%s",additional:[{name:"Service Type",regex_group_name:"ServiceType",lookup:[{matches:"01",name:"UPS United States Next Day Air (Red)"},{matches:"02",name:"UPS United States Second Day Air (Blue)"},{matches:"03",name:"UPS United States Ground"},{matches:"12",name:"UPS United States Third Day Select"},{matches:"13",name:"UPS United States Next Day Air Saver (Red Saver)"},{matches:"15",name:"UPS United States Next Day Air Early A.M."},{matches:"22",name:"UPS United States Ground - Returns Plus - Three Pickup Attempts"},{matches:"32",name:"UPS United States Next Day Air Early A.M. - COD"},{matches:"33",name:"UPS United States Next Day Air Early A.M. - Saturday Delivery, COD"},{matches:"41",name:"UPS United States Next Day Air Early A.M. - Saturday Delivery"},{matches:"42",name:"UPS United States Ground - Signature Required"},{matches:"44",name:"UPS United States Next Day Air - Saturday Delivery"},{matches:"66",name:"UPS United States Worldwide Express"},{matches:"72",name:"UPS United States Ground - Collect on Delivery"},{matches:"78",name:"UPS United States Ground - Returns Plus - One Pickup Attempt"},{matches:"90",name:"UPS United States Ground - Returns - UPS Prints and Mails Label"},{matches:"A0",name:"UPS United States Next Day Air Early A.M. - Adult Signature Required"},{matches:"A1",name:"UPS United States Next Day Air Early A.M. - Saturday Delivery, Adult Signature Required"},{matches:"A2",name:"UPS United States Next Day Air - Adult Signature Required"},{matches:"A8",name:"UPS United States Ground - Adult Signature Required"},{matches:"A9",name:"UPS United States Next Day Air Early A.M. - Adult Signature Required, COD"},{matches:"AA",name:"UPS United States Next Day Air Early A.M. - Saturday Delivery, Adult Signature Required, COD"},{matches:"YW",name:"UPS SurePost - Delivered by the USPS"}]}],test_numbers:{valid:["1Z5R89390357567127","1Z879E930346834440","1Z410E7W0392751591","1Z8V92A70367203024"," 1 Z 8 V 9 2 A 7 0 3 6 7 2 0 3 0 2 4 ","1ZXX3150YW44070023"],invalid:["2Z5R89390357567127","1A5R89390357567127","1Z1111111111111111"]}},{name:"UPS Waybill",regex:["\\s*(?<ServiceType>([AHJKTV]\\s*){1})","(?<SerialNumber>(?:[0-9]\\s*){9})","(?<CheckDigit>[0-9]\\s*){1}"],validation:{checksum:{name:"mod10",evens_multiplier:1,odds_multiplier:2}},additional:[{name:"Service Type",regex_group_name:"ServiceType",lookup:[{matches:"J",name:"UPS Next Day Express"},{matches:"K",name:"UPS Ground"},{matches:"V",name:"UPS WorldWide Express Saver"}]}],tracking_url:"https://wwwapps.ups.com/WebTracking/track?track=yes&trackNums=%s",test_numbers:{valid:["K1506235620","K 150 623 562 0","K2479825491","J4603636537","V0490119172","V0431105627"],invalid:["K1506235622","K2479825492","J4603636538","V0411335627","V0423305841"]}}],Pa={name:ba,courier_code:xa,tracking_numbers:Sa},Ca="United States Postal Service",Aa="usps",Ia=[{tracking_url:"https://tools.usps.com/go/TrackConfirmAction?tLabels=%s",name:"USPS 20",id:"usps_20",description:"20 digit USPS numbers",regex:["\\s*(?<SerialNumber>","(?<ServiceType>([0-9]\\s*){2})","(?<ShipperId>([0-9]\\s*){9})","(?<PackageId>([0-9]\\s*){8})",")","(?<CheckDigit>[0-9]\\s*)"],validation:{checksum:{name:"mod10",evens_multiplier:3,odds_multiplier:1}},test_numbers:{valid:["0307 1790 0005 2348 3741"," 0 3 0 7   1 7 9 0   0 0 0 5   2 3 4 8   3 7 4 1 ","7112 3456 7891 2345 6787"],invalid:["0307 1790 0005 2348 3742"]},additional:[{name:"Service Type",regex_group_name:"ServiceType",lookup:[{matches:"71",name:"Certified Mail"},{matches:"73",name:"Insured Mail"},{matches:"77",name:"Registered Mail"},{matches:"81",name:"Return Receipt For Merchanise"}]}]},{name:"USPS 34v2",id:"usps_32V2",description:"variation on 34 digit USPS IMpd numbers",regex:["\\s*(?<RoutingApplicationId>4\\s*2\\s*0\\s*)(?<DestinationZip>([0-9]\\s*){5})","(?<RoutingNumber>([0-9]\\s*){4})","(?<SerialNumber>","(?<ApplicationIdentifier>9\\s*[2345]\\s*)?","(?<ShipperId>([0-9]\\s*){8})","(?<PackageId>([0-9]\\s*){11})",")","(?<CheckDigit>[0-9]\\s*)"],validation:{checksum:{name:"mod10",evens_multiplier:3,odds_multiplier:1}},tracking_url:"https://tools.usps.com/go/TrackConfirmAction?tLabels=%s",test_numbers:{valid:["4201002334249200190132607600833457","4201028200009261290113185417468510"," 4 2 0 1 0 2 8 2 0 0 0 0 9 2 6 1 2 9 0 1 1 3 1 8 5 4 1 7 4 6 8 5 1 0 "],invalid:["4201028200009261290113185417468511"]}},{name:"USPS 91",id:"usps_91",description:"USPS now calls this the IMpd barcode format",regex:["\\s*(?:(?<RoutingApplicationId>4\\s*2\\s*0\\s*)(?<DestinationZip>([0-9]\\s*){5}))?","(?<SerialNumber>","(?<ApplicationIdentifier>9\\s*[12345]\\s*)?","(?<SCNC>([0-9]\\s*){2})","(?<ServiceType>([0-9]\\s*){2})","(?<ShipperId>([0-9]\\s*){8})","(?<PackageId>([0-9]\\s*){11}|([0-9]\\s*){7})",")","(?<CheckDigit>[0-9]\\s*)"],validation:{checksum:{name:"mod10",evens_multiplier:3,odds_multiplier:1},serial_number_format:{prepend_if:{matches_regex:"^(?!9[1-5]).+",content:"91"}}},partners:[{description:"FedEx SmartPost uses USPS for last mile delivery, but not all USPS91 numbers are SmartPosts",partner_type:"shipper",partner_id:"fedex_smartpost",validation:{matches_all:[{regex_group_name:"ServiceType",matches:"29"},{matches:"61",regex_group_name:"SCNC"}]}}],tracking_url:"https://tools.usps.com/go/TrackConfirmAction?tLabels=%s",test_numbers:{valid:["420 22153 9101026837331000039521","7196 9010 7560 0307 7385","9505 5110 6960 5048 6006 24","9101 1234 5678 9000 0000 13","92748931507708513018050063","92001903060085300042901077","9400 1112 0108 0805 4830 16","9361 2898 7870 0317 6337 95","9405803699300124287899"],invalid:["61299998820821171811","9200000000000000000000","420000000000000000000000000000","420000009200000000000000000000"]},additional:[{name:"Service Type",regex_group_name:"ServiceType",lookup:[{matches:"11",name:"First Class (R)"},{matches:"29",name:"Fedex Smart Post"}]}]}],ka={name:Ca,courier_code:Aa,tracking_numbers:Ia};var Ta=function(){return!1},Da=function(){return!0};const La={"@@functional/placeholder":!0};function G(r){return r!=null&&typeof r=="object"&&r["@@functional/placeholder"]===!0}function w(r){return function e(t){return arguments.length===0||G(t)?e:r.apply(this,arguments)}}function o(r){return function e(t,n){switch(arguments.length){case 0:return e;case 1:return G(t)?e:w(function(i){return r(t,i)});default:return G(t)&&G(n)?e:G(t)?w(function(i){return r(i,n)}):G(n)?w(function(i){return r(t,i)}):r(t,n)}}}var lt=o(function(e,t){return Number(e)+Number(t)});function ge(r,e){r=r||[],e=e||[];var t,n=r.length,i=e.length,a=[];for(t=0;t<n;)a[a.length]=r[t],t+=1;for(t=0;t<i;)a[a.length]=e[t],t+=1;return a}function ye(r,e){switch(r){case 0:return function(){return e.apply(this,arguments)};case 1:return function(t){return e.apply(this,arguments)};case 2:return function(t,n){return e.apply(this,arguments)};case 3:return function(t,n,i){return e.apply(this,arguments)};case 4:return function(t,n,i,a){return e.apply(this,arguments)};case 5:return function(t,n,i,a,u){return e.apply(this,arguments)};case 6:return function(t,n,i,a,u,c){return e.apply(this,arguments)};case 7:return function(t,n,i,a,u,c,l){return e.apply(this,arguments)};case 8:return function(t,n,i,a,u,c,l,m){return e.apply(this,arguments)};case 9:return function(t,n,i,a,u,c,l,m,g){return e.apply(this,arguments)};case 10:return function(t,n,i,a,u,c,l,m,g,h){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function Ze(r,e,t){return function(){for(var n=[],i=0,a=r,u=0;u<e.length||i<arguments.length;){var c;u<e.length&&(!G(e[u])||i>=arguments.length)?c=e[u]:(c=arguments[i],i+=1),n[u]=c,G(c)||(a-=1),u+=1}return a<=0?t.apply(this,n):ye(a,Ze(r,n,t))}}var ee=o(function(e,t){return e===1?w(t):ye(e,Ze(e,[],t))}),Na=w(function(e){return ee(e.length,function(){var t=0,n=arguments[0],i=arguments[arguments.length-1],a=Array.prototype.slice.call(arguments,0);return a[0]=function(){var u=n.apply(this,ge(arguments,[t,i]));return t+=1,u},e.apply(this,a)})});function S(r){return function e(t,n,i){switch(arguments.length){case 0:return e;case 1:return G(t)?e:o(function(a,u){return r(t,a,u)});case 2:return G(t)&&G(n)?e:G(t)?o(function(a,u){return r(a,n,u)}):G(n)?o(function(a,u){return r(t,a,u)}):w(function(a){return r(t,n,a)});default:return G(t)&&G(n)&&G(i)?e:G(t)&&G(n)?o(function(a,u){return r(a,u,i)}):G(t)&&G(i)?o(function(a,u){return r(a,n,u)}):G(n)&&G(i)?o(function(a,u){return r(t,a,u)}):G(t)?w(function(a){return r(a,n,i)}):G(n)?w(function(a){return r(t,a,i)}):G(i)?w(function(a){return r(t,n,a)}):r(t,n,i)}}}var _r=S(function(e,t,n){if(e>=n.length||e<-n.length)return n;var i=e<0?n.length:0,a=i+e,u=ge(n);return u[a]=t(n[a]),u});const fe=Array.isArray||function(e){return e!=null&&e.length>=0&&Object.prototype.toString.call(e)==="[object Array]"};function jt(r){return r!=null&&typeof r["@@transducer/step"]=="function"}function V(r,e,t){return function(){if(arguments.length===0)return t();var n=Array.prototype.slice.call(arguments,0),i=n.pop();if(!fe(i)){for(var a=0;a<r.length;){if(typeof i[r[a]]=="function")return i[r[a]].apply(i,n);a+=1}if(jt(i)){var u=e.apply(null,n);return u(i)}}return t.apply(this,arguments)}}function Pe(r){return r&&r["@@transducer/reduced"]?r:{"@@transducer/value":r,"@@transducer/reduced":!0}}const M={init:function(){return this.xf["@@transducer/init"]()},result:function(r){return this.xf["@@transducer/result"](r)}};var Oa=function(){function r(e,t){this.xf=t,this.f=e,this.all=!0}return r.prototype["@@transducer/init"]=M.init,r.prototype["@@transducer/result"]=function(e){return this.all&&(e=this.xf["@@transducer/step"](e,!0)),this.xf["@@transducer/result"](e)},r.prototype["@@transducer/step"]=function(e,t){return this.f(t)||(this.all=!1,e=Pe(this.xf["@@transducer/step"](e,!1))),e},r}(),ja=o(function(e,t){return new Oa(e,t)}),br=o(V(["all"],ja,function(e,t){for(var n=0;n<t.length;){if(!e(t[n]))return!1;n+=1}return!0})),Me=o(function(e,t){return t>e?t:e});function Ne(r,e){for(var t=0,n=e.length,i=Array(n);t<n;)i[t]=r(e[t]),t+=1;return i}function je(r){return Object.prototype.toString.call(r)==="[object String]"}var Ke=w(function(e){return fe(e)?!0:!e||typeof e!="object"||je(e)?!1:e.nodeType===1?!!e.length:e.length===0?!0:e.length>0?e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1):!1}),Ea=function(){function r(e){this.f=e}return r.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},r.prototype["@@transducer/result"]=function(e){return e},r.prototype["@@transducer/step"]=function(e,t){return this.f(e,t)},r}();function xr(r){return new Ea(r)}var Sr=o(function(e,t){return ye(e.length,function(){return e.apply(t,arguments)})});function Ba(r,e,t){for(var n=0,i=t.length;n<i;){if(e=r["@@transducer/step"](e,t[n]),e&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}n+=1}return r["@@transducer/result"](e)}function Qt(r,e,t){for(var n=t.next();!n.done;){if(e=r["@@transducer/step"](e,n.value),e&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}n=t.next()}return r["@@transducer/result"](e)}function Yt(r,e,t,n){return r["@@transducer/result"](t[n](Sr(r["@@transducer/step"],r),e))}var er=typeof Symbol<"u"?Symbol.iterator:"@@iterator";function ie(r,e,t){if(typeof r=="function"&&(r=xr(r)),Ke(t))return Ba(r,e,t);if(typeof t["fantasy-land/reduce"]=="function")return Yt(r,e,t,"fantasy-land/reduce");if(t[er]!=null)return Qt(r,e,t[er]());if(typeof t.next=="function")return Qt(r,e,t);if(typeof t.reduce=="function")return Yt(r,e,t,"reduce");throw new TypeError("reduce: list must be array or iterable")}var Ra=function(){function r(e,t){this.xf=t,this.f=e}return r.prototype["@@transducer/init"]=M.init,r.prototype["@@transducer/result"]=M.result,r.prototype["@@transducer/step"]=function(e,t){return this.xf["@@transducer/step"](e,this.f(t))},r}(),Ma=o(function(e,t){return new Ra(e,t)});function re(r,e){return Object.prototype.hasOwnProperty.call(e,r)}var tr=Object.prototype.toString,Pr=function(){return tr.call(arguments)==="[object Arguments]"?function(e){return tr.call(e)==="[object Arguments]"}:function(e){return re("callee",e)}}(),Ua=!{toString:null}.propertyIsEnumerable("toString"),rr=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],nr=function(){return arguments.propertyIsEnumerable("length")}(),qa=function(e,t){for(var n=0;n<e.length;){if(e[n]===t)return!0;n+=1}return!1},se=w(typeof Object.keys=="function"&&!nr?function(e){return Object(e)!==e?[]:Object.keys(e)}:function(e){if(Object(e)!==e)return[];var t,n,i=[],a=nr&&Pr(e);for(t in e)re(t,e)&&(!a||t!=="length")&&(i[i.length]=t);if(Ua)for(n=rr.length-1;n>=0;)t=rr[n],re(t,e)&&!qa(i,t)&&(i[i.length]=t),n-=1;return i}),de=o(V(["fantasy-land/map","map"],Ma,function(e,t){switch(Object.prototype.toString.call(t)){case"[object Function]":return ee(t.length,function(){return e.call(this,t.apply(this,arguments))});case"[object Object]":return ie(function(n,i){return n[i]=e(t[i]),n},{},se(t));default:return Ne(e,t)}}));const Ce=Number.isInteger||function(e){return e<<0===e};var Ue=o(function(e,t){var n=e<0?t.length+e:e;return je(t)?t.charAt(n):t[n]}),Cr=o(function(e,t){return e.map(function(n){for(var i=t,a=0,u;a<n.length;){if(i==null)return;u=n[a],i=Ce(u)?Ue(u,i):i[u],a+=1}return i})}),Te=o(function(e,t){return Cr([e],t)[0]}),Et=o(function(e,t){return Te([e],t)}),He=o(function(e,t){return de(Et(e),t)}),_e=S(ie),za=w(function(e){return ee(_e(Me,0,He("length",e)),function(){for(var t=0,n=e.length;t<n;){if(!e[t].apply(this,arguments))return!1;t+=1}return!0})}),pt=w(function(e){return function(){return e}}),Ar=o(function(e,t){return e&&t}),Fa=function(){function r(e,t){this.xf=t,this.f=e,this.any=!1}return r.prototype["@@transducer/init"]=M.init,r.prototype["@@transducer/result"]=function(e){return this.any||(e=this.xf["@@transducer/step"](e,!1)),this.xf["@@transducer/result"](e)},r.prototype["@@transducer/step"]=function(e,t){return this.f(t)&&(this.any=!0,e=Pe(this.xf["@@transducer/step"](e,!0))),e},r}(),Wa=o(function(e,t){return new Fa(e,t)}),Ga=o(V(["any"],Wa,function(e,t){for(var n=0;n<t.length;){if(e(t[n]))return!0;n+=1}return!1})),$a=w(function(e){return ee(_e(Me,0,He("length",e)),function(){for(var t=0,n=e.length;t<n;){if(e[t].apply(this,arguments))return!0;t+=1}return!1})}),Bt=o(function(e,t){return typeof t["fantasy-land/ap"]=="function"?t["fantasy-land/ap"](e):typeof e.ap=="function"?e.ap(t):typeof e=="function"?function(n){return e(n)(t(n))}:ie(function(n,i){return ge(n,de(i,t))},[],e)});function Za(r,e){for(var t=0,n=e.length-(r-1),i=new Array(n>=0?n:0);t<n;)i[t]=Array.prototype.slice.call(e,t,t+r),t+=1;return i}var Ka=function(){function r(e,t){this.xf=t,this.pos=0,this.full=!1,this.acc=new Array(e)}return r.prototype["@@transducer/init"]=M.init,r.prototype["@@transducer/result"]=function(e){return this.acc=null,this.xf["@@transducer/result"](e)},r.prototype["@@transducer/step"]=function(e,t){return this.store(t),this.full?this.xf["@@transducer/step"](e,this.getCopy()):e},r.prototype.store=function(e){this.acc[this.pos]=e,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},r.prototype.getCopy=function(){return ge(Array.prototype.slice.call(this.acc,this.pos),Array.prototype.slice.call(this.acc,0,this.pos))},r}(),Ha=o(function(e,t){return new Ka(e,t)}),Va=o(V([],Ha,Za)),Xa=o(function(e,t){return ge(t,[e])}),Ir=o(function(e,t){return e.apply(this,t)}),kr=w(function(e){for(var t=se(e),n=t.length,i=[],a=0;a<n;)i[a]=e[t[a]],a+=1;return i});function ir(r,e){return se(e).reduce(function(t,n){return t[n]=r(e[n]),t},{})}var Ja=w(function r(e){return e=ir(function(t){return typeof t=="function"?t:r(t)},e),ee(_e(Me,0,He("length",kr(e))),function(){var t=arguments;return ir(function(n){return Ir(n,t)},e)})}),Qa=o(function(e,t){return t(e)}),Ya=S(function(e,t,n){var i=e(t),a=e(n);return i<a?-1:i>a?1:0}),ht=S(function(e,t,n){var i={};for(var a in n)i[a]=n[a];return i[e]=t,i}),nt=w(function(e){return e==null}),Tr=S(function r(e,t,n){if(e.length===0)return t;var i=e[0];if(e.length>1){var a=!nt(n)&&re(i,n)?n[i]:Ce(e[1])?[]:{};t=r(Array.prototype.slice.call(e,1),t,a)}if(Ce(i)&&fe(n)){var u=[].concat(n);return u[i]=t,u}else return ht(i,t,n)}),dt=o(function(e,t){switch(e){case 0:return function(){return t.call(this)};case 1:return function(n){return t.call(this,n)};case 2:return function(n,i){return t.call(this,n,i)};case 3:return function(n,i,a){return t.call(this,n,i,a)};case 4:return function(n,i,a,u){return t.call(this,n,i,a,u)};case 5:return function(n,i,a,u,c){return t.call(this,n,i,a,u,c)};case 6:return function(n,i,a,u,c,l){return t.call(this,n,i,a,u,c,l)};case 7:return function(n,i,a,u,c,l,m){return t.call(this,n,i,a,u,c,l,m)};case 8:return function(n,i,a,u,c,l,m,g){return t.call(this,n,i,a,u,c,l,m,g)};case 9:return function(n,i,a,u,c,l,m,g,h){return t.call(this,n,i,a,u,c,l,m,g,h)};case 10:return function(n,i,a,u,c,l,m,g,h,k){return t.call(this,n,i,a,u,c,l,m,g,h,k)};default:throw new Error("First argument to nAry must be a non-negative integer no greater than ten")}}),eu=w(function(e){return dt(2,e)});function Ee(r){var e=Object.prototype.toString.call(r);return e==="[object Function]"||e==="[object AsyncFunction]"||e==="[object GeneratorFunction]"||e==="[object AsyncGeneratorFunction]"}var Dr=o(function(e,t){var n=ee(e,t);return ee(e,function(){return ie(Bt,de(n,arguments[0]),Array.prototype.slice.call(arguments,1))})}),mt=w(function(e){return Dr(e.length,e)}),tu=o(function(e,t){return Ee(e)?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:mt(Ar)(e,t)}),Rt=w(function(e){return ee(e.length,e)}),ru=Rt(function(e){return e.apply(this,Array.prototype.slice.call(arguments,1))});function Lr(r){return function e(t){for(var n,i,a,u=[],c=0,l=t.length;c<l;){if(Ke(t[c]))for(n=r?e(t[c]):t[c],a=0,i=n.length;a<i;)u[u.length]=n[a],a+=1;else u[u.length]=t[c];c+=1}return u}}function nu(r){return{"@@transducer/value":r,"@@transducer/reduced":!0}}var iu=function(r){return{"@@transducer/init":M.init,"@@transducer/result":function(e){return r["@@transducer/result"](e)},"@@transducer/step":function(e,t){var n=r["@@transducer/step"](e,t);return n["@@transducer/reduced"]?nu(n):n}}},au=function(e){var t=iu(e);return{"@@transducer/init":M.init,"@@transducer/result":function(n){return t["@@transducer/result"](n)},"@@transducer/step":function(n,i){return Ke(i)?ie(t,n,i):ie(t,n,[i])}}},uu=o(function(e,t){return de(e,au(t))}),Mt=o(V(["fantasy-land/chain","chain"],uu,function(e,t){return typeof t=="function"?function(n){return e(t(n))(n)}:Lr(!1)(de(e,t))})),ou=S(function(e,t,n){if(e>t)throw new Error("min must not be greater than max in clamp(min, max, value)");return n<e?e:n>t?t:n});function Nr(r){return new RegExp(r.source,(r.global?"g":"")+(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.sticky?"y":"")+(r.unicode?"u":""))}var it=w(function(e){return e===null?"Null":e===void 0?"Undefined":Object.prototype.toString.call(e).slice(8,-1)});function ft(r,e,t,n){var i=function(u){for(var c=e.length,l=0;l<c;){if(r===e[l])return t[l];l+=1}e[l+1]=r,t[l+1]=u;for(var m in r)u[m]=n?ft(r[m],e,t,!0):r[m];return u};switch(it(r)){case"Object":return i({});case"Array":return i([]);case"Date":return new Date(r.valueOf());case"RegExp":return Nr(r);default:return r}}var su=w(function(e){return e!=null&&typeof e.clone=="function"?e.clone():ft(e,[],[],!0)}),cu=w(function(e){return function(t,n){return e(t,n)?-1:e(n,t)?1:0}}),Or=w(function(e){return!e}),lu=mt(Or);function pu(r,e){return function(){return e.call(this,r.apply(this,arguments))}}function Ve(r,e){return function(){var t=arguments.length;if(t===0)return e();var n=arguments[t-1];return fe(n)||typeof n[r]!="function"?e.apply(this,arguments):n[r].apply(n,Array.prototype.slice.call(arguments,0,t-1))}}var he=S(Ve("slice",function(e,t,n){return Array.prototype.slice.call(n,e,t)})),wt=w(Ve("tail",he(1,1/0)));function jr(){if(arguments.length===0)throw new Error("pipe requires at least one argument");return ye(arguments[0].length,_e(pu,arguments[0],wt(arguments)))}var Xe=w(function(e){return je(e)?e.split("").reverse().join(""):Array.prototype.slice.call(e,0).reverse()});function at(){if(arguments.length===0)throw new Error("compose requires at least one argument");return jr.apply(this,Xe(arguments))}function Er(){if(arguments.length===0)throw new Error("composeK requires at least one argument");var r=Array.prototype.slice.call(arguments),e=r.pop();return at(at.apply(this,de(Mt,r)),e)}function hu(r,e){return function(){var t=this;return r.apply(t,arguments).then(function(n){return e.call(t,n)})}}function Br(){if(arguments.length===0)throw new Error("pipeP requires at least one argument");return ye(arguments[0].length,_e(hu,arguments[0],wt(arguments)))}function du(){if(arguments.length===0)throw new Error("composeP requires at least one argument");return Br.apply(this,Xe(arguments))}var Rr=Ue(0);function Je(r){return r}var gt=w(Je),Mr=o(function(e,t){if(t.length<=0)return gt;var n=Rr(t),i=wt(t);return ye(n.length,function(){return ie(function(a,u){return e.call(this,u,a)},n.apply(this,arguments),i)})}),mu=o(function(e,t){return Mr.apply(this,[e,Xe(t)])});function ar(r){for(var e=[],t;!(t=r.next()).done;)e.push(t.value);return e}function Be(r,e,t){for(var n=0,i=t.length;n<i;){if(r(e,t[n]))return!0;n+=1}return!1}function fu(r){var e=String(r).match(/^function (\w*)/);return e==null?"":e[1]}function wu(r,e){return r===e?r!==0||1/r===1/e:r!==r&&e!==e}const tt=typeof Object.is=="function"?Object.is:wu;function ur(r,e,t,n){var i=ar(r),a=ar(e);function u(c,l){return Ut(c,l,t.slice(),n.slice())}return!Be(function(c,l){return!Be(u,l,c)},a,i)}function Ut(r,e,t,n){if(tt(r,e))return!0;var i=it(r);if(i!==it(e)||r==null||e==null)return!1;if(typeof r["fantasy-land/equals"]=="function"||typeof e["fantasy-land/equals"]=="function")return typeof r["fantasy-land/equals"]=="function"&&r["fantasy-land/equals"](e)&&typeof e["fantasy-land/equals"]=="function"&&e["fantasy-land/equals"](r);if(typeof r.equals=="function"||typeof e.equals=="function")return typeof r.equals=="function"&&r.equals(e)&&typeof e.equals=="function"&&e.equals(r);switch(i){case"Arguments":case"Array":case"Object":if(typeof r.constructor=="function"&&fu(r.constructor)==="Promise")return r===e;break;case"Boolean":case"Number":case"String":if(!(typeof r==typeof e&&tt(r.valueOf(),e.valueOf())))return!1;break;case"Date":if(!tt(r.valueOf(),e.valueOf()))return!1;break;case"Error":return r.name===e.name&&r.message===e.message;case"RegExp":if(!(r.source===e.source&&r.global===e.global&&r.ignoreCase===e.ignoreCase&&r.multiline===e.multiline&&r.sticky===e.sticky&&r.unicode===e.unicode))return!1;break}for(var a=t.length-1;a>=0;){if(t[a]===r)return n[a]===e;a-=1}switch(i){case"Map":return r.size!==e.size?!1:ur(r.entries(),e.entries(),t.concat([r]),n.concat([e]));case"Set":return r.size!==e.size?!1:ur(r.values(),e.values(),t.concat([r]),n.concat([e]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var u=se(r);if(u.length!==se(e).length)return!1;var c=t.concat([r]),l=n.concat([e]);for(a=u.length-1;a>=0;){var m=u[a];if(!(re(m,e)&&Ut(e[m],r[m],c,l)))return!1;a-=1}return!0}var ce=o(function(e,t){return Ut(e,t,[],[])});function Ur(r,e,t){var n,i;if(typeof r.indexOf=="function")switch(typeof e){case"number":if(e===0){for(n=1/e;t<r.length;){if(i=r[t],i===0&&1/i===n)return t;t+=1}return-1}else if(e!==e){for(;t<r.length;){if(i=r[t],typeof i=="number"&&i!==i)return t;t+=1}return-1}return r.indexOf(e,t);case"string":case"boolean":case"function":case"undefined":return r.indexOf(e,t);case"object":if(e===null)return r.indexOf(e,t)}for(;t<r.length;){if(ce(r[t],e))return t;t+=1}return-1}function Ae(r,e){return Ur(e,r,0)>=0}function At(r){var e=r.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0");return'"'+e.replace(/"/g,'\\"')+'"'}var Ge=function(e){return(e<10?"0":"")+e},gu=typeof Date.prototype.toISOString=="function"?function(e){return e.toISOString()}:function(e){return e.getUTCFullYear()+"-"+Ge(e.getUTCMonth()+1)+"-"+Ge(e.getUTCDate())+"T"+Ge(e.getUTCHours())+":"+Ge(e.getUTCMinutes())+":"+Ge(e.getUTCSeconds())+"."+(e.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};function qr(r){return function(){return!r.apply(this,arguments)}}function qt(r,e){for(var t=0,n=e.length,i=[];t<n;)r(e[t])&&(i[i.length]=e[t]),t+=1;return i}function ut(r){return Object.prototype.toString.call(r)==="[object Object]"}var yu=function(){function r(e,t){this.xf=t,this.f=e}return r.prototype["@@transducer/init"]=M.init,r.prototype["@@transducer/result"]=M.result,r.prototype["@@transducer/step"]=function(e,t){return this.f(t)?this.xf["@@transducer/step"](e,t):e},r}(),vu=o(function(e,t){return new yu(e,t)}),zt=o(V(["filter"],vu,function(r,e){return ut(e)?ie(function(t,n){return r(e[n])&&(t[n]=e[n]),t},{},se(e)):qt(r,e)})),yt=o(function(e,t){return zt(qr(e),t)});function Ft(r,e){var t=function(u){var c=e.concat([r]);return Ae(u,c)?"<Circular>":Ft(u,c)},n=function(a,u){return Ne(function(c){return At(c)+": "+t(a[c])},u.slice().sort())};switch(Object.prototype.toString.call(r)){case"[object Arguments]":return"(function() { return arguments; }("+Ne(t,r).join(", ")+"))";case"[object Array]":return"["+Ne(t,r).concat(n(r,yt(function(a){return/^\d+$/.test(a)},se(r)))).join(", ")+"]";case"[object Boolean]":return typeof r=="object"?"new Boolean("+t(r.valueOf())+")":r.toString();case"[object Date]":return"new Date("+(isNaN(r.valueOf())?t(NaN):At(gu(r)))+")";case"[object Null]":return"null";case"[object Number]":return typeof r=="object"?"new Number("+t(r.valueOf())+")":1/r===-1/0?"-0":r.toString(10);case"[object String]":return typeof r=="object"?"new String("+t(r.valueOf())+")":At(r);case"[object Undefined]":return"undefined";default:if(typeof r.toString=="function"){var i=r.toString();if(i!=="[object Object]")return i}return"{"+n(r,se(r)).join(", ")+"}"}}var Oe=w(function(e){return Ft(e,[])}),Wt=o(function(e,t){if(fe(e)){if(fe(t))return e.concat(t);throw new TypeError(Oe(t)+" is not an array")}if(je(e)){if(je(t))return e+t;throw new TypeError(Oe(t)+" is not a string")}if(e!=null&&Ee(e["fantasy-land/concat"]))return e["fantasy-land/concat"](t);if(e!=null&&Ee(e.concat))return e.concat(t);throw new TypeError(Oe(e)+' does not have a method named "concat" or "fantasy-land/concat"')}),_u=w(function(e){var t=_e(Me,0,de(function(n){return n[0].length},e));return ye(t,function(){for(var n=0;n<e.length;){if(e[n][0].apply(this,arguments))return e[n][1].apply(this,arguments);n+=1}})}),zr=o(function(e,t){if(e>10)throw new Error("Constructor with greater than ten arguments");return e===0?function(){return new t}:Rt(dt(e,function(n,i,a,u,c,l,m,g,h,k){switch(arguments.length){case 1:return new t(n);case 2:return new t(n,i);case 3:return new t(n,i,a);case 4:return new t(n,i,a,u);case 5:return new t(n,i,a,u,c);case 6:return new t(n,i,a,u,c,l);case 7:return new t(n,i,a,u,c,l,m);case 8:return new t(n,i,a,u,c,l,m,g);case 9:return new t(n,i,a,u,c,l,m,g,h);case 10:return new t(n,i,a,u,c,l,m,g,h,k)}}))}),bu=w(function(e){return zr(e.length,e)}),xu=o(Ae),Fr=o(function(e,t){return ee(_e(Me,0,He("length",t)),function(){var n=arguments,i=this;return e.apply(i,Ne(function(a){return a.apply(i,n)},t))})}),Su=function(){function r(e,t,n,i){this.valueFn=e,this.valueAcc=t,this.keyFn=n,this.xf=i,this.inputs={}}return r.prototype["@@transducer/init"]=M.init,r.prototype["@@transducer/result"]=function(e){var t;for(t in this.inputs)if(re(t,this.inputs)&&(e=this.xf["@@transducer/step"](e,this.inputs[t]),e["@@transducer/reduced"])){e=e["@@transducer/value"];break}return this.inputs=null,this.xf["@@transducer/result"](e)},r.prototype["@@transducer/step"]=function(e,t){var n=this.keyFn(t);return this.inputs[n]=this.inputs[n]||[n,this.valueAcc],this.inputs[n][1]=this.valueFn(this.inputs[n][1],t),e},r}(),Pu=Ze(4,[],function(e,t,n,i){return new Su(e,t,n,i)}),vt=Ze(4,[],V([],Pu,function(e,t,n,i){return ie(function(a,u){var c=n(u);return a[c]=e(re(c,a)?a[c]:ft(t,[],[],!1),u),a},{},i)})),Cu=vt(function(r,e){return r+1},0),Au=lt(-1),Wr=o(function(e,t){return t==null||t!==t?e:t}),Iu=S(function(e,t,n){var i=e(t),a=e(n);return i>a?-1:i<a?1:0}),Gr=function(){function r(){this._nativeSet=typeof Set=="function"?new Set:null,this._items={}}return r.prototype.add=function(e){return!or(e,!0,this)},r.prototype.has=function(e){return or(e,!1,this)},r}();function or(r,e,t){var n=typeof r,i,a;switch(n){case"string":case"number":return r===0&&1/r===-1/0?t._items["-0"]?!0:(e&&(t._items["-0"]=!0),!1):t._nativeSet!==null?e?(i=t._nativeSet.size,t._nativeSet.add(r),a=t._nativeSet.size,a===i):t._nativeSet.has(r):n in t._items?r in t._items[n]?!0:(e&&(t._items[n][r]=!0),!1):(e&&(t._items[n]={},t._items[n][r]=!0),!1);case"boolean":if(n in t._items){var u=r?1:0;return t._items[n][u]?!0:(e&&(t._items[n][u]=!0),!1)}else return e&&(t._items[n]=r?[!1,!0]:[!0,!1]),!1;case"function":return t._nativeSet!==null?e?(i=t._nativeSet.size,t._nativeSet.add(r),a=t._nativeSet.size,a===i):t._nativeSet.has(r):n in t._items?Ae(r,t._items[n])?!0:(e&&t._items[n].push(r),!1):(e&&(t._items[n]=[r]),!1);case"undefined":return t._items[n]?!0:(e&&(t._items[n]=!0),!1);case"object":if(r===null)return t._items.null?!0:(e&&(t._items.null=!0),!1);default:return n=Object.prototype.toString.call(r),n in t._items?Ae(r,t._items[n])?!0:(e&&t._items[n].push(r),!1):(e&&(t._items[n]=[r]),!1)}}var kt=o(function(e,t){for(var n=[],i=0,a=e.length,u=t.length,c=new Gr,l=0;l<u;l+=1)c.add(t[l]);for(;i<a;)c.add(e[i])&&(n[n.length]=e[i]),i+=1;return n}),Tt=S(function(e,t,n){for(var i=[],a=0,u=t.length;a<u;)!Be(e,t[a],n)&&!Be(e,t[a],i)&&i.push(t[a]),a+=1;return i}),$r=o(function(e,t){var n={};for(var i in t)n[i]=t[i];return delete n[e],n}),Zr=S(function(e,t,n){var i=Array.prototype.slice.call(n,0);return i.splice(e,t),i}),Gt=S(function(e,t,n){return _r(e,pt(t),n)}),ku=o(function r(e,t){switch(e.length){case 0:return t;case 1:return Ce(e[0])&&fe(t)?Zr(e[0],1,t):$r(e[0],t);default:var n=e[0],i=Array.prototype.slice.call(e,1);return t[n]==null?t:Ce(n)&&fe(t)?Gt(n,r(i,t[n]),t):ht(n,r(i,t[n]),t)}}),Tu=o(function(e,t){return e/t}),Du=function(){function r(e,t){this.xf=t,this.n=e}return r.prototype["@@transducer/init"]=M.init,r.prototype["@@transducer/result"]=M.result,r.prototype["@@transducer/step"]=function(e,t){return this.n>0?(this.n-=1,e):this.xf["@@transducer/step"](e,t)},r}(),Lu=o(function(e,t){return new Du(e,t)}),Kr=o(V(["drop"],Lu,function(e,t){return he(Math.max(0,e),1/0,t)})),Nu=function(){function r(e,t){this.xf=t,this.n=e,this.i=0}return r.prototype["@@transducer/init"]=M.init,r.prototype["@@transducer/result"]=M.result,r.prototype["@@transducer/step"]=function(e,t){this.i+=1;var n=this.n===0?e:this.xf["@@transducer/step"](e,t);return this.n>=0&&this.i>=this.n?Pe(n):n},r}(),Ou=o(function(e,t){return new Nu(e,t)}),$t=o(V(["take"],Ou,function(e,t){return he(0,e<0?1/0:e,t)}));function ju(r,e){return $t(r<e.length?e.length-r:0,e)}var Eu=function(){function r(e,t){this.xf=t,this.pos=0,this.full=!1,this.acc=new Array(e)}return r.prototype["@@transducer/init"]=M.init,r.prototype["@@transducer/result"]=function(e){return this.acc=null,this.xf["@@transducer/result"](e)},r.prototype["@@transducer/step"]=function(e,t){return this.full&&(e=this.xf["@@transducer/step"](e,this.acc[this.pos])),this.store(t),e},r.prototype.store=function(e){this.acc[this.pos]=e,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},r}(),Bu=o(function(e,t){return new Eu(e,t)}),Ru=o(V([],Bu,ju));function Mu(r,e){for(var t=e.length-1;t>=0&&r(e[t]);)t-=1;return he(0,t+1,e)}var Uu=function(){function r(e,t){this.f=e,this.retained=[],this.xf=t}return r.prototype["@@transducer/init"]=M.init,r.prototype["@@transducer/result"]=function(e){return this.retained=null,this.xf["@@transducer/result"](e)},r.prototype["@@transducer/step"]=function(e,t){return this.f(t)?this.retain(e,t):this.flush(e,t)},r.prototype.flush=function(e,t){return e=ie(this.xf["@@transducer/step"],e,this.retained),this.retained=[],this.xf["@@transducer/step"](e,t)},r.prototype.retain=function(e,t){return this.retained.push(t),e},r}(),qu=o(function(e,t){return new Uu(e,t)}),zu=o(V([],qu,Mu)),Fu=function(){function r(e,t){this.xf=t,this.pred=e,this.lastValue=void 0,this.seenFirstValue=!1}return r.prototype["@@transducer/init"]=M.init,r.prototype["@@transducer/result"]=M.result,r.prototype["@@transducer/step"]=function(e,t){var n=!1;return this.seenFirstValue?this.pred(this.lastValue,t)&&(n=!0):this.seenFirstValue=!0,this.lastValue=t,n?e:this.xf["@@transducer/step"](e,t)},r}(),Hr=o(function(e,t){return new Fu(e,t)}),Vr=Ue(-1),Xr=o(V([],Hr,function(e,t){var n=[],i=1,a=t.length;if(a!==0)for(n[0]=t[0];i<a;)e(Vr(n),t[i])||(n[n.length]=t[i]),i+=1;return n})),Wu=w(V([],Hr(ce),Xr(ce))),Gu=function(){function r(e,t){this.xf=t,this.f=e}return r.prototype["@@transducer/init"]=M.init,r.prototype["@@transducer/result"]=M.result,r.prototype["@@transducer/step"]=function(e,t){if(this.f){if(this.f(t))return e;this.f=null}return this.xf["@@transducer/step"](e,t)},r}(),$u=o(function(e,t){return new Gu(e,t)}),Zu=o(V(["dropWhile"],$u,function(e,t){for(var n=0,i=t.length;n<i&&e(t[n]);)n+=1;return he(n,1/0,t)})),Jr=o(function(e,t){return e||t}),Ku=o(function(e,t){return Ee(e)?function(){return e.apply(this,arguments)||t.apply(this,arguments)}:mt(Jr)(e,t)}),Qr=w(function(e){return e!=null&&typeof e["fantasy-land/empty"]=="function"?e["fantasy-land/empty"]():e!=null&&e.constructor!=null&&typeof e.constructor["fantasy-land/empty"]=="function"?e.constructor["fantasy-land/empty"]():e!=null&&typeof e.empty=="function"?e.empty():e!=null&&e.constructor!=null&&typeof e.constructor.empty=="function"?e.constructor.empty():fe(e)?[]:je(e)?"":ut(e)?{}:Pr(e)?function(){return arguments}():void 0}),Yr=o(function(e,t){return Kr(e>=0?t.length-e:0,t)}),Hu=o(function(r,e){return ce(Yr(r.length,e),r)}),Vu=S(function(e,t,n){return ce(e(t),e(n))}),Xu=S(function(e,t,n){return ce(t[e],n[e])}),Ju=o(function r(e,t){var n=t instanceof Array?[]:{},i,a,u;for(a in t)i=e[a],u=typeof i,n[a]=u==="function"?i(t[a]):i&&u==="object"?r(i,t[a]):t[a];return n}),Qu=function(){function r(e,t){this.xf=t,this.f=e,this.found=!1}return r.prototype["@@transducer/init"]=M.init,r.prototype["@@transducer/result"]=function(e){return this.found||(e=this.xf["@@transducer/step"](e,void 0)),this.xf["@@transducer/result"](e)},r.prototype["@@transducer/step"]=function(e,t){return this.f(t)&&(this.found=!0,e=Pe(this.xf["@@transducer/step"](e,t))),e},r}(),Yu=o(function(e,t){return new Qu(e,t)}),eo=o(V(["find"],Yu,function(e,t){for(var n=0,i=t.length;n<i;){if(e(t[n]))return t[n];n+=1}})),to=function(){function r(e,t){this.xf=t,this.f=e,this.idx=-1,this.found=!1}return r.prototype["@@transducer/init"]=M.init,r.prototype["@@transducer/result"]=function(e){return this.found||(e=this.xf["@@transducer/step"](e,-1)),this.xf["@@transducer/result"](e)},r.prototype["@@transducer/step"]=function(e,t){return this.idx+=1,this.f(t)&&(this.found=!0,e=Pe(this.xf["@@transducer/step"](e,this.idx))),e},r}(),ro=o(function(e,t){return new to(e,t)}),no=o(V([],ro,function(e,t){for(var n=0,i=t.length;n<i;){if(e(t[n]))return n;n+=1}return-1})),io=function(){function r(e,t){this.xf=t,this.f=e}return r.prototype["@@transducer/init"]=M.init,r.prototype["@@transducer/result"]=function(e){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](e,this.last))},r.prototype["@@transducer/step"]=function(e,t){return this.f(t)&&(this.last=t),e},r}(),ao=o(function(e,t){return new io(e,t)}),uo=o(V([],ao,function(e,t){for(var n=t.length-1;n>=0;){if(e(t[n]))return t[n];n-=1}})),oo=function(){function r(e,t){this.xf=t,this.f=e,this.idx=-1,this.lastIdx=-1}return r.prototype["@@transducer/init"]=M.init,r.prototype["@@transducer/result"]=function(e){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](e,this.lastIdx))},r.prototype["@@transducer/step"]=function(e,t){return this.idx+=1,this.f(t)&&(this.lastIdx=this.idx),e},r}(),so=o(function(e,t){return new oo(e,t)}),co=o(V([],so,function(e,t){for(var n=t.length-1;n>=0;){if(e(t[n]))return n;n-=1}return-1})),lo=w(Lr(!0)),_t=w(function(e){return ee(e.length,function(t,n){var i=Array.prototype.slice.call(arguments,0);return i[0]=n,i[1]=t,e.apply(this,i)})}),po=o(Ve("forEach",function(e,t){for(var n=t.length,i=0;i<n;)e(t[i]),i+=1;return t})),ho=o(function(e,t){for(var n=se(t),i=0;i<n.length;){var a=n[i];e(t[a],a,t),i+=1}return t}),mo=w(function(e){for(var t={},n=0;n<e.length;)t[e[n][0]]=e[n][1],n+=1;return t}),fo=o(Ve("groupBy",vt(function(r,e){return r==null&&(r=[]),r.push(e),r},null))),wo=o(function(r,e){for(var t=[],n=0,i=e.length;n<i;){for(var a=n+1;a<i&&r(e[a-1],e[a]);)a+=1;t.push(e.slice(n,a)),n=a}return t}),go=o(function(e,t){return e>t}),yo=o(function(e,t){return e>=t}),en=o(function(e,t){if(e.length===0||nt(t))return!1;for(var n=t,i=0;i<e.length;)if(!nt(n)&&re(e[i],n))n=n[e[i]],i+=1;else return!1;return!0}),vo=o(function(e,t){return en([e],t)}),_o=o(function(e,t){return e in t}),bo=o(tt),xo=S(function(e,t,n){return ee(Math.max(e.length,t.length,n.length),function(){return e.apply(this,arguments)?t.apply(this,arguments):n.apply(this,arguments)})}),So=lt(1),Po=o(Ae),Co=vt(function(r,e){return e},null),Ao=o(function(e,t){return typeof t.indexOf=="function"&&!fe(t)?t.indexOf(e):Ur(t,e,0)}),Io=he(0,-1),ko=S(function(e,t,n){return qt(function(i){return Be(e,i,n)},t)}),To=S(function(e,t,n){e=e<n.length&&e>=0?e:n.length;var i=Array.prototype.slice.call(n,0);return i.splice(e,0,t),i}),Do=S(function(e,t,n){return e=e<n.length&&e>=0?e:n.length,[].concat(Array.prototype.slice.call(n,0,e),t,Array.prototype.slice.call(n,e))}),tn=o(function(e,t){for(var n=new Gr,i=[],a=0,u,c;a<t.length;)c=t[a],u=e(c),n.add(u)&&i.push(c),a+=1;return i}),Zt=tn(gt),Lo=o(function(e,t){var n,i;return e.length>t.length?(n=e,i=t):(n=t,i=e),Zt(qt(_t(Ae)(n),i))}),No=o(Ve("intersperse",function(e,t){for(var n=[],i=0,a=t.length;i<a;)i===a-1?n.push(t[i]):n.push(t[i],e),i+=1;return n}));function Oo(r){if(r==null)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(r),t=1,n=arguments.length;t<n;){var i=arguments[t];if(i!=null)for(var a in i)re(a,i)&&(e[a]=i[a]);t+=1}return e}const Qe=typeof Object.assign=="function"?Object.assign:Oo;var rn=o(function(e,t){var n={};return n[e]=t,n}),jo={"@@transducer/init":Array,"@@transducer/step":function(r,e){return r.push(e),r},"@@transducer/result":Je},Eo={"@@transducer/init":String,"@@transducer/step":function(r,e){return r+e},"@@transducer/result":Je},Bo={"@@transducer/init":Object,"@@transducer/step":function(r,e){return Qe(r,Ke(e)?rn(e[0],e[1]):e)},"@@transducer/result":Je};function Ro(r){if(jt(r))return r;if(Ke(r))return jo;if(typeof r=="string")return Eo;if(typeof r=="object")return Bo;throw new Error("Cannot create transformer for "+r)}var Mo=S(function(e,t,n){return jt(e)?ie(t(e),e["@@transducer/init"](),n):ie(t(Ro(e)),ft(e,[],[],!1),n)}),Uo=w(function(e){for(var t=se(e),n=t.length,i=0,a={};i<n;){var u=t[i],c=e[u],l=re(c,a)?a[c]:a[c]=[];l[l.length]=u,i+=1}return a}),qo=w(function(e){for(var t=se(e),n=t.length,i=0,a={};i<n;){var u=t[i];a[e[u]]=u,i+=1}return a}),Ye=o(function(e,t){return ee(e+1,function(){var n=arguments[e];if(n!=null&&Ee(n[t]))return n[t].apply(n,Array.prototype.slice.call(arguments,0,e));throw new TypeError(Oe(n)+' does not have a method named "'+t+'"')})}),nn=o(function(e,t){return t!=null&&t.constructor===e||t instanceof e}),zo=w(function(e){return e!=null&&ce(e,Qr(e))}),Fo=Ye(1,"join"),an=w(function(e){return Fr(function(){return Array.prototype.slice.call(arguments,0)},e)}),Wo=w(function(e){var t,n=[];for(t in e)n[n.length]=t;return n}),Go=o(function(e,t){if(typeof t.lastIndexOf=="function"&&!fe(t))return t.lastIndexOf(e);for(var n=t.length-1;n>=0;){if(ce(t[n],e))return n;n-=1}return-1});function Dt(r){return Object.prototype.toString.call(r)==="[object Number]"}var un=w(function(e){return e!=null&&Dt(e.length)?e.length:NaN}),bt=o(function(e,t){return function(n){return function(i){return de(function(a){return t(a,i)},n(e(i)))}}}),$o=w(function(e){return bt(Ue(e),Gt(e))}),Zo=w(function(e){return bt(Te(e),Tr(e))}),Ko=w(function(e){return bt(Et(e),ht(e))}),Ho=o(function(e,t){return e<t}),Vo=o(function(e,t){return e<=t}),Xo=S(function(e,t,n){for(var i=0,a=n.length,u=[],c=[t];i<a;)c=e(c[0],n[i]),u[i]=c[1],i+=1;return[c[0],u]}),Jo=S(function(e,t,n){for(var i=n.length-1,a=[],u=[t];i>=0;)u=e(u[0],n[i]),a[i]=u[1],i-=1;return[u[0],a]}),Qo=o(function(e,t){return ie(function(n,i){return n[i]=e(t[i],i,t),n},{},se(t))}),Yo=o(function(e,t){return t.match(e)||[]}),es=o(function(e,t){return Ce(e)?!Ce(t)||t<1?NaN:(e%t+t)%t:NaN}),ts=S(function(e,t,n){return e(n)>e(t)?n:t}),on=_e(lt,0),sn=w(function(e){return on(e)/e.length}),rs=w(function(e){var t=e.length;if(t===0)return NaN;var n=2-t%2,i=(t-n)/2;return sn(Array.prototype.slice.call(e,0).sort(function(a,u){return a<u?-1:a>u?1:0}).slice(i,i+n))}),ns=o(function(e,t){var n={};return ye(t.length,function(){var i=e.apply(this,arguments);return re(i,n)||(n[i]=t.apply(this,arguments)),n[i]})}),is=o(function(e,t){return Qe({},e,t)}),as=w(function(e){return Qe.apply(null,[{}].concat(e))}),Kt=S(function(e,t,n){var i={},a;for(a in t)re(a,t)&&(i[a]=re(a,n)?e(a,t[a],n[a]):t[a]);for(a in n)re(a,n)&&!re(a,i)&&(i[a]=n[a]);return i}),xt=S(function r(e,t,n){return Kt(function(i,a,u){return ut(a)&&ut(u)?r(e,a,u):e(i,a,u)},t,n)}),us=o(function(e,t){return xt(function(n,i,a){return i},e,t)}),os=o(function(e,t){return xt(function(n,i,a){return a},e,t)}),ss=S(function(e,t,n){return xt(function(i,a,u){return e(a,u)},t,n)}),cs=o(function(e,t){return Qe({},t,e)}),ls=o(function(e,t){return Qe({},e,t)}),ps=S(function(e,t,n){return Kt(function(i,a,u){return e(a,u)},t,n)}),hs=o(function(e,t){return t<e?t:e}),ds=S(function(e,t,n){return e(n)<e(t)?n:t}),ms=o(function(e,t){return e%t}),fs=S(function(r,e,t){var n=t.length,i=t.slice(),a=r<0?n+r:r,u=e<0?n+e:e,c=i.splice(a,1);return a<0||a>=t.length||u<0||u>=t.length?t:[].concat(i.slice(0,u)).concat(c).concat(i.slice(u,t.length))}),cn=o(function(e,t){return e*t}),ws=w(function(e){return-e}),gs=o(function(e,t){return br(qr(e),t)}),ys=w(function(e){var t=e<0?1:e+1;return ee(t,function(){return Ue(e,arguments)})}),vs=S(function(e,t,n){return e(t(n))});function _s(r){return[r]}var bs=w(_s),xs=o(function(e,t){for(var n={},i={},a=0,u=e.length;a<u;)i[e[a]]=1,a+=1;for(var c in t)i.hasOwnProperty(c)||(n[c]=t[c]);return n}),Ss=w(function(e){var t=!1,n;return ye(e.length,function(){return t||(t=!0,n=e.apply(this,arguments)),n})});function ln(r,e){if(e==null||!Ee(e.then))throw new TypeError("`"+r+"` expected a Promise, received "+Ft(e,[]))}var Ps=o(function(e,t){return ln("otherwise",t),t.then(null,e)}),pn=function(r){return{value:r,map:function(e){return pn(e(r))}}},hn=S(function(e,t,n){return e(function(i){return pn(t(i))})(n).value}),Cs=o(function(e,t){return[e,t]});function dn(r){return o(function(e,t){return ye(Math.max(0,e.length-t.length),function(){return e.apply(this,r(t,arguments))})})}var As=dn(ge),Is=dn(_t(ge)),ks=an([zt,yt]),Ts=S(function(e,t,n){return ce(Te(e,n),t)}),mn=S(function(e,t,n){return Wr(e,Te(t,n))}),Ds=S(function(e,t,n){return e(Te(t,n))}),Ls=o(function(e,t){for(var n={},i=0;i<e.length;)e[i]in t&&(n[e[i]]=t[e[i]]),i+=1;return n}),fn=o(function(e,t){for(var n={},i=0,a=e.length;i<a;){var u=e[i];n[u]=t[u],i+=1}return n}),Ns=o(function(e,t){var n={};for(var i in t)e(t[i],i,t)&&(n[i]=t[i]);return n});function Os(){if(arguments.length===0)throw new Error("pipeK requires at least one argument");return Er.apply(this,Xe(arguments))}var wn=o(function(e,t){return ge([e],t)}),js=_e(cn,1),gn=o(function(e,t){return ee(t.length,function(){for(var n=[],i=0;i<t.length;)n.push(t[i].call(this,arguments[i])),i+=1;return e.apply(this,n.concat(Array.prototype.slice.call(arguments,t.length)))})}),Es=gn(Ne,[fn,gt]),Bs=S(function(e,t,n){return ce(t,n[e])}),Rs=S(function(e,t,n){return nn(e,n[t])}),Ms=S(function(e,t,n){return mn(e,[t],n)}),Us=S(function(e,t,n){return e(n[t])}),qs=o(function(e,t){return e.map(function(n){return Te([n],t)})}),zs=o(function(e,t){if(!(Dt(e)&&Dt(t)))throw new TypeError("Both arguments to range must be numbers");for(var n=[],i=e;i<t;)n.push(i),i+=1;return n}),yn=S(function(e,t,n){for(var i=n.length-1;i>=0;)t=e(n[i],t),i-=1;return t}),Fs=Ze(4,[],function(e,t,n,i){return ie(function(a,u){return e(a,u)?t(a,u):Pe(a)},n,i)}),Ws=w(Pe),vn=o(function(e,t){var n=Number(t),i=0,a;if(n<0||isNaN(n))throw new RangeError("n must be a non-negative number");for(a=new Array(n);i<n;)a[i]=e(i),i+=1;return a}),Gs=o(function(e,t){return vn(pt(e),t)}),$s=S(function(e,t,n){return n.replace(e,t)}),Zs=S(function(e,t,n){for(var i=0,a=n.length,u=[t];i<a;)t=e(t,n[i]),u[i+1]=t,i+=1;return u}),_n=o(function(e,t){return typeof t.sequence=="function"?t.sequence(e):yn(function(n,i){return Bt(de(wn,n),i)},e([]),t)}),Ks=S(function(e,t,n){return hn(e,pt(t),n)}),Hs=o(function(e,t){return Array.prototype.slice.call(t,0).sort(e)}),Vs=o(function(e,t){return Array.prototype.slice.call(t,0).sort(function(n,i){var a=e(n),u=e(i);return a<u?-1:a>u?1:0})}),Xs=o(function(e,t){return Array.prototype.slice.call(t,0).sort(function(n,i){for(var a=0,u=0;a===0&&u<e.length;)a=e[u](n,i),u+=1;return a})}),Js=Ye(1,"split"),Qs=o(function(e,t){return[he(0,e,t),he(e,un(t),t)]}),Ys=o(function(e,t){if(e<=0)throw new Error("First argument to splitEvery must be a positive integer");for(var n=[],i=0;i<t.length;)n.push(he(i,i+=e,t));return n}),ec=o(function(e,t){for(var n=0,i=t.length,a=[];n<i&&!e(t[n]);)a.push(t[n]),n+=1;return[a,Array.prototype.slice.call(t,n)]}),tc=o(function(r,e){return ce($t(r.length,e),r)}),rc=o(function(e,t){return Number(e)-Number(t)}),nc=o(function(e,t){return Wt(kt(e,t),kt(t,e))}),ic=S(function(e,t,n){return Wt(Tt(e,t,n),Tt(e,n,t))}),ac=o(function(e,t){for(var n=t.length-1;n>=0&&e(t[n]);)n-=1;return he(n+1,1/0,t)}),uc=function(){function r(e,t){this.xf=t,this.f=e}return r.prototype["@@transducer/init"]=M.init,r.prototype["@@transducer/result"]=M.result,r.prototype["@@transducer/step"]=function(e,t){return this.f(t)?this.xf["@@transducer/step"](e,t):Pe(e)},r}(),oc=o(function(e,t){return new uc(e,t)}),sc=o(V(["takeWhile"],oc,function(e,t){for(var n=0,i=t.length;n<i&&e(t[n]);)n+=1;return he(0,n,t)})),cc=function(){function r(e,t){this.xf=t,this.f=e}return r.prototype["@@transducer/init"]=M.init,r.prototype["@@transducer/result"]=M.result,r.prototype["@@transducer/step"]=function(e,t){return this.f(t),this.xf["@@transducer/step"](e,t)},r}(),lc=o(function(e,t){return new cc(e,t)}),pc=o(V([],lc,function(e,t){return e(t),t}));function hc(r){return Object.prototype.toString.call(r)==="[object RegExp]"}var dc=o(function(e,t){if(!hc(e))throw new TypeError("‘test’ requires a value of type RegExp as its first argument; received "+Oe(e));return Nr(e).test(t)}),mc=o(function(e,t){return ln("andThen",t),t.then(e)}),fc=Ye(0,"toLowerCase"),wc=w(function(e){var t=[];for(var n in e)re(n,e)&&(t[t.length]=[n,e[n]]);return t}),gc=w(function(e){var t=[];for(var n in e)t[t.length]=[n,e[n]];return t}),yc=Ye(0,"toUpperCase"),vc=ee(4,function(e,t,n,i){return ie(e(typeof t=="function"?xr(t):t),n,i)}),_c=w(function(e){for(var t=0,n=[];t<e.length;){for(var i=e[t],a=0;a<i.length;)typeof n[a]>"u"&&(n[a]=[]),n[a].push(i[a]),a+=1;t+=1}return n}),bc=S(function(e,t,n){return typeof n["fantasy-land/traverse"]=="function"?n["fantasy-land/traverse"](t,e):_n(e,de(t,n))}),$e="	\n\v\f\r                　\u2028\u2029\uFEFF",xc="​",Sc=typeof String.prototype.trim=="function",Pc=w(!Sc||$e.trim()||!xc.trim()?function(e){var t=new RegExp("^["+$e+"]["+$e+"]*"),n=new RegExp("["+$e+"]["+$e+"]*$");return e.replace(t,"").replace(n,"")}:function(e){return e.trim()}),Cc=o(function(e,t){return ye(e.length,function(){try{return e.apply(this,arguments)}catch(n){return t.apply(this,ge([n],arguments))}})}),Ac=w(function(e){return function(){return e(Array.prototype.slice.call(arguments,0))}}),Ic=w(function(e){return dt(1,e)}),kc=o(function(e,t){return ee(e,function(){for(var n=1,i=t,a=0,u;n<=e&&typeof i=="function";)u=n===e?arguments.length:a+i.length,i=i.apply(this,Array.prototype.slice.call(arguments,a,u)),n+=1,a=u;return i})}),Tc=o(function(e,t){for(var n=e(t),i=[];n&&n.length;)i[i.length]=n[0],n=e(n[1]);return i}),Dc=o(at(Zt,ge)),bn=o(function(e,t){for(var n=0,i=t.length,a=[],u;n<i;)u=t[n],Be(e,u,a)||(a[a.length]=u),n+=1;return a}),Lc=S(function(e,t,n){return bn(e,ge(t,n))}),Nc=S(function(e,t,n){return e(n)?n:t(n)}),Oc=Mt(Je),jc=S(function(e,t,n){for(var i=n;!e(i);)i=t(i);return i}),Ec=w(function(e){var t,n=[];for(t in e)n[n.length]=e[t];return n}),Bc=function(r){return{value:r,"fantasy-land/map":function(){return this}}},Rc=o(function(e,t){return e(Bc)(t).value}),Mc=S(function(e,t,n){return e(n)?t(n):n}),xn=o(function(e,t){for(var n in e)if(re(n,e)&&!e[n](t[n]))return!1;return!0}),Uc=o(function(e,t){return xn(de(ce,e),t)}),qc=o(function(r,e){return yt(_t(Ae)(r),e)}),zc=o(function(e,t){return!!(!e^!t)}),Fc=o(function(e,t){for(var n=0,i=e.length,a,u=t.length,c=[];n<i;){for(a=0;a<u;)c[c.length]=[e[n],t[a]],a+=1;n+=1}return c}),Wc=o(function(e,t){for(var n=[],i=0,a=Math.min(e.length,t.length);i<a;)n[i]=[e[i],t[i]],i+=1;return n}),Gc=o(function(e,t){for(var n=0,i=Math.min(e.length,t.length),a={};n<i;)a[e[n]]=t[n],n+=1;return a}),$c=S(function(e,t,n){for(var i=[],a=0,u=Math.min(t.length,n.length);a<u;)i[a]=e(t[a],n[a]),a+=1;return i}),Zc=w(function(e){return ee(e.length,function(){var n=arguments;return function(){return e.apply(this,n)}})});const Kc=Object.freeze(Object.defineProperty({__proto__:null,F:Ta,T:Da,__:La,add:lt,addIndex:Na,adjust:_r,all:br,allPass:za,always:pt,and:Ar,andThen:mc,any:Ga,anyPass:$a,ap:Bt,aperture:Va,append:Xa,apply:Ir,applySpec:Ja,applyTo:Qa,ascend:Ya,assoc:ht,assocPath:Tr,binary:eu,bind:Sr,both:tu,call:ru,chain:Mt,clamp:ou,clone:su,comparator:cu,complement:lu,compose:at,composeK:Er,composeP:du,composeWith:mu,concat:Wt,cond:_u,construct:bu,constructN:zr,contains:xu,converge:Fr,countBy:Cu,curry:Rt,curryN:ee,dec:Au,defaultTo:Wr,descend:Iu,difference:kt,differenceWith:Tt,dissoc:$r,dissocPath:ku,divide:Tu,drop:Kr,dropLast:Ru,dropLastWhile:zu,dropRepeats:Wu,dropRepeatsWith:Xr,dropWhile:Zu,either:Ku,empty:Qr,endsWith:Hu,eqBy:Vu,eqProps:Xu,equals:ce,evolve:Ju,filter:zt,find:eo,findIndex:no,findLast:uo,findLastIndex:co,flatten:lo,flip:_t,forEach:po,forEachObjIndexed:ho,fromPairs:mo,groupBy:fo,groupWith:wo,gt:go,gte:yo,has:vo,hasIn:_o,hasPath:en,head:Rr,identical:bo,identity:gt,ifElse:xo,inc:So,includes:Po,indexBy:Co,indexOf:Ao,init:Io,innerJoin:ko,insert:To,insertAll:Do,intersection:Lo,intersperse:No,into:Mo,invert:Uo,invertObj:qo,invoker:Ye,is:nn,isEmpty:zo,isNil:nt,join:Fo,juxt:an,keys:se,keysIn:Wo,last:Vr,lastIndexOf:Go,length:un,lens:bt,lensIndex:$o,lensPath:Zo,lensProp:Ko,lift:mt,liftN:Dr,lt:Ho,lte:Vo,map:de,mapAccum:Xo,mapAccumRight:Jo,mapObjIndexed:Qo,match:Yo,mathMod:es,max:Me,maxBy:ts,mean:sn,median:rs,memoizeWith:ns,merge:is,mergeAll:as,mergeDeepLeft:us,mergeDeepRight:os,mergeDeepWith:ss,mergeDeepWithKey:xt,mergeLeft:cs,mergeRight:ls,mergeWith:ps,mergeWithKey:Kt,min:hs,minBy:ds,modulo:ms,move:fs,multiply:cn,nAry:dt,negate:ws,none:gs,not:Or,nth:Ue,nthArg:ys,o:vs,objOf:rn,of:bs,omit:xs,once:Ss,or:Jr,otherwise:Ps,over:hn,pair:Cs,partial:As,partialRight:Is,partition:ks,path:Te,pathEq:Ts,pathOr:mn,pathSatisfies:Ds,paths:Cr,pick:Ls,pickAll:fn,pickBy:Ns,pipe:jr,pipeK:Os,pipeP:Br,pipeWith:Mr,pluck:He,prepend:wn,product:js,project:Es,prop:Et,propEq:Bs,propIs:Rs,propOr:Ms,propSatisfies:Us,props:qs,range:zs,reduce:_e,reduceBy:vt,reduceRight:yn,reduceWhile:Fs,reduced:Ws,reject:yt,remove:Zr,repeat:Gs,replace:$s,reverse:Xe,scan:Zs,sequence:_n,set:Ks,slice:he,sort:Hs,sortBy:Vs,sortWith:Xs,split:Js,splitAt:Qs,splitEvery:Ys,splitWhen:ec,startsWith:tc,subtract:rc,sum:on,symmetricDifference:nc,symmetricDifferenceWith:ic,tail:wt,take:$t,takeLast:Yr,takeLastWhile:ac,takeWhile:sc,tap:pc,test:dc,thunkify:Zc,times:vn,toLower:fc,toPairs:wc,toPairsIn:gc,toString:Oe,toUpper:yc,transduce:vc,transpose:_c,traverse:bc,trim:Pc,tryCatch:Cc,type:it,unapply:Ac,unary:Ic,uncurryN:kc,unfold:Tc,union:Dc,unionWith:Lc,uniq:Zt,uniqBy:tn,uniqWith:bn,unless:Nc,unnest:Oc,until:jc,update:Gt,useWith:gn,values:kr,valuesIn:Ec,view:Rc,when:Mc,where:xn,whereEq:Uc,without:qc,xor:zc,xprod:Fc,zip:Wc,zipObj:Gc,zipWith:$c},Symbol.toStringTag,{value:"Module"})),Hc=pi(Kc);var sr;function Vc(){return sr||(sr=1,function(r){var e=be&&be.__createBinding||(Object.create?function(p,d,v,x){x===void 0&&(x=v),Object.defineProperty(p,x,{enumerable:!0,get:function(){return d[v]}})}:function(p,d,v,x){x===void 0&&(x=v),p[x]=d[v]}),t=be&&be.__setModuleDefault||(Object.create?function(p,d){Object.defineProperty(p,"default",{enumerable:!0,value:d})}:function(p,d){p.default=d}),n=be&&be.__importStar||function(p){if(p&&p.__esModule)return p;var d={};if(p!=null)for(var v in p)v!=="default"&&Object.hasOwnProperty.call(p,v)&&e(d,p,v);return t(d,p),d};Object.defineProperty(r,"__esModule",{value:!0}),r.findTracking=r.getTracking=r.allCouriers=r.usps=r.ups=r.s10=r.ontrac=r.fedex=r.dhl=r.amazon=void 0;const i=n(ia);r.amazon=i;const a=n(sa);r.dhl=a;const u=n(ha);r.fedex=u;const c=n(wa);r.ontrac=c;const l=n(_a);r.s10=l;const m=n(Pa);r.ups=m;const g=n(ka);r.usps=g;const h=Hc;r.allCouriers=[i,a,u,c,l,m,g];const k=p=>d=>d.regex_group_name==="ServiceType"?d.lookup.some(v=>v.matches_regex?new RegExp(v.matches_regex).test(p.groups[d.regex_group_name]):!0):d.regex_group_name==="CountryCode"||d.regex_group_name==="ShippingContainerType"?d.lookup.some(v=>v.matches===p.groups[d.regex_group_name]):!0,E=(p,d)=>{const v=h.is(String,d)?d:d.join(""),x=new RegExp("\\b".concat(v,"\\b")).exec(p.replace(/[^a-zA-Z\d]/g,""));return x&&{serial:x.groups.SerialNumber.replace(/\s/g,""),checkDigit:x.groups.CheckDigit,groups:x.groups}||{}},y=(p,d)=>d.additional?d.additional.every(k(E(p,d.regex))):!0,I=p=>!0,P=p=>h.pipe(h.split(""),h.map(d=>isNaN(d)?(d.charCodeAt(0)-3)%10:parseInt(d)))(p),D=p=>Object.assign({},p),C=(p,d)=>d%2===0,O=h.complement(C),j=(p,d)=>h.pipe(D,h.pickBy(p),h.values,h.sum)(d),U=({serial:p,checkDigit:d,checksum:v})=>{const x=P(p.replace(/[^\da-zA-Z]/g,""));return(10-h.sum([j(C,x)*(v.evens_multiplier||1),j(O,x)*(v.odds_multiplier||1)])%10)%10===parseInt(d)},f=({serial:p,checkDigit:d})=>parseInt(p)%7===parseInt(d),L=(p,d)=>h.sum(h.zip(d.split("").map(v=>parseInt(v)),p||[]).map(v=>v.reduce(h.multiply))),A=({serial:p,checkDigit:d})=>{const v=L([8,6,4,2,3,5,9,7],p)%11;return(v===1?0:v===0?5:11-v)===parseInt(d)},N=({serial:p,checkDigit:d,checksum:v})=>L(v.weightings,p)%v.modulo1%v.modulo2===parseInt(d),q=({validation:{checksum:p}})=>(p==null?void 0:p.name)==="mod10"?U:(p==null?void 0:p.name)==="sum_product_with_weightings_and_modulo"?N:(p==null?void 0:p.name)==="mod7"?f:(p==null?void 0:p.name)==="s10"?A:I,Z=(p,d)=>d.prepend_if&&new RegExp(d.prepend_if.matches_regex).test(p)?"".concat(d.prepend_if.content).concat(p):p,F=(p,{regex:d,validation:{serial_number_format:v,checksum:x}})=>{const b=E(p,d);return b&&b.serial?{serial:v?Z(b.serial,v):b.serial,checkDigit:b.checkDigit,checksum:x}:null},Q=(p,d,v)=>({name:p.name,trackingUrl:p.tracking_url||null,description:p.description||null,trackingNumber:v.replace(/[^a-zA-Z\d]/g,""),courier:{name:d.name,code:d.courier_code}}),W=p=>d=>h.pipe(h.prop("regex"),h.ifElse(h.is(String),h.identity,h.join("")),v=>new RegExp(v,"g"),h.flip(h.match)(p),h.map(h.replace(/[^a-zA-Z\d\n\r]/g,"")),h.uniq)(d),te=(p,d)=>d.map(h.pipe(h.prop("tracking_numbers"),h.chain(h.pipe(W(p),h.flatten)))),T=(p,d)=>h.pipe(h.flatten,h.uniq,v=>h.filter(x=>h.none(h.test(new RegExp("([a-zA-Z0-9 ]+)".concat(x,"$"))),v))(v),v=>h.filter(x=>h.none(h.test(new RegExp("^".concat(x,"([a-zA-Z0-9 ]+)"))),v))(v))(te(p,d)),X=p=>h.reduce((d,v)=>d||h.reduce((x,b)=>{const z=F(p,b);return z&&q(b)(z)&&y(p,b)?h.reduced(Q(b,v,p)):void 0},void 0,v.tracking_numbers),void 0);r.getTracking=(p,d=r.allCouriers)=>X(p)(d),r.findTracking=(p,d)=>T(p,d||r.allCouriers).map(v=>r.getTracking(v,d||r.allCouriers)).filter(h.complement(h.isNil))}(be)),be}var Xc=Vc();const cr=we("span")(()=>({fontWeight:"bold",color:"#313440"}));function Jc({isCurrentCompany:r}){const{state:{shippings:e=[],addressLabelPermission:t,money:n}}=_.useContext(Re),[i]=ke(),a=ve(),[u,c]=_.useState([]);_.useEffect(()=>{e.length&&(e.forEach(y=>{if(y.shipmentItems.length){const{shipmentItems:I}=y;I.forEach(P=>{const D=P.tracking_number;if(P!=null&&P.generated_tracking_link&&D){P.tracking_link=P.generated_tracking_link;return}const C=Xc.getTracking(D);if(C){const{trackingUrl:O="",trackingNumber:j}=C,U=P;O&&(U.tracking_link=O.includes("=%s")?O.replace("=%s","=".concat(j)):O)}})}}),c(e))},[e]);const l=y=>{const{first_name:I,last_name:P}=y;return"".concat(I," ").concat(P)},m=y=>{const{street_1:I,city:P,state:D,zip:C,country:O}=y;return"".concat(I,", ").concat(P,", ").concat(D," ").concat(C,", ").concat(O)};let g=0;const h=()=>(g+=1,g),k=y=>{const{date_created:I,shipping_method:P,shipping_provider_display_name:D}=y,C=li(new Date(I),"LLLL, d");return"shipped on ".concat(C,", by ").concat(D,", ").concat(P)},E=y=>{if(t)return y;const I=y.indexOf("/");return y.substring(I+1,y.length)};return u.length?s.jsx(Lt,{spacing:2,children:u.map(y=>s.jsx(ot,{children:s.jsxs(st,{children:[s.jsxs(J,{sx:{wordBreak:"break-word",color:"rgba(0, 0, 0, 0.87)"},children:[s.jsxs(Y,{variant:"h6",sx:{fontSize:"24px",fontWeight:"400"},children:[l(y)," – ",E(y.company||"")]}),s.jsx(Y,{variant:"h6",sx:{fontSize:"24px",fontWeight:"400"},children:m(y)})]}),(y.shipmentItems||[]).map(I=>I.itemsInfo.length>0?s.jsxs(_.Fragment,{children:[s.jsxs(J,{sx:{margin:"20px 0 2px"},children:[s.jsx(Y,{variant:"body1",children:s.jsxs(s.Fragment,{children:[s.jsx(cr,{children:"".concat(a("orderDetail.shipment.shipment")," ").concat(h()," – ")}),k(I)]})}),I.tracking_link?s.jsx(kn,{href:I.tracking_link,target:"_blank",children:I.tracking_number}):s.jsx(Y,{variant:"body1",children:I.tracking_number})]}),s.jsx(It,{quantityKey:"current_quantity_shipped",products:I.itemsInfo,money:n,totalText:"Total",canToProduct:r,textAlign:"right"})]},"shipment-".concat(I.id)):null),y.notShip.itemsInfo.length>0?s.jsxs(_.Fragment,{children:[s.jsx(J,{sx:{margin:"20px 0 2px"},children:s.jsx(Y,{variant:"body1",children:s.jsx(cr,{children:a("orderDetail.shipment.notShippedYet")})})}),s.jsx(It,{quantityKey:"not_shipping_number",products:y.notShip.itemsInfo,money:n,totalText:"Total",canToProduct:r,textAlign:i?"left":"right"})]},"shipment-notShip-".concat(y.id)):null]})},"shipping-".concat(y.id)))}):null}function Qc(){const r=oe(ct),e=oe(({company:x})=>x.customer.role),t=oe(({b2bFeatures:x})=>x.masqueradeCompany.isAgenting),n=oe(({company:x})=>x.companyInfo.id),{selectCompanyHierarchyId:i}=oe(({company:x})=>x.companyHierarchyInfo),a=oe(({b2bFeatures:x})=>x.masqueradeCompany.id),u=e===Wn.SUPER_ADMIN&&t?Number(a):Number(n),c=Number(i)||u,l=Vn(),m=Ot(),g=ve(),{state:{addressConfig:h},dispatch:k}=_.useContext(pr),{state:{poNumber:E,status:y="",customStatus:I,orderSummary:P,orderStatus:D=[],products:C,digitalProducts:O},state:j,dispatch:U}=_.useContext(Re),{state:{portalStyle:{backgroundColor:f="#FEF9F5"}}}=_.useContext(Gn),L=$n(f),A=mr(),[N]=ke(),[q,Z]=_.useState(""),[F,Q]=_.useState(""),[W,te]=_.useState(!1),[T,X]=_.useState(!1);_.useEffect(()=>{Q(l.id||"")},[l]);const p=()=>{m(A.state.isCompanyOrder?"/company-orders":"/orders")};_.useEffect(()=>{if(F){const x=async()=>{const z=parseInt(F,10);if(z){te(!0);try{const K=r?await wi(z):await gi(z);if(K){const{products:me,companyInfo:le}=K,R={...K,products:me.map(B=>({...B,imageUrl:(B==null?void 0:B.variantImageUrl)||B.imageUrl}))};X(Number(le.companyId)===Number(c));const H=Ti(R,g);U({type:"all",payload:H}),Z(F)}}catch(K){K==="order does not exist"&&setTimeout(()=>{window.location.hash="/orderDetail/".concat(q)},1e3)}finally{te(!1)}}},b=async()=>{const z=r?await yi():await vi();U({type:"statusType",payload:{orderStatus:z}})};x(),b()}},[r,F,q,i]);const d=x=>{Q(x.toString())};_.useEffect(()=>{(async()=>{var b;try{let z=h;if(!z){const{addressConfig:me}=await Hn();z=me,k({type:"common",payload:{addressConfig:z}})}const K=((b=(z||[]).find(me=>me.key==="address_label"))==null?void 0:b.isEnabled)==="1";U({type:"addressLabel",payload:{addressLabelPermission:K}})}catch(z){Nt.error(z)}})()},[]);const v=x=>{const b=D.find(K=>K.systemLabel===x);let z=(b==null?void 0:b.customLabel)||I;if(b){const K=dr[b.systemLabel];z=K&&g(K)!==b.systemLabel?g(K):z}return z};return s.jsx(Zn,{isSpinning:W,background:"rgba(255,255,255,0.2)",children:s.jsxs(J,{sx:{overflow:"auto",flex:1},children:[s.jsx(J,{sx:{marginBottom:"10px",width:"fit-content"},children:s.jsx(J,{sx:{color:"primary.main",cursor:"pointer",fontSize:"14px",display:"flex",alignItems:"center"},onClick:p,children:A.state!==null?s.jsxs(s.Fragment,{children:[s.jsx(Yn,{sx:{fontSize:"13px",margin:"0 8px"}}),s.jsx("span",{children:g("orderDetail.backToOrders")})]}):""})}),s.jsxs(De,{container:!0,spacing:2,children:[s.jsxs(De,{item:!0,xs:N?12:8,sx:{display:"flex",alignItems:"center",gap:"15px",order:N?1:0},children:[s.jsxs(Y,{variant:"h4",sx:{color:Kn(L,.87)||"#263238"},children:[g("orderDetail.orderId",{orderId:F}),g("orderDetail.purchaseOrderNumber",{purchaseOrderNumber:E!=null?E:""})]}),s.jsx(hr,{code:y,text:v(y)})]}),s.jsx(De,{container:!0,item:!0,xs:N?12:4,sx:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:(A==null?void 0:A.state)&&s.jsx(Li,{onChange:x=>d(x),color:L})})]}),C!=null&&C.length&&!T?s.jsxs(J,{sx:{marginTop:"24px",height:"48px",padding:"6px 16px",borderRadius:"4px",backgroundColor:"#0288D1",display:"flex",alignItems:"center"},children:[s.jsx(ei,{color:"primary",sx:{color:"#FFFFFF"}}),s.jsx(Y,{sx:{color:"#FFFFFF",marginLeft:"8px",fontSize:"14px"},children:g("orderDetail.anotherCompany.tips")})]}):null,s.jsxs(De,{container:!0,spacing:2,sx:{marginTop:"0",overflow:"auto",flexWrap:N?"wrap":"nowrap",paddingBottom:"20px"},children:[s.jsx(De,{item:!0,sx:N?{flexBasis:"100%"}:{flexBasis:"690px",flexGrow:1},children:s.jsxs(Lt,{spacing:3,children:[s.jsx(Jc,{isCurrentCompany:T}),!!(O!=null&&O.length)&&s.jsx(Qi,{isCurrentCompany:T}),s.jsx(ea,{})]})}),s.jsx(De,{item:!0,sx:N?{flexBasis:"100%"}:{flexBasis:"340px"},children:JSON.stringify(P)==="{}"?null:s.jsx($i,{detailsData:j,isCurrentCompany:T})})]})]})})}function Sl(){return s.jsx(xi,{children:s.jsx(Qc,{})})}export{Sl as default};
//# sourceMappingURL=index-BG47LLZt.js.map
