System.register(["./mui-legacy-Co1sKVsS.js","./intl-legacy-f5dGU49Z.js","./react-setup-legacy-DEc0vKYV.js","./load-functions-legacy-ksbQXdn-.js","./base-legacy-DAqmyLJs.js","./address-legacy-DynwBWaq.js","./OrderStatus-legacy-cjB4G5yU.js","./router-legacy-CQEMCAt4.js","./muiIcon-legacy-C-h6sDde.js","./lodashEs-legacy-BTGS6uHg.js","./HierarchyDialog-legacy-CStSqS6g.js","./form-legacy-LlvE08FY.js","./B3CustomForm-legacy-lFqWnpvs.js","./shoppingList-legacy-CydALIG9.js","./b3TriggerCartNumber-legacy-Cq3MIXdP.js","./OrderShoppingList-legacy-w3HPSrJA.js","./dateFns-legacy-DHywh9DD.js","./reactVendor-legacy-C5drotBr.js","./eCache-legacy-QcRlogRO.js","./redux-legacy-DH94TLLa.js","./toolkit-legacy-DO7GmFjE.js","../index-legacy.js","./global-legacy-vVqwfyov.js","./dropzone-legacy-B1uEXZk9.js"],function(e,t){"use strict";var r,n,u,i,o,a,s,c,l,p,h,d,m,f,w,g,y,_,b,v,x,S,C,P,k,A,j,I,T,D,N,E,O,L,B,R,M,U,z,q,F,G,$,W,Z,K,V,H,Q,J,Y,X,ee,te,re,ne,ue,ie,oe,ae,se,ce,le,pe,he,de,me,fe,we,ge,ye,_e;return{setters:[e=>{r=e.j,n=e.B,u=e.T,i=e.I,o=e.w,a=e.x,s=e.v,c=e.b,l=e.ah,p=e.A,h=e.ae,d=e.O,m=e.y,f=e.ai,w=e.a0,g=e.G},e=>{y=e.r},e=>{_=e.B,b=e.aD,v=e.a7,x=e.aM,S=e.j,C=e.u,P=e.y,k=e.a,A=e.aN,j=e.ay,I=e.ak,T=e.ad,D=e.aO,N=e.aP,E=e.a4,O=e.aQ,L=e.o,B=e.a2,R=e.G,M=e.aw,U=e.ao,z=e.at,q=e.aR,F=e.ag,G=e.aS,$=e.aT,W=e.aU,Z=e.ah,K=e.C,V=e.l,H=e.af,Q=e.aa},null,e=>{J=e.b},e=>{Y=e.f},e=>{X=e.O,ee=e.o},e=>{te=e.u,re=e.a,ne=e.c},e=>{ue=e.N,ie=e.g,oe=e.h,ae=e.i,se=e.j},e=>{ce=e.h},e=>{le=e.H},e=>{pe=e.u},e=>{he=e.B},e=>{de=e.b,me=e.c},e=>{fe=e.b},e=>{we=e.O,ge=e.C},e=>{ye=e.f},e=>{_e=e.a},null,null,null,null,null,null],execute:function(){e("default",function(){return r.jsx(Ee,{children:r.jsx(Za,{})})});const t=async(e,t)=>{await fetch(`/account.php?action=print_invoice&order_id=${e}`).then(e=>{if(e.ok)return e.text();throw new Error("Network response was not ok.")}).then(e=>{((e,t)=>{let r=document.getElementById(t);r||(r=document.createElement("iframe"),r.src="about:blank",r.id=t,r.style.display="none",document.body.appendChild(r));const n=r.contentWindow?.document;n&&(n.open(),n.write(e),n.close()),r.style.display="block"})(e,t)}).catch(e=>{J.error("Error Invoice:",e)})},be="\n  companyInfo {\n    companyId,\n    companyName,\n    companyAddress,\n    companyCountry,\n    companyState,\n    companyCity,\n    companyZipCode,\n    phoneNumber,\n    bcId,\n  }\n",ve=(e,t)=>`\nquery ${"allOrders"===t?"GetAllOrders":"GetCustomerOrders"} {\n  ${t}(\n    search: "${e.q||""}"\n    status: "${e?.statusCode||""}"\n    first: ${e.first}\n    offset: ${e.offset}\n    beginDateAt: ${e?.beginDateAt?JSON.stringify(e.beginDateAt):null}\n    endDateAt: ${e?.endDateAt?JSON.stringify(e.endDateAt):null}\n    companyName: "${e?.companyName||""}"\n    createdBy: "${e?.createdBy||""}"\n    isShowMy: "${e?.isShowMy||0}"\n    orderBy: "${e.orderBy}"\n    email: "${e?.email||""}"\n    ${e?.companyIds?`companyIds: ${b(e.companyIds||[])}`:""}\n  ){\n    totalCount,\n    pageInfo{\n      hasNextPage,\n      hasPreviousPage,\n    },\n    edges{\n      node {\n        orderId,\n        createdAt,\n        updatedAt,\n        totalIncTax,\n        currencyCode,\n        usdIncTax,\n        money,\n        items,\n        cartId,\n        userId,\n        poNumber,\n        referenceNumber,\n        status,\n        customStatus,\n        statusCode,\n        isArchived,\n        isInvoiceOrder,\n        invoiceId,\n        invoiceNumber,\n        invoiceStatus,\n        ipStatus,\n        flag,\n        billingName,\n        merchantEmail,\n        firstName,\n        lastName,\n        companyName,\n        ${be}\n      }\n    }\n  }\n}`,xe=(e,t)=>`\nquery ${"order"===t?"GetOrder":"GetCustomerOrder"} {\n  ${t}(\n    id: ${e}\n  ){\n    id,\n    companyName,\n    firstName,\n    lastName,\n    status,\n    statusId,\n    customerId,\n    customStatus,\n    dateCreated,\n    dateModified,\n    dateShipped,\n    subtotalExTax,\n    subtotalIncTax,\n    subtotalTax,\n    baseShippingCost,\n    shippingCostExTax,\n    shippingCostIncTax,\n    shippingCostTax,\n    shippingCostTaxClassId,\n    baseHandlingCost,\n    handlingCostExTax,\n    handlingCostIncTax,\n    handlingCostTax,\n    handlingCostTaxClassId,\n    baseWrappingCost,\n    wrappingCostExTax,\n    wrappingCostIncTax,\n    wrappingCostTax,\n    wrappingCostTaxClassId,\n    totalExTax,\n    totalIncTax,\n    totalTax,\n    itemsTotal,\n    itemsShipped,\n    paymentMethod,\n    paymentProviderId,\n    paymentStatus,\n    refundedAmount,\n    orderIsDigital,\n    storeCreditAmount,\n    giftCertificateAmount,\n    ipAddress,\n    geoipCountry,\n    geoipCountryIso2,\n    currencyId,\n    currencyCode,\n    currencyExchangeRate,\n    defaultCurrencyId,\n    defaultCurrencyCode,\n    staffNotes,\n    customerMessage,\n    discountAmount,\n    couponDiscount,\n    shippingAddressCount,\n    isDeleted,\n    ebayOrderId,\n    cartId,\n    ipAddressV6,\n    isEmailOptIn,\n    poNumber,\n    storeDefaultCurrencyCode,\n    storeDefaultToTransactionalExchangeRate,\n    customerLocale,\n    channelId,\n    orderSource,\n    externalSource,\n    creditCardType,\n    externalId,\n    externalMerchantId,\n    taxProviderId,\n    canReturn,\n    createdEmail,\n    products,\n    coupons,\n    extraFields,\n    billingAddress,\n    shippingAddresses,\n    shippingAddress,\n    shipments,\n    money,\n    referenceNumber,\n    isInvoiceOrder,\n    updatedAt,\n    externalOrderId,\n    ipStatus,\n    invoiceId,\n    orderHistoryEvent {\n      id,\n      eventType,\n      status,\n      extraFields,\n      createdAt,\n    },\n    ${be}\n  }\n}`,Se=e=>`\nquery ${"orderStatuses"===e?"GetOrderStatuses":"GetCustomerOrderStatuses"} {\n  ${e} {\n    systemLabel,\n    customLabel,\n    statusCode,\n  }\n}`,Ce=e=>_.graphqlB2B({query:ve(e,"allOrders")}).then(e=>e.allOrders),Pe=e=>_.graphqlB2B({query:ve(e,"customerOrders")}).then(e=>e.customerOrders),ke=e=>_.graphqlB2B({query:xe(e,"order")}).then(e=>e.order),Ae=e=>_.graphqlB2B({query:xe(e,"customerOrder")}).then(e=>e.customerOrder),je=()=>_.graphqlB2B({query:Se("orderStatuses")}).then(e=>e.orderStatuses),Ie=()=>_.graphqlB2B({query:Se("bcOrderStatuses")}).then(e=>e.bcOrderStatuses),Te={shippings:[],billings:[],history:[],poNumber:"",status:"",statusCode:"",currencyCode:"",currency:"",orderSummary:{createAt:"",name:"",priceData:{},priceSymbol:{}},customStatus:"",money:{currency_location:"left",currency_token:"$",decimal_token:".",decimal_places:2,thousands_token:",",currency_exchange_rate:"1.0000000000"},payment:{},orderComments:"",products:[],orderId:"",orderStatus:[],ipStatus:0,invoiceId:0,addressLabelPermission:!1,canReturn:!1,createdEmail:"",orderIsDigital:!1,companyInfo:{companyId:"",companyName:"",companyAddress:"",companyCountry:"",companyState:"",companyCity:"",companyZipCode:"",phoneNumber:"",bcId:""},digitalProducts:[],billingAddress:{city:"",company:"",country:"",country_iso2:"",email:"",first_name:"",last_name:"",phone:"",state:"",street_1:"",street_2:"",zip:""}},De=y.createContext({state:Te,dispatch:()=>{}}),Ne=(e,t)=>{switch(t.type){case"all":return{...e,...t.payload};case"statusType":return{...e,orderStatus:t.payload.orderStatus};case"addressLabel":return{...e,addressLabelPermission:t.payload.addressLabelPermission};default:return e}};function Ee(e){const[t,n]=y.useReducer(Ne,Te),{children:u}=e,i=y.useMemo(()=>({state:t,dispatch:n}),[t]);return r.jsx(De.Provider,{value:i,children:u})}const Oe=e=>{const{shipments:t,shippingAddress:r,products:n=[]}=e,u=(t||[]).map(e=>{const{items:t}=e,r=[];return t.forEach(e=>{const t=n.find(t=>t.id===e.order_product_id);t&&r.push({...t,current_quantity_shipped:e.quantity,not_shipping_number:t.quantity-t.quantity_shipped})}),{...e,itemsInfo:r}}),i=(!1===r?[]:r).map(e=>({...e,shipmentItems:[...u.filter(t=>t.order_address_id===e.id)],notShip:{itemsInfo:n.filter(t=>t.quantity>t.quantity_shipped&&e.id===t.order_address_id).map(e=>({...e,not_shipping_number:e.quantity-e.quantity_shipped}))}}));return i},Le=e=>{const{billingAddress:t,products:r}=e,n=[{billingAddress:t,digitalProducts:r.filter(e=>"digital"===e.type)}];return n},Be=e=>{const{decimal_places:t=2}=x();try{return(parseFloat(e.toString())||0).toFixed(t)}catch(r){return"0.00"}},Re=(e,t)=>{const{dateCreated:r,firstName:n,lastName:u,totalTax:i,subtotalExTax:o,subtotalIncTax:a,totalExTax:s,totalIncTax:c,handlingCostExTax:l,handlingCostIncTax:p,shippingCostExTax:h,shippingCostIncTax:d,coupons:m,discountAmount:f}=e,{global:{showInclusiveTaxPrice:w}}=v.getState(),g={},y={},_={};m.forEach(e=>{const r=t("orderDetail.summary.coupon",{couponCode:e?.code?`(${e.code})`:""});g[r]=r,y[r]=e?.discount,_[r]="coupon"});const b={subTotal:t("orderDetail.summary.subTotal"),shipping:t("orderDetail.summary.shipping"),handingFee:t("orderDetail.summary.handlingFee"),discountAmount:t("orderDetail.summary.discountAmount"),...g,tax:t("orderDetail.summary.tax"),grandTotal:t("orderDetail.summary.grandTotal")};return{createAt:r,name:`${n} ${u}`,priceData:{[b.subTotal]:Be(w?a:o),[b.shipping]:Be(w?d:h),[b.handingFee]:Be(p||l||""),[b.discountAmount]:Be(f||""),...y,[b.tax]:Be(i||""),[b.grandTotal]:Be(c||s||"")},priceSymbol:{[b.subTotal]:"subTotal",[b.shipping]:"shipping",[b.handingFee]:"handingFee",[b.discountAmount]:"discountAmount",..._,[b.tax]:"tax",[b.grandTotal]:"grandTotal"}}},Me=e=>{const{updatedAt:t,billingAddress:r,paymentMethod:n,dateCreated:u}=e,i=new Date(u).getTime()/1e3;return{updatedAt:t,billingAddress:r,paymentMethod:n,dateCreateAt:JSON.stringify(i)}},Ue=e=>{const{products:t}=e,r=[];return t.forEach(e=>{const t=r.findIndex(t=>Number(t.variant_id)===Number(e.variant_id));if(-1===t)r.push(e);else{const n=r[t];r[t]={...n,quantity:Number(n.quantity)+Number(e.quantity)}}}),r},ze=(e,t)=>{return{shippings:Oe(e),billings:Le(e),digitalProducts:(r=e.products,r.filter(e=>"digital"===e.type)),billingAddress:e.billingAddress||{},history:e.orderHistoryEvent||[],poNumber:e.poNumber||"",status:e.status,statusCode:e.statusId,currencyCode:e.currencyCode,currency:e.money?.currency_token||"$",money:e.money,orderSummary:Re(e,t),payment:Me(e),orderComments:e.customerMessage,products:Ue(e),orderId:Number(e.id),customStatus:e.customStatus,ipStatus:Number(e.ipStatus)||0,invoiceId:Number(e.invoiceId||0),canReturn:e.canReturn,createdEmail:e.createdEmail,orderIsDigital:e.orderIsDigital,companyInfo:e.companyInfo};var r},qe=1e8,Fe={orderBy:"-createdAt",offset:0};function Ge({onChange:e,color:t}){const o=S(),a=C(P),[s,c]=y.useState(qe),[l,p]=y.useState(""),[h,d]=y.useState(!1),[m,f]=y.useState({rightId:"",leftId:""}),w=te(),[g]=k();let _=0,b=0,v=null,x=null,A={offset:0};const j=y.useId();if(w?.state){const e=w.state;_=e?.currentIndex||0,b=e?.totalCount||0,v=e?.beginDateAt||null,x=e?.endDateAt||null,A=e?.searchParams||{offset:0}}if(y.useEffect(()=>{if(b>0&&c(_),s===qe)return;const e=_+(A.offset||0);c(e)},[A]),y.useEffect(()=>{s!==qe&&(async()=>{d(!0);const e={...Fe,...A,first:3,offset:s?s-1:0,beginDateAt:v||null,endDateAt:x||null},{edges:t,totalCount:r}=a?await Ce(e):await Pe(e);let n="",u="",i="";s===r-1?(n="toRight",i=t[t.length-2]?.node.orderId||0):0===s?(n="toLeft",u=t[1]?.node.orderId||0):(i=t[0]?.node.orderId||0,u=t[2]?.node.orderId||0),f({leftId:i,rightId:u}),p(n),d(!1)})()},[s]),"{}"===JSON.stringify(A))return null;const I=s+1;return r.jsxs(n,{role:"navigation","aria-labelledby":j,sx:{display:"flex",color:t},children:[!g&&r.jsxs(n,{id:j,sx:{display:"flex",alignItems:"center"},children:[o("orderDetail.pagination.order"),r.jsx(u,{sx:{m:1},children:I}),o("orderDetail.pagination.of"),r.jsx(n,{sx:{ml:1},children:b})]}),r.jsx(i,{onClick:()=>{c(s-1),e(m.leftId)},disabled:b<=1||"toLeft"===l||h,children:r.jsx(ue,{sx:{color:t}})}),r.jsx(i,{onClick:()=>{c(s+1),e(m.rightId)},disabled:b<=1||"toRight"===l||h,children:r.jsx(ie,{sx:{color:t}})})]})}const $e=()=>[{name:"return_reason",label:"Return reason",required:!0,xs:12,variant:"filled",size:"small",fieldType:"dropdown",default:"",options:[{label:"Received Wrong Product",value:"Received wrong product"},{label:"Wrong Product Ordered",value:"Wrong product ordered"},{label:"Not Satisfied With The Product",value:"Not satisfied with the product"},{label:"There Was A Problem With The Product",value:"There was a problem with the product"}]},{name:"return_action",label:"Return action",required:!0,xs:12,variant:"filled",size:"small",fieldType:"dropdown",default:"",options:[{label:"Repair",value:"Repair"},{label:"Replacement",value:"Replacement"},{label:"Store Credit",value:"Store credit"}]},{name:"return_comments",label:"Comment",required:!1,xs:12,rows:5,variant:"filled",size:"small",fieldType:"multiline",default:""}],We=o("div")(({isHeader:e,isMobile:t})=>({display:"flex",wordBreak:"break-word",padding:"8px 0 0",gap:"8px",flexWrap:t?"wrap":"initial",...e?{borderBottom:"1px solid #D9DCE9",paddingBottom:"8px",alignItems:"center"}:{alignItems:"flex-start"},...t?{borderTop:"1px solid #D9DCE9",padding:"12px 0 12px","&:first-of-type":{marginTop:"12px"}}:{}})),Ze=o("div")(({width:e,padding:t="0",flexBasis:r,textAlignLocation:n})=>({display:"flex",flexGrow:e?0:1,flexShrink:e?0:1,alignItems:"flex-start",justifyContent:"right"===n?"flex-end":"flex-start",flexBasis:r,width:e,padding:t})),Ke=o("div")(()=>({fontSize:"0.875rem",lineHeight:"1.5",color:"#263238"})),Ve=o("img")(()=>({width:"60px",borderRadius:"4px",flexShrink:0})),He=o("div")(()=>({fontSize:"0.75rem",lineHeight:"1.5",color:"#455A64"})),Qe={default:{width:"15%"}},Je={default:{width:"100%",padding:"0 0 0 128px"}};function Ye(e){const{products:t,getProductQuantity:i=e=>e.editQuantity,onProductChange:o=()=>{},setCheckedArr:l=()=>{},setReturnArr:p=()=>{},textAlign:h="left",type:d}=e,m=S(),[f]=k(),[w,g]=y.useState([]),[_,b]=y.useState([]),v=(e,t)=>{const r=parseFloat(t.toString())||0;return(parseInt(e.toString(),10)||0)*r},x=f?Je:Qe,C=()=>{if([...w].length===t.length)g([]),b([]);else{const e=t.map(e=>e.variant_id),r=[];t.forEach((e,t)=>{r[t]={returnId:e.id,returnQty:Number(e.editQuantity)}}),g(e),b(r)}},P=e=>r=>{const n=e,u=r.target.value;Number(u)>=0&&Number(u)<=1e6&&(n.editQuantity=u,"return"===d&&(Number(u)>Number(e.quantity)?(n.editQuantity=e.quantity,I.error(m("purchasedProducts.error.returnedQuantityShouldBeWithinThePurchase"))):(_.forEach(t=>{const r=t;r.returnId===e.id&&(r.returnQty=Number(u))}),p(_))),o([...t]))},T=e=>{["KeyE","Equal","Minus"].indexOf(e.code)>-1&&e.preventDefault()},D=e=>()=>{const r=e;e.editQuantity&&0!==Number(e.editQuantity)||(r.editQuantity="1",o([...t]))};return y.useEffect(()=>{l(w)},[w]),y.useEffect(()=>{p(_)},[_]),t.length>0?r.jsxs(n,{children:[!f&&r.jsxs(We,{isHeader:!0,isMobile:f,children:[r.jsx(a,{checked:w.length===t.length,onChange:C}),r.jsx(Ze,{children:r.jsx(Ke,{children:m("orderDetail.reorder.product")})}),r.jsx(Ze,{textAlignLocation:h,...x.default,children:r.jsx(Ke,{children:m("orderDetail.reorder.price")})}),r.jsx(Ze,{textAlignLocation:h,...x.default,children:r.jsx(Ke,{children:m("orderDetail.reorder.qty")})}),r.jsx(Ze,{textAlignLocation:h,...x.default,children:r.jsx(Ke,{children:m("orderDetail.reorder.total")})})]}),f&&r.jsx(s,{label:"Select all products",control:r.jsx(a,{checked:w.length===t.length,onChange:C}),sx:{paddingLeft:"0.6rem"}}),t.map(e=>{return r.jsxs(We,{isMobile:f,role:"group","aria-labelledby":`group-label-${e.id}`,children:[r.jsx(a,{checked:(t=e.variant_id,w.includes(t)),onChange:()=>((e,t,r)=>{const n=[...w],u=[..._],i=n.findIndex(t=>t===e),o=u.findIndex(e=>e.returnId===t);-1!==i?(n.splice(i,1),u.splice(o,1)):(n.push(e),u.push({returnId:t,returnQty:r})),g(n),b(u)})(e.variant_id,e.id,Number(e.editQuantity))}),r.jsxs(Ze,{children:[r.jsx(Ve,{src:e.imageUrl||A}),r.jsxs(n,{sx:{marginLeft:"16px"},children:[r.jsx(u,{variant:"body1",color:"#212121",id:`group-label-${e.id}`,children:e.name}),r.jsx(u,{variant:"body1",color:"#616161",children:e.sku}),(e.product_options||[]).map(e=>r.jsx(He,{children:`${e.display_name}: ${e.display_value}`},e.id))]})]}),r.jsxs(Ze,{textAlignLocation:h,padding:"10px 0 0",...x.default,children:[f&&r.jsxs("span",{children:[m("orderDetail.reorder.price")," "]}),j(e.base_price)]}),r.jsx(Ze,{textAlignLocation:h,...x.default,children:r.jsx(c,{type:"number",variant:"filled",hiddenLabel:!f,label:f?m("orderDetail.reorder.qty"):"",value:i(e),onChange:P(e),onKeyDown:T,onBlur:D(e),size:"small",sx:{width:f?"60%":"80px","& .MuiFormHelperText-root":{marginLeft:"0",marginRight:"0"}},error:!!e.helperText,helperText:e.helperText})}),r.jsxs(Ze,{textAlignLocation:h,padding:"10px 0 0",...x.default,children:[f&&r.jsxs("span",{children:[m("orderDetail.reorder.total")," "]}),j(v(i(e),e.base_price))]})]},e.sku);var t})]}):null}const Xe=()=>{const e=L.get("XSRF-TOKEN");if(e)return decodeURIComponent(e)};function et({open:e,products:t=[],type:i,currentDialogData:o,setOpen:a,itemKey:s,orderId:c}){const l=re(),p=C(P),[h,d]=y.useState(!1),[m,f]=y.useState(!1),[w,g]=y.useState([]),[_,b]=y.useState([]),[v,x]=y.useState(!1),[A,j]=y.useState([]),[L,B]=y.useState([]),[R]=y.useState($e()),[M]=k(),{control:U,handleSubmit:z,getValues:q,formState:{errors:F},setValue:G}=pe({mode:"all"}),$=S(),W=()=>{a(!1)},Z=()=>{z(e=>{(async(e,t,r)=>{if(!Object.keys(e).length||!t.length)return void I.error($("purchasedProducts.error.selectOneItem"));const n=t.reduce((e,t)=>(e[`return_qty[${t.returnId}]`]=t.returnQty,e),e);n.authenticity_token=Xe(),n.order_id=r;const u=new URLSearchParams(n),i={method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},referrer:`${O}/account.php?action=new_return&order_id=${r}`,body:u,mode:"no-cors"};try{x(!0);const e=await fetch(`${O}/account.php?action=save_new_return`,i);200===e.status&&e.url.includes("saved_new_return")?I.success($("purchasedProducts.success.successfulApplication")):I.error("purchasedProducts.error.failedApplication"),x(!1),W()}catch(o){J.error(o)}})(e,L,c)})()},K=async()=>{x(!0);try{const e=[],t=[];if(w.forEach(r=>{A.includes(r.variant_id)&&(e.push({quantity:parseInt(`${r.editQuantity}`,10)||1,productId:r.product_id,variantId:r.variant_id,optionSelections:(r.product_options||[]).map(e=>({optionId:e.product_option_id,optionValue:e.value})),allOptions:r.product_options}),t.push(r.sku))}),t.length<=0)return;if(!((e,t)=>{let r=!0;return t.forEach(t=>{const n=(e||[]).find(e=>e.variantSku.toUpperCase()===t.toUpperCase()),u=w.find(e=>e.sku===t);if(!n||!u)return;const{maxQuantity:i=0,minQuantity:o=0,stock:a=0,isStock:s="0"}=n,c=u?.editQuantity||1;"1"===s&&c>a?(u.helperText=$("purchasedProducts.outOfStock"),r=!1):0!==o&&c<o?(u.helperText=$("purchasedProducts.minQuantity",{minQuantity:o}),r=!1):0!==i&&c>i?(u.helperText=$("purchasedProducts.maxQuantity",{maxQuantity:i}),r=!1):u.helperText=""}),r||g([...w]),r})(_,t))return void I.error($("purchasedProducts.error.fillCorrectQuantity"));const r=await N(e);r&&(r.data.cart.createCart||r.data.cart.addCartLineItems)?(a(!1),I.success($("orderDetail.reorder.productsAdded"),{action:{label:$("orderDetail.reorder.viewCart"),onClick:()=>{window.b2b.callbacks.dispatchEvent("on-click-cart-button")&&(window.location.href=E)}}}),fe()):r.errors&&I.error(r.errors[0].message)}catch(e){if(e instanceof Error)I.error(e.message);else if("object"==typeof e&&null!==e&&"detail"in e){const t=e;I.error(t.detail)}}finally{x(!1)}};return y.useEffect(()=>{e&&(g(t.map(e=>({...e,editQuantity:e.quantity}))),(async()=>{const e=t.filter(e=>e?.isVisible).map(e=>e.sku);if(0===e.length)return;const{variantSku:r=[]}=await D(e);b(r)})())},[p,e,t]),r.jsxs(r.Fragment,{children:[r.jsx(n,{sx:{ml:3,width:"50%"},children:r.jsxs(T,{isOpen:e,fullWidth:!0,handleLeftClick:W,handRightClick:()=>{if(0===A.length&&I.error($("purchasedProducts.error.selectOneItem")),"shoppingList"===i){if(0===A.length)return;W(),f(!0)}"reOrder"===i&&K(),"return"===i&&Z()},title:o?.dialogTitle||"",rightSizeBtn:o?.confirmText||"Save",maxWidth:"md",loading:v,children:[r.jsx(u,{sx:{margin:M?"0 0 1rem":"1rem 0"},children:o?.description||""}),r.jsx(Ye,{products:w,onProductChange:e=>{g(e)},setCheckedArr:j,setReturnArr:B,textAlign:M?"left":"right",type:i}),"return"===i&&r.jsxs(r.Fragment,{children:[r.jsx(u,{variant:"body1",sx:{margin:"20px 0"},children:$("purchasedProducts.orderDialog.additionalInformation")}),r.jsx(he,{formFields:R,errors:F,control:U,getValues:q,setValue:G})]})]})}),"order-summary"===s&&r.jsx(we,{isOpen:m,dialogTitle:$("purchasedProducts.orderDialog.addToShoppingList"),onClose:()=>{f(!1)},onConfirm:async e=>{x(!0);try{const t=w.map(e=>{const{product_id:t,variant_id:r,editQuantity:n,product_options:u}=e;return{productId:Number(t),variantId:r,quantity:Number(n),optionList:u.map(e=>{const{product_option_id:t,value:r}=e;return{optionId:`attribute[${t}]`,optionValue:r}})}}),r=t.filter(e=>A.includes(Number(e.variantId))),n=p?de:me;await n({shoppingListId:Number(e),items:r}),I.success($("orderDetail.addToShoppingList.productsAdded"),{action:{label:$("orderDetail.viewShoppingList"),onClick:()=>{l(`/shoppingList/${e}`)}}}),f(!1)}finally{x(!1)}},onCreate:()=>{f(!1),d(!0)},isLoading:v,setLoading:x}),"order-summary"===s&&r.jsx(ge,{open:h,onChange:()=>{d(!1),f(!0)},onClose:()=>{d(!1),f(!0)}})]})}const tt=o("div")(()=>({})),rt=o("div")(e=>({flexWrap:"wrap",padding:e.isShowButtons?"0 1rem 1rem 1rem":0,"& button":{marginLeft:"0",marginRight:"8px",margin:"8px 8px 0 0"}})),nt=o("div")(e=>({display:"flex",justifyContent:"space-between",fontWeight:"grandTotal"===e.nameKey?700:400,"& p":{marginTop:0,marginBottom:"grandTotal"===e.nameKey?"0":"12px",lineHeight:1}})),ut=o("div")(()=>({display:"flex",justifyContent:"space-between",fontWeight:400}));function it(e){const{header:i,subtitle:o,buttons:a,infos:s,products:c,itemKey:d,orderId:m,role:f,invoiceId:w,ipStatus:g,isCurrentCompany:_,switchCompanyId:b}=e,v=["coupon","discountAmount"],x=S(),P=C(({b2bFeatures:e})=>e.masqueradeCompany.isAgenting),k=[{dialogTitle:x("orderDetail.orderCard.reorder"),type:"reOrder",description:x("orderDetail.orderCard.reorderDescription"),confirmText:x("orderDetail.orderCard.reorderConfirmText")},{dialogTitle:x("orderDetail.orderCard.return"),type:"return",description:x("orderDetail.orderCard.returnDescription"),confirmText:x("orderDetail.orderCard.returnConfirmText")},{dialogTitle:x("orderDetail.orderCard.addToShoppingList"),type:"shoppingList",description:x("orderDetail.orderCard.addToShoppingListDescription"),confirmText:x("orderDetail.orderCard.addToShoppingListConfirmText")}],A=re(),[T,D]=y.useState(!1),[N,E]=y.useState(!1),[O,L]=y.useState(""),[B,R]=y.useState(),M=a.filter(e=>e.isCanShow).length>0;let U=[],z=[];if("string"!=typeof s){const{info:e}=s;U=Object.keys(e),z=Object.values(e)}const G=e=>{if("viewInvoice"===e)0!==g?A(`/invoice?invoiceId=${w}`):t(m,"b2b_print_invoice");else if("printInvoice"===e)window.open(`/account.php?action=print_invoice&order_id=${m}`);else{if(!_&&b&&(D(!0),1))return;if(!P&&3===Number(f))return void I.error(x("orderDetail.orderCard.errorMasquerade"));E(!0),L(e);const t=k.find(t=>t.type===e);R(t)}};let $=z?.map(e=>r.jsx(ut,{children:e},e));if("string"==typeof s)$=s;else if(s?.money){const e=s?.symbol||{};$=U?.map((t,n)=>r.jsxs(y.Fragment,{children:["grandTotal"===e[t]&&r.jsx(l,{sx:{marginBottom:"1rem",marginTop:"0.5rem"}}),r.jsxs(nt,{nameKey:e[t],"aria-label":t,role:"group",children:[r.jsx("p",{id:"item-name-key",children:t})," ",v.includes(e[t])?r.jsx("p",{children:s?.money?`-${q(s.money,z[n])}`:`-${j(z[n])}`}):r.jsx("p",{children:s?.money?q(s.money,z[n]):j(z[n])})]},t)]},t))}return r.jsxs(p,{sx:{marginBottom:"1rem"},children:[r.jsxs(n,{sx:{padding:"1rem 1rem 0 1rem"},children:[r.jsx(u,{variant:"h5",children:i}),o&&r.jsx("div",{children:o})]}),r.jsx(h,{children:r.jsx(n,{sx:{"& #item-name-key":{maxWidth:"70%",wordBreak:"break-word"}},children:$})}),r.jsx(rt,{isShowButtons:M,children:a&&a.map(e=>r.jsx(y.Fragment,{children:e.isCanShow&&r.jsx(F,{value:e.value,name:e.name,variant:e.variant,onClick:ce(()=>{G(e.name)},2e3),children:e.value},e.key)},e.key))}),r.jsx(et,{open:N,products:c,currentDialogData:B,type:O,setOpen:E,itemKey:d,orderId:Number(m)}),r.jsx(le,{open:T,currentRow:{companyId:Number(b||0)},handleClose:()=>D(!1),title:x("orderDetail.switchCompany.title"),context:x("orderDetail.switchCompany.content.tipsText"),dialogParams:{rightSizeBtn:x("global.B2BSwitchCompanyModal.confirm.button")}})]})}function ot(e){const{detailsData:t,isCurrentCompany:n}=e,u=S(),i=C(P),o=C(({company:e})=>e.customer.emailAddress),a=C(({company:e})=>e.customer.role),s=C(B),{state:{shoppingListEnabled:c=!1}}=y.useContext(R),{state:{addressLabelPermission:l,createdEmail:p}}=y.useContext(De),{money:h,orderSummary:{createAt:d,name:m,priceData:f,priceSymbol:w}={},payment:{billingAddress:g,paymentMethod:_,dateCreateAt:b}={},orderComments:v="",products:x,orderId:k,ipStatus:A=0,invoiceId:j,poNumber:I,customerId:T,companyInfo:{companyId:D}={}}=t,N=y.useCallback(()=>{let e="";return d?(e=u(I?"orderDetail.paidWithPo":"orderDetail.paidInFull",{paidDate:M(d,!0)}),e):e},[I,d,u]);if(!k)return null;const{purchasabilityPermission:E,shoppingListCreateActionsPermission:O}=s,{getInvoicesPermission:L}=U,q=z({code:L,companyId:D?Number(D):0,userId:T?Number(T):0}),F=e=>{if(l)return e;const t=e.indexOf("/");return e.substring(t+1,e.length)},G=[{value:u("orderDetail.reorder"),key:"Re-Order",name:"reOrder",variant:"outlined",isCanShow:!i||E},{value:u("orderDetail.return"),key:"Return",name:"return",variant:"outlined",isCanShow:!1},{value:u("orderDetail.addToShoppingList"),key:"add-to-shopping-list",name:"shoppingList",variant:"outlined",isCanShow:i?O&&c:c}],$=0!==Number(A)||p===o,W=[{header:u("orderDetail.summary"),key:"order-summary",subtitle:b&&m?u("orderDetail.purchaseDetails",{name:m,updatedAt:M(Number(b))}):"",buttons:G,infos:{money:h,info:f||{},symbol:w||{}}},{header:u("orderDetail.payment"),key:"payment",subtitle:N(),buttons:[{value:u(i?"orderDetail.viewInvoice":"orderDetail.printInvoice"),key:"aboutInvoice",name:i?"viewInvoice":"printInvoice",variant:"outlined",isCanShow:i?$&&q:$}],infos:{info:(e=>{if(!e)return{};const{first_name:t,last_name:r,company:n,street_1:i,state:o,zip:a,country:s,city:c}=e||{};return{paymentMethod:u("orderDetail.paymentMethod",{paymentMethod:_??""}),name:u("orderDetail.customerName",{firstName:t,lastName:r}),company:F(n),street:i,address:u("orderDetail.customerAddress",{city:c,state:o,zip:a,country:s})}})(g)}},{header:u("orderDetail.comments"),key:"order-comments",subtitle:"",buttons:[],infos:{info:(e=>{const t=e.split(/\n/g),r={},n=["-------------------------------------"];return t.forEach((e,t)=>{if(e.trim().length>0){let i=e.trim().includes(":")?e:u("orderDetail.itemComments",{item:e});n.includes(e)&&(i=e),r[`mes${t}`]=i}}),r})(v)}}];return r.jsx(tt,{children:W&&W.map(e=>y.createElement(it,{products:x,orderId:k.toString(),...e,itemKey:e.key,role:a,ipStatus:A,invoiceId:j,key:e.key,isCurrentCompany:n,switchCompanyId:D}))})}const at=async e=>{const t=await fetch(e),r=await t.blob();if("text/html"===r.type)throw new Error;((e,t)=>{const r=document.createElement("a");r.style.display="none",r.href=URL.createObjectURL(e),r.setAttribute("download",t),document.body.appendChild(r),r.click()})(r,(e=>{const t=e.get("content-disposition"),r=(t?.split(";")??[]).find(e=>e.trim().startsWith("filename="));return r?JSON.parse(r.split("=")[1]):""})(t.headers))};function st({isOpen:e,onClose:t,product:i}){const o=d(),a=S(),s=o.palette.primary.main;return r.jsx(T,{isOpen:e,fullWidth:!0,handleLeftClick:t,title:a("orderDetail.digitalProducts.filesToDownload"),leftSizeBtn:a("orderDetail.digitalProducts.close"),maxWidth:"md",showRightBtn:!1,children:i?.downloadFileUrls?.map((e,t)=>{const o=`${i?.product_id}-${t}`;return r.jsxs(n,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"8px 0",margin:"15px 0 15px 0",borderWidth:"1px",borderStyle:"solid",borderColor:s,borderRadius:"10px",p:2},children:[r.jsxs(n,{sx:{display:"flex"},children:[r.jsx(oe,{sx:{color:s,fontSize:"40px"}}),r.jsx(u,{sx:{color:s,fontSize:"14px",alignSelf:"center"},children:`${i?.name} ${t+1}`})]}),r.jsx(m,{onClick:()=>(async e=>{try{await at(e)}catch{I.error(a("orderDetail.digitalProducts.fileNotAvailable"))}})(e),sx:{color:s,textDecoration:"none",fontSize:"14px"},children:a("orderDetail.digitalProducts.download")})]},o)})})}const ct=e=>_.graphqlBCProxy({query:"\n  query GetDigitalDownloadLinks($orderId: Int!) {\n    site {\n      order(filter: {entityId: $orderId}) {\n        consignments {\n          downloads {           \n            lineItems {\n              edges {\n                node {\n                  name\n                  downloadPageUrl\n                  downloadFileUrls\n                  productEntityId\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n",variables:{orderId:e}}).then(e=>e.data.site.order.consignments.downloads[0]?.lineItems.edges||[]);function lt({isCurrentCompany:e}){const{state:{billingAddress:t,digitalProducts:i=[],addressLabelPermission:o,orderId:a,money:s}}=y.useContext(De),[c]=k(),l=S(),[d,m]=y.useState([]),[w,g]=y.useState();return y.useEffect(()=>{a&&(async e=>{const t=await ct(e);if(!t.length)return;const r=t.map(e=>e.node),n=i.map(e=>{const t=r.find(({productEntityId:t})=>t===e.product_id)?.downloadFileUrls||[];return{...e,downloadFileUrls:t}});m(n)})(a)},[i,a]),t?r.jsx(f,{spacing:2,children:r.jsxs(p,{children:[r.jsxs(h,{children:[r.jsxs(n,{sx:{wordBreak:"break-word",color:"rgba(0, 0, 0, 0.87)"},children:[r.jsxs(u,{variant:"h6",sx:{fontSize:"24px",fontWeight:"400"},children:[(e=>{if(e){const{first_name:t,last_name:r}=e;return`${t} ${r}`}return""})(t)," – ",(e=>{if(o)return e;const t=e.indexOf("/");return e.substring(t+1,e.length)})(t.company||"")]}),r.jsx(u,{variant:"h6",sx:{fontSize:"24px",fontWeight:"400"},children:(e=>{if(e){const{street_1:t,city:r,state:n,zip:u,country:i}=e;return`${t}, ${r}, ${n} ${u}, ${i}`}return""})(t)})]}),r.jsx(n,{sx:{margin:"20px 0 2px"},children:r.jsx(u,{variant:"body1",sx:{fontWeight:"bold",color:"#313440"},children:l("orderDetail.billing.digitalProducts")})}),r.jsx(G,{products:d.length?d:i||[],totalText:"Total",canToProduct:e,textAlign:c?"left":"right",money:s,getCurrentProductUrls:e=>{const t=d?.find(t=>t.product_id===e);g(t)}})]}),r.jsx(st,{isOpen:!!w,onClose:()=>g(void 0),product:w})]},`billing-${a}`)}):null}const pt=o("div")(()=>({"& > .MuiPaper-root":{boxShadow:"none"},"& table":{"& td, & th":{"&:first-of-type":{paddingLeft:0}}}}));function ht(){const e=S(),{state:{history:t=[],orderStatus:n=[],customStatus:i}}=y.useContext(De),[o]=k(),a=t=>{const r=n.find(e=>e.systemLabel===t);let u=r?.customLabel||i;if(r){const t=ee[r.systemLabel];u=t&&e(t)!==r.systemLabel?e(t):u}return u},s=[{key:"time",title:e("orderDetail.history.dateHeader"),render:e=>`${$(e.createdAt)}`,width:o?"100px":"200px"},{key:"code",title:e("orderDetail.history.statusHeader"),render:e=>r.jsx(X,{code:e.status,text:a(e.status)})}];return t.length>0?r.jsx(p,{children:r.jsxs(h,{sx:{paddingBottom:"50px"},children:[r.jsx(u,{variant:"h5",children:e("orderDetail.history.title")}),r.jsx(pt,{children:r.jsx(W,{columnItems:s,listItems:t,showPagination:!1})})]})}):null}var dt={};const mt={name:"Amazon",courier_code:"amazon",tracking_numbers:[{name:"Amazon Logistics",id:"amazon_logistics",regex:["\\s*T\\s*B\\s*A\\s*(?<SerialNumber>([0-9]\\s*){12,12})\\s*"],validation:{},test_numbers:{valid:["TBA000000000000","TBA010000000000","TBA 000000000000","TBA502887274000"],invalid:["TBA50288727400A","000000000000000","000000000000","TBB000000000000"]}},{name:"Amazon International",id:"amazon_international",regex:["\\s*[AFC]\\s*(?<SerialNumber>([0-9]\\s*){10,10})\\s*"],validation:{},test_numbers:{valid:["C1004444443","C1004444444"],invalid:["D1234567890"]}}]},ft={name:"DHL",courier_code:"dhl",tracking_numbers:[{name:"DHL Express",id:"dhl_express",regex:"\\s*(?<SerialNumber>([0-9]\\s*){9,10})(?<CheckDigit>([0-9]\\s*))",validation:{checksum:{name:"mod7"}},tracking_url:"http://www.dhl.com/en/express/tracking.html?brand=DHL&AWB=%s",test_numbers:{valid:["3318810025","73891051146","8487135506","1099255990","3821724944","3318810036","3318810014"],invalid:["3318810010","3318810034","3318810011"]}},{name:"DHL Express (Piece ID)",id:"dhl_express_piece_id",regex:"\\s*(J[A-Z]{2,3})(?<SerialNumber>([0-9]\\s*){9,10})",validation:{},tracking_url:"http://www.dhl.com/en/express/tracking.html?brand=DHL&AWB=%s",test_numbers:{valid:["JJD0099999999","JVGL0999999990"],invalid:["XJD0099999998"]}},{name:"DHL E-Commerce",id:"dhl_ecommerce",regex:"\\s*((GM)|(LX)|(RX)|(UV)|(CN)|(SG)|(TH)|(IN)|(HK)|(MY))\\s*(?<SerialNumber>([0-9]\\s*){10,39})",validation:{},tracking_url:"http://www.dhl.com/en/express/tracking.html?brand=DHL&AWB=%s",test_numbers:{valid:["GM2951173225174494","GM 2 9 5 117 32 25 1 7 44 9 4","GM295117494011169042"],invalid:["GS295117494011169041","GR295117494011169045"]}}]},wt={name:"FedEx",courier_code:"fedex",tracking_numbers:[{name:"FedEx Express (12)",id:"fedex_12",regex:"\\s*(?<SerialNumber>([0-9]\\s*){11})(?<CheckDigit>[0-9]\\s*)",validation:{checksum:{name:"sum_product_with_weightings_and_modulo",weightings:[3,1,7,3,1,7,3,1,7,3,1],modulo1:11,modulo2:10}},tracking_url:"https://www.fedex.com/apps/fedextrack/?tracknumbers=%s",test_numbers:{valid:["986578788855","477179081230","799531274483","790535312317"," 7 9 0 5 3 5 3 1 2 3 1 7 ","974367662710"],invalid:["996578788855"]}},{name:"FedEx Express (34)",id:"fedex_34",regex:["\\s*1\\s*0\\s*[0-9]\\s*[0-9]\\s*[0-9]\\s*","([0-9]\\s*){10}","(?<DestinationZip>([0-9]\\s*){5})","(?<SerialNumber>([0-9]\\s*){13})","(?<CheckDigit>[0-9]\\s*)"],validation:{checksum:{name:"sum_product_with_weightings_and_modulo",weightings:[1,7,3,1,7,3,1,7,3,1,7,3,1],modulo1:11,modulo2:10}},tracking_url:"https://www.fedex.com/apps/fedextrack/?tracknumbers=%s",test_numbers:{valid:["1001921334250001000300779017972697","1001921380360001000300639585804382","1001901781990001000300617767839437"," 1 0 0 1 9 0 1 7 8 1 9 9 0 0 0 1 0 0 0 3 0 0 6 1 7 7 6 7 8 3 9 4 3 7 ","1002297871540001000300790695517286","1027590111820004833500785458233610"],invalid:["1001901781990001000300617767839438"]}},{name:"FedEx SmartPost",id:"fedex_smartpost",description:"Shipped by FedEx, Delivered by USPS",regex:["\\s*(?:","(?:(?<RoutingApplicationId>4\\s*2\\s*0\\s*)(?<DestinationZip>([0-9]\\s*){5}))?","(?<ApplicationIdentifier>9\\s*2\\s*)",")?","(?<SerialNumber>","(?<SCNC>([0-9]\\s*){2})","(?<ServiceType>2\\s*9\\s*)","(?<ShipperId>([0-9]\\s*){8})","(?<PackageId>([0-9]\\s*){11}|([0-9]\\s*){7})",")","(?<CheckDigit>([0-9]\\s*))"],additional:[{name:"Service Type",regex_group_name:"ServiceType",lookup:[{matches_regex:".",name:"Delivered by USPS"}]}],partners:[{partner_id:"usps_91",partner_type:"carrier",description:"FedEx SmartPost is a shipping service that utilizes FedEx for the initial transport and the United States Postal Service for final delivery."}],validation:{checksum:{name:"mod10",evens_multiplier:3,odds_multiplier:1},serial_number_format:{prepend_if:{matches_regex:"^(?!92).+",content:"92"}}},tracking_url:"https://www.fedex.com/apps/fedextrack/?tracknumbers=%s",test_numbers:{valid:["61299998820821171811","9261292700768711948021","420 11213 92 6129098349792366623 8","92 6129098349792366623 8","6129098349792366623 8"],invalid:["9261292700768711948020","92001903060085300042901077","420 11213 61290983497923666231","92 6129098349792366623 5","9400 1112 0108 0805 4830 16","9361 2898 7870 0317 6337 95"]}},{name:"FedEx Ground",id:"fedex_ground",regex:"\\s*(?<SerialNumber>([0-9]\\s*){14})(?<CheckDigit>([0-9]\\s*))",validation:{checksum:{name:"mod10",evens_multiplier:1,odds_multiplier:3}},tracking_url:"https://www.fedex.com/apps/fedextrack/?tracknumbers=%s",test_numbers:{valid:["0414 4176 0228 964","5682 8361 0012 000"," 5 6 8 2   8 3 6 1   0 0 1 2   0 0 0 ","5682 8361 0012 734"],invalid:["5682 8361 0012 732"]}},{name:"FedEx Ground (SSCC-18)",id:"fedex_ground_sscc_18",regex:"\\s*(?<ShippingContainerType>([0-9]\\s*){2})(?<SerialNumber>([0-9]\\s*){15})(?<CheckDigit>[0-9]\\s*)",tracking_url:"https://www.fedex.com/apps/fedextrack/?tracknumbers=%s",validation:{checksum:{name:"mod10",evens_multiplier:3,odds_multiplier:1}},test_numbers:{valid:["00 0123 4500 0000 0027"," 0 0   0 1 2 3   4 5 0 0   0 0 0 0   0 0 2 7 "],invalid:["000000000000000001"]},additional:[{name:"Container Type",regex_group_name:"ShippingContainerType",lookup:[{matches:"00",name:"case/carton"},{matches:"01",name:"pallet"},{matches:"02",name:"larger than a pallet"},{matches:"04",name:"internally defined for intra-company use"}]}]},{name:"FedEx Ground 96 (22)",id:"fedex_ground_96",regex:["\\s*(?<ApplicationIdentifier>9\\s*6\\s*)","(?<SCNC>([0-9]\\s*){2})","(?<ServiceType>([0-9]\\s*){3})","(?<SerialNumber>(?<ShipperId>([0-9]\\s*){7})(?<PackageId>([0-9]\\s*){7}))","(?<CheckDigit>[0-9]\\s*)"],validation:{checksum:{name:"mod10",evens_multiplier:1,odds_multiplier:3}},tracking_url:"https://www.fedex.com/apps/fedextrack/?tracknumbers=%s",test_numbers:{valid:["9611020987654312345672"," 9 6 1 1 0 2 0 9 8 7 6 5 4 3 1 2 3 4 5 6 7 2 "],invalid:["9600000000000000000001"]}},{name:"FedEx Ground GSN",id:"fedex_ground_gsn",regex:["\\s*(?<ApplicationIdentifier>9\\s*6\\s*)","(?<SCNC>([0-9]\\s*){2})","([0-9]\\s*){5}","(?<GSN>([0-9]\\s*){10})","[0-9]\\s*","(?<SerialNumber>([0-9]\\s*){13})","(?<CheckDigit>[0-9]\\s*)"],validation:{checksum:{name:"sum_product_with_weightings_and_modulo",weightings:[1,7,3,1,7,3,1,7,3,1,7,3,1],modulo1:11,modulo2:10}},tracking_url:"https://www.fedex.com/apps/fedextrack/?tracknumbers=%s",test_numbers:{valid:["9622001900000000000000776632517510","9622001560000000000000794808390594","9622001560001234567100794808390594"," 9 6 2 2 0 0 1 5 6 0 0 0 1 2 3 4 5 6 7 1 0 0 7 9 4 8 0 8 3 9 0 5 9 4 ","9632001560123456789900794808390594"],invalid:["9622001560001234567100794808390595","9622001560001234567100794808390597"]}}]},gt={name:"OnTrac",courier_code:"ontrac",tracking_numbers:[{name:"OnTrac",id:"ontrac_c",regex:"\\s*C\\s*(?<SerialNumber>([0-9]\\s*){13})(?<CheckDigit>[0-9]\\s*)",validation:{checksum:{name:"mod10",evens_multiplier:1,odds_multiplier:2},serial_number_format:{prepend_if:{matches_regex:"^(?!4).+$",content:"4"}}},tracking_url:"http://www.ontrac.com/tracking/?number=%s",test_numbers:{valid:["C11031500001879","C 110 31 500 00187 9","C10999911320231","C11121552953069","C11121553156000","C11121552829468"],invalid:["C10000000000000","C11031500001889"]}},{name:"OnTrac D",id:"ontrac_d",regex:"\\s*D\\s*(?<SerialNumber>([0-9]\\s*){13})(?<CheckDigit>[0-9]\\s*)",validation:{checksum:{name:"mod10",evens_multiplier:1,odds_multiplier:2},serial_number_format:{prepend_if:{matches_regex:"^(?!5).+$",content:"5"}}},tracking_url:"http://www.ontrac.com/tracking/?number=%s",test_numbers:{valid:["D10011354453707","D10011345983010","D 100 113 459 830 10","D10011342332145"],invalid:["D10011345983012","D10011342332144"]}}]},yt={name:"S10 International Standard",courier_code:"s10",tracking_numbers:JSON.parse('[{"id":"s10","name":"S10","validation":{"checksum":{"name":"s10"},"additional":{"exists":["Courier"]}},"regex":"\\\\s*(?<ServiceType>([A-Z]\\\\s*){2})(?<SerialNumber>([0-9]\\\\s*){8})(?<CheckDigit>([0-9]\\\\s*))(?<CountryCode>([A-Z]\\\\s*){2})","tracking_url":null,"test_numbers":{"valid":["RB123456785GB","RB123456785US","RB123456785CV","RB123456785CF"],"invalid":["RB123456786US","RB123456785XX"]},"additional":[{"name":"Service Type","regex_group_name":"ServiceType","lookup":[{"name":"EMS","matches_regex":"E[A-Z]","description":"International Express Mail Service"},{"name":"Letter Post Express","matches_regex":"L[A-Z]","description":""},{"name":"Letter Post M-bag","matches_regex":"M[A-Z]","description":"Direct sacks of printed matter sent to a single foreign addressee at a single address"},{"name":"Letter Post IBRS","matches_regex":"Q[A-M]","description":"International Business Reply Service"},{"name":"Letter Post Registered","matches_regex":"R[A-Z]","description":"Prepaid first-class mail that is recorded by the post office before being sent and at each point along its route to safeguard against loss, theft, or damage."},{"name":"Letter Post Misc","matches_regex":"U[A-Z]","description":""},{"name":"Letter Post Insured","matches_regex":"V[A-Z]","description":""},{"name":"Parcel Post","matches_regex":"C[A-Z]","description":""},{"name":"Parcel Post (e-commerce)","matches_regex":"H[A-Z]","description":""},{"name":"Domestic","matches_regex":"([BDNPZ][A-Z]|A[V-Z]|G[AD])","description":"Mail designated for domestic, bilateral, or multilateral use"}]},{"name":"Courier","regex_group_name":"CountryCode","lookup":[{"matches":"AF","country":"Afghanistan","courier":"Afghan Post","courier_url":"http://postalcode.afghanpost.gov.af/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/afghanistan.html"},{"matches":"AL","country":"Albania","courier":"Posta Shqiptare","courier_url":"http://www.postashqiptare.al/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/western-europe/albania.html"},{"matches":"DZ","country":"Algeria","courier":"Algérie Poste","courier_url":"http://www.poste.dz/codepostal/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/algeria.html"},{"matches":"AO","country":"Angola","courier":"Correios de Angola","courier_url":"http://www.correiosdeangola.co.ao/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/angola.html"},{"country":"Antigua and Barbuda","matches":"AG","courier":"Antigua Postal Services","courier_url":null,"upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/antigua-and-barbuda.html"},{"matches":"AR","country":"Argentina","courier":"Correo Argentino","courier_url":"http://www.correoargentino.com.ar/formularios/cpa","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/argentina.html"},{"matches":"AM","country":"Armenia","courier":"Haypost - Armenian Postal Service","courier_url":"http://www.haypost.am/view-lang-eng-page-25.html","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/armenia.html"},{"matches":"AU","country":"Australia","courier":"Australia Post","courier_url":"http://www1.auspost.com.au/postcodes/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/australia.html"},{"matches":"AT","country":"Austria","courier":"Österreichische Post AG","courier_url":"http://www.post.at/en/index.php","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/western-europe/austria.html"},{"matches":"AZ","country":"Azerbaijan","courier":"Azarpoçt","courier_url":"http://www.azerpost.az/?options=content&id=188&language=en","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/azerbaijan.html"},{"matches":"BS","country":"Bahamas","courier":"Bahamas Postal Service","courier_url":"http://www.bahamas.gov.bs/postalservice","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/bahamas.html"},{"matches":"BH","country":"Bahrain","courier":"Bahrain Post","courier_url":"http://www.transportation.gov.bh/en/modules.php?name=Content&pa=showpage&pid=97","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/bahrain.html"},{"matches":"BD","country":"Bangladesh","courier":"Bangladesh Post Office","courier_url":"http://www.bangladeshpost.gov.bd/PostCode.asp","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/bangladesh.html"},{"matches":"BB","country":"Barbados","courier":"Barbados Postal Service","courier_url":"http://www.bps.gov.bb/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/barbados.html"},{"matches":"BY","country":"Belarus","courier":"Belpochta","courier_url":"http://zip.belpost.by/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/belarus.html"},{"matches":"BE","country":"Belgium","courier":"bpost","courier_url":"http://www.bpost.be/site/fr/residential/customerservice/search/postal_codes.html","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/western-europe/belgium.html"},{"matches":"BZ","country":"Belize","courier":"Belize Postal Service","courier_url":"http://www.belizepostalservice.gov.bz/site/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/belize.html"},{"matches":"BJ","country":"Benin","courier":"La Poste du Bénin","courier_url":"http://www.laposte.bj/index1.php?id_page=1","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/benin.html"},{"matches":"BT","country":"Bhutan","courier":"Bhutan Post","courier_url":"http://www.bhutanpost.com.bt/postcode/postcode.php","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/bhutan.html"},{"matches":"BO","country":"Bolivia","courier":"ECOBOL – Empresa de Correos de Bolivia","courier_url":"http://www.correosbolivia.com/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/bolivia.html"},{"matches":"BA","country":"Bosnia and Herzegovina","courier":"JP BH POŠTA d.o.o. Sarajevo","courier_url":"http://www.post.ba/postanski_brojevi_bih.php","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/bosnia-and-herzegovina.html"},{"matches":"BW","country":"Botswana","courier":"BotswanaPost","courier_url":"http://www.botspost.co.bw/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/botswana.html"},{"matches":"BR","country":"Brazil","courier":"CORREIOS","courier_url":"http://www.buscacep.correios.com.br/servicos/dnec/index.do","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/brazil.html"},{"matches":"BN","country":"Brunei Darussalam","courier":"Brunei Postal Services","courier_url":"http://www.post.gov.bn/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/brunei-darussalam.html"},{"matches":"BG","country":"Bulgaria (Rep.)","courier":"Bulgarian Posts","courier_url":"http://www.bgpost.bg/?cid=131","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/bulgaria-rep.html"},{"matches":"BF","country":"Burkina Faso","courier":"SONAPOST","courier_url":"http://www.sonapost.bf/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/burkina-faso.html"},{"matches":"BI","country":"Burundi","courier":"RNP – Régie nationale des postes","courier_url":"http://www.poste.bi/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/burundi.html"},{"matches":"KH","country":"Cambodia","courier":"Ministry of Posts and Telecommunications","courier_url":"http://www.mptc.gov.kh/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/cambodia.html"},{"matches":"CM","country":"Cameroon","courier":"CAMPOST – Cameroon Postal Services","courier_url":"http://campostonline.com/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/cameroon.html"},{"matches":"CA","country":"Canada","courier":"Canada Post","courier_url":"http://www.canadapost.ca/cpotools/apps/fpc/personal/findByCity?execution=e1s1","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/canada.html"},{"country":"Cape Verde","matches":"CV","courier":"Correios de Cabo Verde","courier_url":"http://www.correios.cv/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/cape-verde.html"},{"country":"Central African Rep.","matches":"CF","courier":"Direction des services postaux de l\'Office National des Postes et de l\'Épargne","courier_url":null,"upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/central-african-rep.html"},{"matches":"TD","country":"Chad","courier":"Société tchadienne des postes et de l\'épargne","courier_url":null,"upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/chad.html"},{"matches":"CL","country":"Chile","courier":"Correos de Chile","courier_url":"http://www.correos.cl/SitePages/home.aspx","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/chile.html"},{"matches":"CN","country":"China (People\'s Rep.)","courier":"China Post","courier_url":"http://www.cpdc.com.cn/web/index.php?m=postsearch&c=index&a=init&t=addr","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/china-peoples-rep.html"},{"matches":"HK","country":"China","courier":"Hong Kong Post","courier_url":"http://www.hongkongpost.hk","upu_reference_url":""},{"matches":"CO","country":"Colombia","courier":"4-72 La Red Postal de Colombia","courier_url":"http://visor.codigopostal.gov.co/472/visor/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/colombia.html"},{"matches":"KM","country":"Comoros","courier":"Societé Nationale des Postes et des Services Financiers","courier_url":"http://www.lapostecomores.com/bureaux.php","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/comoros.html"},{"matches":"CG","country":"Congo (Rep.)","courier":"Congolese Posts and Savings Company","courier_url":null,"upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/congo-rep.html"},{"country":"Costa Rica","matches":"CR","courier":"Correos de Costa Rica","courier_url":"https://www.correos.go.cr/nosotros/codigopostal/busqueda.html","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/costa-rica.html"},{"matches":"HR","country":"Croatia","courier":"Hrvatska Posta - Croatian Post","courier_url":"http://www.posta.hr/default.aspx?pretpum&id=3417","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/western-europe/croatia.html"},{"matches":"CU","country":"Cuba","courier":"Ministerio de la Informática y las comunicaciones de Cuba","courier_url":"http://www.mic.gov.cu/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/cuba.html"},{"matches":"CY","country":"Cyprus","courier":"Cyprus Post","courier_url":"http://www.mcw.gov.cy/mcw/dps/dps.nsf/index_en/index_en?OpenDocument","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/western-europe/cyprus.html"},{"matches":"CZ","country":"Czech Rep.","courier":"Česká Pošta","courier_url":"http://psc.cpost.cz/CleanForm.action?request_locale=en","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/czech-rep.html"},{"matches":"CI","country":"Côte d\'Ivoire (Rep.)","courier":"La Poste de Côte d’Ivoire","courier_url":"http://www.laposte.ci/bureau.php","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/cote-divoire-rep.html"},{"matches":"KP","country":"Dem People\'s Rep. of Korea","courier":"Korea Post and Telecommunications Corporation","courier_url":null,"upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/dem-peoples-rep-of-korea.html"},{"matches":"CD","country":"Democratic Republic of the Congo","courier":"Congolese Posts and Telecommunications Corporation","courier_url":null,"upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/democratic-republic-of-the-congo.html"},{"matches":"DK","country":"Denmark","courier":"Post Danmark","courier_url":"http://www.postdanmark.dk/en/find_postcode/Pages/home.aspx","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/western-europe/denmark.html"},{"matches":"DJ","country":"Djibouti","courier":"La Poste de Djibouti","courier_url":null,"upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/djibouti.html"},{"matches":"DM","country":"Dominica","courier":"General Post Office","courier_url":"http://publicworks.gov.dm/index.php/divisions/general-post-office/20-gpo-about-us","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/dominica.html"},{"matches":"DO","country":"Dominican Republic","courier":"INPOSDOM – Instituto Postal Dominicano","courier_url":"http://www.inposdom.gob.do/servicios/codigo-postal","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/dominican-republic.html"},{"matches":"EC","country":"Ecuador","courier":"Correos del Ecuador","courier_url":"http://www.codigopostal.gob.ec/#","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/ecuador.html"},{"matches":"EG","country":"Egypt","courier":"Egypt Post","courier_url":"http://www.egyptpost.org/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/egypt.html"},{"matches":"SV","country":"El Salvador","courier":"Correos de El Salvador","courier_url":"http://www.correos.gob.sv/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/el-salvador.html"},{"matches":"GQ","country":"Equatorial Guinea","courier":"Equatorial Guinea Post","courier_url":null,"upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/equatorial-guinea.html"},{"matches":"ER","country":"Eritrea","courier":"Eritrean Postal Service","courier_url":"http://www.eriposta.com/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/eritrea.html"},{"matches":"EE","country":"Estonia","courier":"Eesti Post","courier_url":"http://www.post.ee/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/estonia.html"},{"matches":"ET","country":"Ethiopia","courier":"Ethiopian postal service","courier_url":"http://www.ethiopostal.com/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/ethiopia.html"},{"matches":"FJ","country":"Fiji","courier":"Post Fiji","courier_url":"http://www.postfiji.com.fj/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/fiji.html"},{"matches":"FI","country":"Finland (including the Åland Islands)","courier":"Posti Ltd","courier_url":"http://www.verkkoposti.com/e3/english/postalcodecatalog","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/western-europe/finland-including-the-aaland-islands.html"},{"matches":"FR","country":"France","courier":"La Poste","courier_url":"http://www.laposte.fr/Entreprise/Outils-Indispensables/Outils/Trouvez-un-code-postal","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/western-europe/france.html"},{"matches":"GA","country":"Gabon","courier":"La Poste SA","courier_url":"http://www.laposte.ga/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/gabon.html"},{"matches":"GM","country":"Gambia","courier":"Gambia Postal services Corporation","courier_url":"http://www.gampost.gm/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/gambia.html"},{"matches":"GE","country":"Georgia","courier":"Georgian Post","courier_url":"http://www.georgianpost.ge/?site-lang=en&site-path=help/zipcodes/&letter=A","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/georgia.html"},{"matches":"DE","country":"Germany","courier":"Deutsche Post","courier_url":"http://www.postdirekt.de/plzserver/PlzSearchServlet?lang=en_GB&id=viewstreet","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/western-europe/germany.html"},{"matches":"GH","country":"Ghana","courier":"Ghana Post","courier_url":"http://www.ghanapostgh.com/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/ghana.html"},{"country":"Great Britain","matches":"GB","courier":"Royal Mail Group plc","courier_url":"http://www.royalmail.com/postcode-finder?gear=postcode&campaignid=postcodefinder_redirect","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/western-europe/great-britain.html"},{"matches":"GR","country":"Greece","courier":"Hellenic Post ELTA","courier_url":"http://www.elta.gr/en-us/findapostcode.aspx","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/western-europe/greece.html"},{"matches":"GD","country":"Grenada","courier":"Grenada Postal Corporation","courier_url":"http://www.grenadapostal.com/index.html","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/grenada.html"},{"matches":"GT","country":"Guatemala","courier":"El Correo","courier_url":"http://www.elcorreo.com.gt/cdgcorreo/index.php?option=com_content&view=article&id=104&Itemid=233","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/guatemala.html"},{"matches":"GN","country":"Guinea","courier":"Office de la poste guinéenne","courier_url":null,"upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/guinea.html"},{"country":"Guinea-Bissau","matches":"GW","courier":"Correios da Guiné-Bissau","courier_url":null,"upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/guinea-bissau.html"},{"matches":"GY","country":"Guyana","courier":"Guyana Post Office Corporation","courier_url":"http://guypost.gy/gpoc/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/guyana.html"},{"matches":"HT","country":"Haiti","courier":"Office des Postes d’Haiti","courier_url":"http://postehaiti.gouv.ht/notre-reseau-postal","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/haiti.html"},{"matches":"HN","country":"Honduras (Rep.)","courier":"Honducor","courier_url":"http://honducor.gob.hn/codpost/consulta.php","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/honduras-rep.html"},{"matches":"HU","country":"Hungary","courier":"Magyar Posta","courier_url":"http://www.posta.hu/ugyfelszolgalat/iranyitoszam_kereso","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/hungary.html"},{"matches":"IS","country":"Iceland","courier":"Íslandspóstur hf","courier_url":"http://www.postur.is/en/desktopdefault.aspx/tabid-450/700_read-1715/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/western-europe/iceland.html"},{"matches":"IN","country":"India","courier":"India Post","courier_url":"http://www.indiapost.gov.in/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/india.html"},{"matches":"ID","country":"Indonesia","courier":"Pos Indonesia","courier_url":"http://kodepos.indonesiaweb.info/en/street/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/indonesia.html"},{"matches":"IR","country":"Iran (Islamic Rep.)","courier":"Islamic Republic of Iran Post Co.","courier_url":"http://www.post.ir/Homepage.aspx?site=PostPortal&lang=fa-IR&tabid=0","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/iran-islamic-rep.html"},{"matches":"IQ","country":"Iraq","courier":"Iraqi Post","courier_url":"http://www.iraqipost.net/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/iraq.html"},{"matches":"IE","country":"Ireland","courier":"AN Post - regulatory and International affairs Unit","courier_url":"http://locator.anpost.ie/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/western-europe/ireland.html"},{"matches":"IL","country":"Israel","courier":"Israel Post","courier_url":"http://www.israelpost.co.il/zipcode.nsf/demozip?openform","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/israel.html"},{"matches":"IT","country":"Italy","courier":"Poste Italiane","courier_url":"http://www.poste.it/online/cercacap/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/western-europe/italy.html"},{"matches":"JM","country":"Jamaica","courier":"Jamaica Post","courier_url":"http://www.jamaicapost.gov.jm/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/jamaica.html"},{"matches":"JP","country":"Japan","courier":"Japan Post","courier_url":"http://www.post.japanpost.jp/zipcode/index.html","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/japan.html"},{"matches":"JO","country":"Jordan","courier":"Jordan Post","courier_url":"http://www.jordanpost.com.jo/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/jordan.html"},{"matches":"KZ","country":"Kazakhstan","courier":"Kazpost","courier_url":"http://www.kazpost.kz/ru/poisk-pochtovogo-indeksa-0","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/kazakhstan.html"},{"matches":"KE","country":"Kenya","courier":"Posta Kenya","courier_url":"http://www.posta.co.ke/postOfficeFind.asp","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/kenya.html"},{"matches":"KI","country":"Kiribati","courier":"Kiribati Public Service Public","courier_url":null,"upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/kiribati.html"},{"matches":"KR","country":"Korea (Rep.)","courier":"Korea Post","courier_url":"http://www.epost.go.kr/roadAreaCdEng.retrieveRdEngAreaCdList.comm","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/korea-rep.html"},{"matches":"KW","country":"Kuwait","courier":"Kuwait Ministry of Communications","courier_url":"http://moc.kw/English/index.html","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/kuwait.html"},{"matches":"KG","country":"Kyrgyzstan","courier":"Kyrgyz Post","courier_url":"http://kyrgyzpost.kg/ru/news.html","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/kyrgyzstan.html"},{"matches":"LA","country":"Laos","courier":"Entreprise des Postes Lao","courier_url":null,"upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/lao-peoples-dem-rep.html"},{"matches":"LV","country":"Latvia","courier":"Latvia Post","courier_url":"http://www.pasts.lv/lv/uzzinas/parbaudit-adresi/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/latvia.html"},{"matches":"LB","country":"Lebanon","courier":"LibanPost","courier_url":"http://www.libanpost.com.lb/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/lebanon.html"},{"matches":"LS","country":"Lesotho","courier":"Lesotho Post","courier_url":"http://lesothopost.org.ls/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/lesotho.html"},{"matches":"LR","country":"Liberia","courier":"Ministry of Posts and Telecommunications","courier_url":"http://www.mopt.gov.lr/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/liberia.html"},{"matches":"LY","country":"Libya","courier":"Libya Post","courier_url":"http://libyapost.ly/en/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/libya.html"},{"matches":"LI","country":"Liechtenstein","courier":"Liechtensteinische Post AG","courier_url":"http://www.post.li/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/western-europe/liechtenstein.html"},{"matches":"LT","country":"Lithuania","courier":"Lietuvos Pastas","courier_url":"http://www.post.lt/en/help/postal-code-search","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/lithuania.html"},{"matches":"LU","country":"Luxembourg","courier":"Post","courier_url":"http://www.post.lu/en/particuliers/courrier/rechercher-un-code-postal","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/western-europe/luxembourg.html"},{"matches":"MG","country":"Madagascar","courier":"PAOSITRA MALAGASY","courier_url":"http://www.mtpc.gov.mg/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/madagascar.html"},{"matches":"MW","country":"Malawi","courier":"Malawi Posts Corporation","courier_url":"http://www.malawiposts.com/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/malawi.html"},{"matches":"MY","country":"Malaysia","courier":"Pos Malaysia","courier_url":"http://www.pos.com.my/pos/homepage.aspx","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/malaysia.html"},{"matches":"MV","country":"Maldives","courier":"Maldives Post","courier_url":"http://www.maldivespost.com/index.php?lid=10","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/maldives.html"},{"matches":"ML","country":"Mali","courier":"Office national des postes","courier_url":"http://www.laposte.ml/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/mali.html"},{"matches":"MT","country":"Malta","courier":"Malta Post","courier_url":"http://postcodes.maltapost.com/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/western-europe/malta.html"},{"matches":"MR","country":"Mauritania","courier":"MAURIPOST – Société Mauritanienne des Postes","courier_url":"http://www.mauripost.mr/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/mauritania.html"},{"matches":"MU","country":"Mauritius","courier":"Mauritius Post","courier_url":"http://www.mauritiuspost.mu/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/mauritius.html"},{"matches":"MX","country":"Mexico","courier":"Correos de México","courier_url":"http://www.correosdemexico.gob.mx/ServiciosLinea/Paginas/ccpostales.aspx","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/mexico.html"},{"matches":"MD","country":"Moldova","courier":"Posta Moldovei","courier_url":"http://www.posta.md/ro/postal_code.html","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/moldova.html"},{"matches":"MC","country":"Monaco","courier":"La Poste Monaco","courier_url":"http://www.lapostemonaco.mc/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/western-europe/monaco.html"},{"matches":"MN","country":"Mongolia","courier":"Mongol Post - Монгол шуудан компани","courier_url":"http://www.zipcode.mn/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/mongolia.html"},{"country":"Montenegro (Rep.)","matches":"ME","courier":"Pošta Crne Gore","courier_url":"http://www.postacg.me/main.php?idstr=177","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/montenegro-rep.html"},{"matches":"MA","country":"Morocco","courier":"Barid Al-Maghrib – Poste Maroc","courier_url":"http://www.codepostal.ma/search_mot.aspx?keyword=","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/morocco.html"},{"matches":"MZ","country":"Mozambique","courier":"Correios de Moçambique","courier_url":"http://www.correios.co.mz/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/mozambique.html"},{"matches":"MM","country":"Myanmar","courier":"Myanmar Post and Telecommunications Department","courier_url":null,"upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/myanmar.html"},{"matches":"NA","country":"Namibia","courier":"NAM Post","courier_url":"https://www.nampost.com.na/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/namibia.html"},{"matches":"NR","country":"Nauru","courier":"Nauru General Post Office","courier_url":null,"upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/nauru.html"},{"matches":"NP","country":"Nepal","courier":"Nepal Postal Services","courier_url":"http://www.gpo.gov.np/postalcode.aspx","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/nepal.html"},{"matches":"NL","country":"Netherlands","courier":"PostNL","courier_url":"http://www.postnl.nl/voorthuis/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/western-europe/netherlands.html"},{"matches":"NZ","country":"New Zealand (including the Ross Dependency)","courier":"New Zealand Post","courier_url":"http://www.nzpost.co.nz/Cultures/en-NZ/OnlineTools/PostCodeFinder/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/new-zealand-including-the-ross-dependency.html"},{"matches":"NI","country":"Nicaragua","courier":"Correos de Nicaragua","courier_url":"http://www.correos.gob.ni/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/nicaragua.html"},{"matches":"NE","country":"Niger","courier":"Niger Poste","courier_url":"http://www.nigerposte.net/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/niger.html"},{"matches":"NG","country":"Nigeria","courier":"Nigerian Postal Service","courier_url":"http://www.nigeriapostcodes.com/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/nigeria.html"},{"matches":"NO","country":"Norway","courier":"Posten","courier_url":"http://adressesok.posten.no/en/postal_codes/search","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/western-europe/norway.html"},{"matches":"OM","country":"Oman","courier":"Oman Post","courier_url":"http://www.omanpost.om/Portals/2/Skins/skins//tabid/64/Default.aspx","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/oman.html"},{"matches":"PK","country":"Pakistan","courier":"Pakistan Post","courier_url":"http://www.pakpost.gov.pk/postcode/postcode.html","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/pakistan.html"},{"matches":"PA","country":"Panama (Rep.)","courier":"Correos de Panamá","courier_url":"http://www.correospanama.gob.pa/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/panama-rep.html"},{"matches":"PG","country":"Papua New Guinea","courier":"Post PNG","courier_url":"http://www.postpng.com.pg/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/papua-new-guinea.html"},{"matches":"PY","country":"Paraguay","courier":"Correo Paraguayo","courier_url":"http://www.correoparaguayo.gov.py/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/paraguay.html"},{"matches":"PE","country":"Peru","courier":"SERPOST – Servicios Postales del Perú","courier_url":"http://www.mtc.gob.pe/portal/CPOSTAL/Listado_codigo_postal.html","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/peru.html"},{"matches":"PH","country":"Philippines","courier":"PHLPOST – Philippine Postal Corporation","courier_url":"https://www.phlpost.gov.ph/zip-code-search.php","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/philippines.html"},{"matches":"PL","country":"Poland","courier":"Poczta Polska","courier_url":"http://kody.poczta-polska.pl/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/poland.html"},{"matches":"PT","country":"Portugal","courier":"CTT - Correios","courier_url":"http://www.ctt.pt/feapl_2/app/open/tools.jspx?tool=1","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/western-europe/portugal.html"},{"matches":"QA","country":"Qatar","courier":"Qatar Post","courier_url":"http://www.qpost.com.qa/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/qatar.html"},{"matches":"RO","country":"Romania","courier":"Posta Romana","courier_url":"http://www.posta-romana.ro/postal_codes","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/romania.html"},{"matches":"RU","country":"Russian Federation","courier":"Russian Post","courier_url":"http://www.russianpost.ru/rp/servise/ru/home/postuslug/searchops","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/russian-federation.html"},{"matches":"RW","country":"Rwanda","courier":"National Post Office (Iposita)","courier_url":"http://i-posita.rw/spip.php?article1","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/rwanda.html"},{"matches":"KN","country":"Saint Christopher (Saint Kitts) and Nevis","courier":"St. Kitts & Nevis Postal Services","courier_url":"http://www.post.gov.kn/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/saint-christopher-saint-kitts-and-nevis.html"},{"matches":"LC","country":"Saint Lucia","courier":"Saint Lucia Postal Service","courier_url":"http://www.stluciapostal.com/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/saint-lucia.html"},{"matches":"VC","country":"Saint Vincent and the Grenadines","courier":"SVG Postal Corporation","courier_url":"http://www.svgpost.gov.vc/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/saint-vincent-and-the-grenadines.html"},{"matches":"WS","country":"Samoa","courier":"Samoa Post","courier_url":"http://www.samoapost.ws/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/samoa.html"},{"matches":"SM","country":"San Marino","courier":"Poste San Marino","courier_url":"http://www.poste.sm/on-line/home.html","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/western-europe/san-marino.html"},{"matches":"ST","country":"Sao Tome and Principe","courier":"Correios de São Tomé e Príncipe","courier_url":"http://www.inh.st/correios.st.htm","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/sao-tome-and-principe.html"},{"matches":"SA","country":"Saudi Arabia","courier":"Saudi Post","courier_url":"http://maps.address.gov.sa","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/saudi-arabia.html"},{"matches":"SN","country":"Senegal","courier":"La Poste Senegal","courier_url":"http://www.laposte.sn/laposte/trouver_codepostal.php","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/senegal.html"},{"matches":"RS","country":"Serbia (Rep.)","courier":"PTT Communications \\"Srbija\\"","courier_url":"http://www.posta.rs/struktura/eng/aplikacije/pronadji/nadji-pak-rezultat.asp","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/serbia-rep.html"},{"matches":"SC","country":"Seychelles","courier":"Seychelles Postal Service","courier_url":"http://www.seychellespost.gov.sc/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/seychelles.html"},{"matches":"SL","country":"Sierra Leone","courier":"Sierra Leone Postal Services","courier_url":"http://www.salpost.sl/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/sierra-leone.html"},{"matches":"SG","country":"Singapore","courier":"SingPost","courier_url":"http://www.singpost.com.sg/quick_services/index.htm","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/singapore.html"},{"matches":"SK","country":"Slovakia","courier":"Slovenská Posta","courier_url":"http://psc.posta.sk/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/slovakia.html"},{"matches":"SI","country":"Slovenia","courier":"Posta Slovenije d.o.o.","courier_url":"http://www.posta.si/postne-stevilke-doma","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/western-europe/slovenia.html"},{"matches":"SB","country":"Solomon Islands","courier":"Solomon Post","courier_url":null,"upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/solomon-islands.html"},{"matches":"SO","country":"Somalia","courier":"Somali Post","courier_url":null,"upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/somalia.html"},{"matches":"ZA","country":"South Africa","courier":"South African Post Office","courier_url":"http://www.postoffice.co.za/ContactUs/postalcode.html","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/south-africa.html"},{"matches":"SS","country":"South Sudan (Rep.)","courier":"Minister of Telecommunication and Postal Services","courier_url":null,"upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/south-sudan-rep.html"},{"matches":"ES","country":"Spain","courier":"Correos y Telégrafos","courier_url":"http://www.correos.es/ss/Satellite/site/pagina-buscador_codigos_postales/sidioma=es_ES","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/western-europe/spain.html"},{"matches":"LK","country":"Sri Lanka","courier":"Sri Lanka Post","courier_url":"http://www.slpost.gov.lk/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/sri-lanka.html"},{"matches":"SD","country":"Sudan","courier":"Sudapost","courier_url":"http://sudapost.sd/index.php/en/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/sudan.html"},{"matches":"SR","country":"Suriname","courier":"SURPOST","courier_url":"http://www.surpost.com/surpost2/index.php","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/suriname.html"},{"matches":"SZ","country":"Swaziland","courier":"Swaziland Posts & Telecommunications Corporation","courier_url":"http://www.sptc.co.sz/swazipost/codes.php","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/swaziland.html"},{"matches":"SE","country":"Sweden","courier":"Posten Sweden Post","courier_url":"http://www.posten.se/oldurls/old_postnummersok.jspv","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/western-europe/sweden.html"},{"matches":"CH","country":"Switzerland","courier":"La Poste Suisse","courier_url":"http://www.swisspost.ch/post-startseite.htm","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/western-europe/switzerland.html"},{"matches":"SY","country":"Syrian Arab Rep.","courier":"Syrian Post","courier_url":"http://www.syrianpost.gov.sy/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/syrian-arab-rep.html"},{"matches":"TJ","country":"Tajikistan","courier":"Tajikistan’s communications service agency","courier_url":null,"upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/tajikistan.html"},{"matches":"TZ","country":"Tanzania (United Rep.)","courier":"Tanzania Posts Corporation","courier_url":"http://www.posta.co.tz/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/tanzania-united-rep.html"},{"matches":"TH","country":"Thailand","courier":"Thailand Post","courier_url":"http://www.thailandpost.com/search.php","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/thailand.html"},{"matches":"MK","country":"The former Yugoslav Republic of Macedonia","courier":"Macedonian Post & Telecommunications","courier_url":"http://www.posta.mk/pravilno_adresiranje.html","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/the-former-yugoslav-republic-of-macedonia.html"},{"matches":"TL","country":"Timor-Leste (Dem. Rep.)","courier":"Correios de Timor Leste","courier_url":null,"upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/timor-leste-dem-rep.html"},{"matches":"TG","country":"Togo","courier":"La Poste du Togo","courier_url":"http://www.laposte.tg/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/togo.html"},{"matches":"TO","country":"Tonga (including Niuafo\'ou)","courier":"Tonga Post","courier_url":"http://tongapost.to/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/tonga-including-niuafoou.html"},{"matches":"TT","country":"Trinidad and Tobago","courier":"Trinidad and Tobago Postal Corporation","courier_url":"http://www.ttpost.net/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/trinidad-and-tobago.html"},{"matches":"TN","country":"Tunisia","courier":"La Poste Tunisienne","courier_url":"http://www.poste.tn/codes.php","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/tunisia.html"},{"matches":"TR","country":"Turkey","courier":"Turkey Post","courier_url":"http://postakodu.ptt.gov.tr/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/western-europe/turkey.html"},{"matches":"TM","country":"Turkmenistan","courier":"Turkmenpost","courier_url":"http://www.turkmenpost.gov.tm/about_index.php","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/turkmenistan.html"},{"matches":"TV","country":"Tuvalu","courier":"Tuvalu Philatelic Bureau","courier_url":null,"upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/tuvalu.html"},{"matches":"UG","country":"Uganda","courier":"Posta Uganda","courier_url":"http://www.ugapost.co.ug/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/uganda.html"},{"matches":"UA","country":"Ukraine","courier":"Ukrposhta","courier_url":"http://services.ukrposhta.com/postindex_new/default.aspx?lang=en","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/ukraine.html"},{"matches":"AE","country":"United Arab Emirates","courier":"Emirates Post","courier_url":"http://www.emiratespost.com/content/english/index.jsp;jsessionid=35fbe352a6c441a491929d81d54fa0c6","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/united-arab-emirates.html"},{"matches":"US","country":"United States of America","courier":"United States Postal Service","courier_url":"http://zip4.usps.com/zip4/welcome.jsp","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/united-states-of-america.html"},{"matches":"UY","country":"Uruguay","courier":"Correo Uruguayo","courier_url":"http://www.correo.com.uy/index.asp?codPag=codPost&switchMapa=codPost","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/uruguay.html"},{"matches":"UZ","country":"Uzbekistan","courier":"Post of Uzbekistan","courier_url":"http://www.pochta.uz/index.php/en/postal-indexes/9","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/uzbekistan.html"},{"matches":"VU","country":"Vanuatu","courier":"Vanuatu Post","courier_url":"http://www.vanuatupost.vu/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/vanuatu.html"},{"matches":"VA","country":"Vatican","courier":"Vatican post","courier_url":"http://www.vaticanstate.va/EN/Services/Philatelic_and_Numismatic_Office/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/western-europe/vatican.html"},{"matches":"VE","country":"Venezuela","courier":"IPOSTEL – Instituto Postal Telegráfico de Venezuela","courier_url":"http://www.ipostel.gob.ve/nlinea/codigo_postal.php","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/americas/venezuela.html"},{"matches":"VN","country":"Viet Nam","courier":"VNPT – Vietnam Posts and Telecommunications Group","courier_url":"http://postcode.vnpost.vn/services/search.aspx","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/viet-nam.html"},{"matches":"YE","country":"Yemen","courier":"Yemen Post","courier_url":"http://www.post.ye/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/yemen.html"},{"matches":"ZM","country":"Zambia","courier":"Zambia Postal Services Corporation (ZAMPOST)","courier_url":"http://www.zampost.com.zm/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/zambia.html"},{"matches":"ZW","country":"Zimbabwe","courier":"Zimpost – Zimbabwe Posts","courier_url":"http://www.zimpost.co.zw/","upu_reference_url":"http://www.upu.int/en/the-upu/member-countries/africa/zimbabwe.html"}]}]}]')},_t={name:"UPS",courier_code:"ups",tracking_numbers:[{name:"UPS",id:"ups",regex:["\\s*1\\s*Z\\s*(?<SerialNumber>","(?<ShipperId>(?:[A-Z0-9]\\s*){6,6})","(?<ServiceType>(?:[A-Z0-9]\\s*){2,2})","(?<PackageId>(?:[A-Z0-9]\\s*){7,7}))","(?<CheckDigit>[0-9]\\s*)"],validation:{checksum:{name:"mod10",evens_multiplier:1,odds_multiplier:2}},tracking_url:"https://wwwapps.ups.com/WebTracking/track?track=yes&trackNums=%s",additional:[{name:"Service Type",regex_group_name:"ServiceType",lookup:[{matches:"01",name:"UPS United States Next Day Air (Red)"},{matches:"02",name:"UPS United States Second Day Air (Blue)"},{matches:"03",name:"UPS United States Ground"},{matches:"12",name:"UPS United States Third Day Select"},{matches:"13",name:"UPS United States Next Day Air Saver (Red Saver)"},{matches:"15",name:"UPS United States Next Day Air Early A.M."},{matches:"22",name:"UPS United States Ground - Returns Plus - Three Pickup Attempts"},{matches:"32",name:"UPS United States Next Day Air Early A.M. - COD"},{matches:"33",name:"UPS United States Next Day Air Early A.M. - Saturday Delivery, COD"},{matches:"41",name:"UPS United States Next Day Air Early A.M. - Saturday Delivery"},{matches:"42",name:"UPS United States Ground - Signature Required"},{matches:"44",name:"UPS United States Next Day Air - Saturday Delivery"},{matches:"66",name:"UPS United States Worldwide Express"},{matches:"72",name:"UPS United States Ground - Collect on Delivery"},{matches:"78",name:"UPS United States Ground - Returns Plus - One Pickup Attempt"},{matches:"90",name:"UPS United States Ground - Returns - UPS Prints and Mails Label"},{matches:"A0",name:"UPS United States Next Day Air Early A.M. - Adult Signature Required"},{matches:"A1",name:"UPS United States Next Day Air Early A.M. - Saturday Delivery, Adult Signature Required"},{matches:"A2",name:"UPS United States Next Day Air - Adult Signature Required"},{matches:"A8",name:"UPS United States Ground - Adult Signature Required"},{matches:"A9",name:"UPS United States Next Day Air Early A.M. - Adult Signature Required, COD"},{matches:"AA",name:"UPS United States Next Day Air Early A.M. - Saturday Delivery, Adult Signature Required, COD"},{matches:"YW",name:"UPS SurePost - Delivered by the USPS"}]}],test_numbers:{valid:["1Z5R89390357567127","1Z879E930346834440","1Z410E7W0392751591","1Z8V92A70367203024"," 1 Z 8 V 9 2 A 7 0 3 6 7 2 0 3 0 2 4 ","1ZXX3150YW44070023"],invalid:["2Z5R89390357567127","1A5R89390357567127","1Z1111111111111111"]}},{name:"UPS Waybill",regex:["\\s*(?<ServiceType>([AHJKTV]\\s*){1})","(?<SerialNumber>(?:[0-9]\\s*){9})","(?<CheckDigit>[0-9]\\s*){1}"],validation:{checksum:{name:"mod10",evens_multiplier:1,odds_multiplier:2}},additional:[{name:"Service Type",regex_group_name:"ServiceType",lookup:[{matches:"J",name:"UPS Next Day Express"},{matches:"K",name:"UPS Ground"},{matches:"V",name:"UPS WorldWide Express Saver"}]}],tracking_url:"https://wwwapps.ups.com/WebTracking/track?track=yes&trackNums=%s",test_numbers:{valid:["K1506235620","K 150 623 562 0","K2479825491","J4603636537","V0490119172","V0431105627"],invalid:["K1506235622","K2479825492","J4603636538","V0411335627","V0423305841"]}}]},bt={name:"United States Postal Service",courier_code:"usps",tracking_numbers:[{tracking_url:"https://tools.usps.com/go/TrackConfirmAction?tLabels=%s",name:"USPS 20",id:"usps_20",description:"20 digit USPS numbers",regex:["\\s*(?<SerialNumber>","(?<ServiceType>([0-9]\\s*){2})","(?<ShipperId>([0-9]\\s*){9})","(?<PackageId>([0-9]\\s*){8})",")","(?<CheckDigit>[0-9]\\s*)"],validation:{checksum:{name:"mod10",evens_multiplier:3,odds_multiplier:1}},test_numbers:{valid:["0307 1790 0005 2348 3741"," 0 3 0 7   1 7 9 0   0 0 0 5   2 3 4 8   3 7 4 1 ","7112 3456 7891 2345 6787"],invalid:["0307 1790 0005 2348 3742"]},additional:[{name:"Service Type",regex_group_name:"ServiceType",lookup:[{matches:"71",name:"Certified Mail"},{matches:"73",name:"Insured Mail"},{matches:"77",name:"Registered Mail"},{matches:"81",name:"Return Receipt For Merchanise"}]}]},{name:"USPS 34v2",id:"usps_32V2",description:"variation on 34 digit USPS IMpd numbers",regex:["\\s*(?<RoutingApplicationId>4\\s*2\\s*0\\s*)(?<DestinationZip>([0-9]\\s*){5})","(?<RoutingNumber>([0-9]\\s*){4})","(?<SerialNumber>","(?<ApplicationIdentifier>9\\s*[2345]\\s*)?","(?<ShipperId>([0-9]\\s*){8})","(?<PackageId>([0-9]\\s*){11})",")","(?<CheckDigit>[0-9]\\s*)"],validation:{checksum:{name:"mod10",evens_multiplier:3,odds_multiplier:1}},tracking_url:"https://tools.usps.com/go/TrackConfirmAction?tLabels=%s",test_numbers:{valid:["4201002334249200190132607600833457","4201028200009261290113185417468510"," 4 2 0 1 0 2 8 2 0 0 0 0 9 2 6 1 2 9 0 1 1 3 1 8 5 4 1 7 4 6 8 5 1 0 "],invalid:["4201028200009261290113185417468511"]}},{name:"USPS 91",id:"usps_91",description:"USPS now calls this the IMpd barcode format",regex:["\\s*(?:(?<RoutingApplicationId>4\\s*2\\s*0\\s*)(?<DestinationZip>([0-9]\\s*){5}))?","(?<SerialNumber>","(?<ApplicationIdentifier>9\\s*[12345]\\s*)?","(?<SCNC>([0-9]\\s*){2})","(?<ServiceType>([0-9]\\s*){2})","(?<ShipperId>([0-9]\\s*){8})","(?<PackageId>([0-9]\\s*){11}|([0-9]\\s*){7})",")","(?<CheckDigit>[0-9]\\s*)"],validation:{checksum:{name:"mod10",evens_multiplier:3,odds_multiplier:1},serial_number_format:{prepend_if:{matches_regex:"^(?!9[1-5]).+",content:"91"}}},partners:[{description:"FedEx SmartPost uses USPS for last mile delivery, but not all USPS91 numbers are SmartPosts",partner_type:"shipper",partner_id:"fedex_smartpost",validation:{matches_all:[{regex_group_name:"ServiceType",matches:"29"},{matches:"61",regex_group_name:"SCNC"}]}}],tracking_url:"https://tools.usps.com/go/TrackConfirmAction?tLabels=%s",test_numbers:{valid:["420 22153 9101026837331000039521","7196 9010 7560 0307 7385","9505 5110 6960 5048 6006 24","9101 1234 5678 9000 0000 13","92748931507708513018050063","92001903060085300042901077","9400 1112 0108 0805 4830 16","9361 2898 7870 0317 6337 95","9405803699300124287899"],invalid:["61299998820821171811","9200000000000000000000","420000000000000000000000000000","420000009200000000000000000000"]},additional:[{name:"Service Type",regex_group_name:"ServiceType",lookup:[{matches:"11",name:"First Class (R)"},{matches:"29",name:"Fedex Smart Post"}]}]}]};function vt(e){return null!=e&&"object"==typeof e&&!0===e["@@functional/placeholder"]}function xt(e){return function t(r){return 0===arguments.length||vt(r)?t:e.apply(this,arguments)}}function St(e){return function t(r,n){switch(arguments.length){case 0:return t;case 1:return vt(r)?t:xt(function(t){return e(r,t)});default:return vt(r)&&vt(n)?t:vt(r)?xt(function(t){return e(t,n)}):vt(n)?xt(function(t){return e(r,t)}):e(r,n)}}}var Ct=St(function(e,t){return Number(e)+Number(t)});function Pt(e,t){var r;t=t||[];var n=(e=e||[]).length,u=t.length,i=[];for(r=0;r<n;)i[i.length]=e[r],r+=1;for(r=0;r<u;)i[i.length]=t[r],r+=1;return i}function kt(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(e){return t.apply(this,arguments)};case 2:return function(e,r){return t.apply(this,arguments)};case 3:return function(e,r,n){return t.apply(this,arguments)};case 4:return function(e,r,n,u){return t.apply(this,arguments)};case 5:return function(e,r,n,u,i){return t.apply(this,arguments)};case 6:return function(e,r,n,u,i,o){return t.apply(this,arguments)};case 7:return function(e,r,n,u,i,o,a){return t.apply(this,arguments)};case 8:return function(e,r,n,u,i,o,a,s){return t.apply(this,arguments)};case 9:return function(e,r,n,u,i,o,a,s,c){return t.apply(this,arguments)};case 10:return function(e,r,n,u,i,o,a,s,c,l){return t.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function At(e,t,r){return function(){for(var n=[],u=0,i=e,o=0;o<t.length||u<arguments.length;){var a;o<t.length&&(!vt(t[o])||u>=arguments.length)?a=t[o]:(a=arguments[u],u+=1),n[o]=a,vt(a)||(i-=1),o+=1}return i<=0?r.apply(this,n):kt(i,At(e,n,r))}}var jt=St(function(e,t){return 1===e?xt(t):kt(e,At(e,[],t))}),It=xt(function(e){return jt(e.length,function(){var t=0,r=arguments[0],n=arguments[arguments.length-1],u=Array.prototype.slice.call(arguments,0);return u[0]=function(){var e=r.apply(this,Pt(arguments,[t,n]));return t+=1,e},e.apply(this,u)})});function Tt(e){return function t(r,n,u){switch(arguments.length){case 0:return t;case 1:return vt(r)?t:St(function(t,n){return e(r,t,n)});case 2:return vt(r)&&vt(n)?t:vt(r)?St(function(t,r){return e(t,n,r)}):vt(n)?St(function(t,n){return e(r,t,n)}):xt(function(t){return e(r,n,t)});default:return vt(r)&&vt(n)&&vt(u)?t:vt(r)&&vt(n)?St(function(t,r){return e(t,r,u)}):vt(r)&&vt(u)?St(function(t,r){return e(t,n,r)}):vt(n)&&vt(u)?St(function(t,n){return e(r,t,n)}):vt(r)?xt(function(t){return e(t,n,u)}):vt(n)?xt(function(t){return e(r,t,u)}):vt(u)?xt(function(t){return e(r,n,t)}):e(r,n,u)}}}var Dt=Tt(function(e,t,r){if(e>=r.length||e<-r.length)return r;var n=(e<0?r.length:0)+e,u=Pt(r);return u[n]=t(r[n]),u});const Nt=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)};function Et(e){return null!=e&&"function"==typeof e["@@transducer/step"]}function Ot(e,t,r){return function(){if(0===arguments.length)return r();var n=Array.prototype.slice.call(arguments,0),u=n.pop();if(!Nt(u)){for(var i=0;i<e.length;){if("function"==typeof u[e[i]])return u[e[i]].apply(u,n);i+=1}if(Et(u))return t.apply(null,n)(u)}return r.apply(this,arguments)}}function Lt(e){return e&&e["@@transducer/reduced"]?e:{"@@transducer/value":e,"@@transducer/reduced":!0}}const Bt={init:function(){return this.xf["@@transducer/init"]()},result:function(e){return this.xf["@@transducer/result"](e)}};var Rt=function(){function e(e,t){this.xf=t,this.f=e,this.all=!0}return e.prototype["@@transducer/init"]=Bt.init,e.prototype["@@transducer/result"]=function(e){return this.all&&(e=this.xf["@@transducer/step"](e,!0)),this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.f(t)||(this.all=!1,e=Lt(this.xf["@@transducer/step"](e,!1))),e},e}(),Mt=St(Ot(["all"],St(function(e,t){return new Rt(e,t)}),function(e,t){for(var r=0;r<t.length;){if(!e(t[r]))return!1;r+=1}return!0})),Ut=St(function(e,t){return t>e?t:e});function zt(e,t){for(var r=0,n=t.length,u=Array(n);r<n;)u[r]=e(t[r]),r+=1;return u}function qt(e){return"[object String]"===Object.prototype.toString.call(e)}var Ft=xt(function(e){return!!Nt(e)||!!e&&"object"==typeof e&&!qt(e)&&(1===e.nodeType?!!e.length:0===e.length||e.length>0&&e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1))}),Gt=function(){function e(e){this.f=e}return e.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},e.prototype["@@transducer/result"]=function(e){return e},e.prototype["@@transducer/step"]=function(e,t){return this.f(e,t)},e}();function $t(e){return new Gt(e)}var Wt=St(function(e,t){return kt(e.length,function(){return e.apply(t,arguments)})});function Zt(e,t,r){for(var n=r.next();!n.done;){if((t=e["@@transducer/step"](t,n.value))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}n=r.next()}return e["@@transducer/result"](t)}function Kt(e,t,r,n){return e["@@transducer/result"](r[n](Wt(e["@@transducer/step"],e),t))}var Vt="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function Ht(e,t,r){if("function"==typeof e&&(e=$t(e)),Ft(r))return function(e,t,r){for(var n=0,u=r.length;n<u;){if((t=e["@@transducer/step"](t,r[n]))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}n+=1}return e["@@transducer/result"](t)}(e,t,r);if("function"==typeof r["fantasy-land/reduce"])return Kt(e,t,r,"fantasy-land/reduce");if(null!=r[Vt])return Zt(e,t,r[Vt]());if("function"==typeof r.next)return Zt(e,t,r);if("function"==typeof r.reduce)return Kt(e,t,r,"reduce");throw new TypeError("reduce: list must be array or iterable")}var Qt=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=Bt.init,e.prototype["@@transducer/result"]=Bt.result,e.prototype["@@transducer/step"]=function(e,t){return this.xf["@@transducer/step"](e,this.f(t))},e}(),Jt=St(function(e,t){return new Qt(e,t)});function Yt(e,t){return Object.prototype.hasOwnProperty.call(t,e)}var Xt=Object.prototype.toString,er=function(){return"[object Arguments]"===Xt.call(arguments)?function(e){return"[object Arguments]"===Xt.call(e)}:function(e){return Yt("callee",e)}}(),tr=!{toString:null}.propertyIsEnumerable("toString"),rr=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],nr=function(){return arguments.propertyIsEnumerable("length")}(),ur=function(e,t){for(var r=0;r<e.length;){if(e[r]===t)return!0;r+=1}return!1},ir="function"!=typeof Object.keys||nr?xt(function(e){if(Object(e)!==e)return[];var t,r,n=[],u=nr&&er(e);for(t in e)!Yt(t,e)||u&&"length"===t||(n[n.length]=t);if(tr)for(r=rr.length-1;r>=0;)Yt(t=rr[r],e)&&!ur(n,t)&&(n[n.length]=t),r-=1;return n}):xt(function(e){return Object(e)!==e?[]:Object.keys(e)}),or=St(Ot(["fantasy-land/map","map"],Jt,function(e,t){switch(Object.prototype.toString.call(t)){case"[object Function]":return jt(t.length,function(){return e.call(this,t.apply(this,arguments))});case"[object Object]":return Ht(function(r,n){return r[n]=e(t[n]),r},{},ir(t));default:return zt(e,t)}}));const ar=Number.isInteger||function(e){return(0|e)===e};var sr=St(function(e,t){var r=e<0?t.length+e:e;return qt(t)?t.charAt(r):t[r]}),cr=St(function(e,t){return e.map(function(e){for(var r,n=t,u=0;u<e.length;){if(null==n)return;r=e[u],n=ar(r)?sr(r,n):n[r],u+=1}return n})}),lr=St(function(e,t){return cr([e],t)[0]}),pr=St(function(e,t){return lr([e],t)}),hr=St(function(e,t){return or(pr(e),t)}),dr=Tt(Ht),mr=xt(function(e){return jt(dr(Ut,0,hr("length",e)),function(){for(var t=0,r=e.length;t<r;){if(!e[t].apply(this,arguments))return!1;t+=1}return!0})}),fr=xt(function(e){return function(){return e}}),wr=St(function(e,t){return e&&t}),gr=function(){function e(e,t){this.xf=t,this.f=e,this.any=!1}return e.prototype["@@transducer/init"]=Bt.init,e.prototype["@@transducer/result"]=function(e){return this.any||(e=this.xf["@@transducer/step"](e,!1)),this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.f(t)&&(this.any=!0,e=Lt(this.xf["@@transducer/step"](e,!0))),e},e}(),yr=St(Ot(["any"],St(function(e,t){return new gr(e,t)}),function(e,t){for(var r=0;r<t.length;){if(e(t[r]))return!0;r+=1}return!1})),_r=xt(function(e){return jt(dr(Ut,0,hr("length",e)),function(){for(var t=0,r=e.length;t<r;){if(e[t].apply(this,arguments))return!0;t+=1}return!1})}),br=St(function(e,t){return"function"==typeof t["fantasy-land/ap"]?t["fantasy-land/ap"](e):"function"==typeof e.ap?e.ap(t):"function"==typeof e?function(r){return e(r)(t(r))}:Ht(function(e,r){return Pt(e,or(r,t))},[],e)});function vr(e,t){for(var r=0,n=t.length-(e-1),u=new Array(n>=0?n:0);r<n;)u[r]=Array.prototype.slice.call(t,r,r+e),r+=1;return u}var xr=function(){function e(e,t){this.xf=t,this.pos=0,this.full=!1,this.acc=new Array(e)}return e.prototype["@@transducer/init"]=Bt.init,e.prototype["@@transducer/result"]=function(e){return this.acc=null,this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.store(t),this.full?this.xf["@@transducer/step"](e,this.getCopy()):e},e.prototype.store=function(e){this.acc[this.pos]=e,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},e.prototype.getCopy=function(){return Pt(Array.prototype.slice.call(this.acc,this.pos),Array.prototype.slice.call(this.acc,0,this.pos))},e}(),Sr=St(Ot([],St(function(e,t){return new xr(e,t)}),vr)),Cr=St(function(e,t){return Pt(t,[e])}),Pr=St(function(e,t){return e.apply(this,t)}),kr=xt(function(e){for(var t=ir(e),r=t.length,n=[],u=0;u<r;)n[u]=e[t[u]],u+=1;return n});function Ar(e,t){return ir(t).reduce(function(r,n){return r[n]=e(t[n]),r},{})}var jr=xt(function e(t){return t=Ar(function(t){return"function"==typeof t?t:e(t)},t),jt(dr(Ut,0,hr("length",kr(t))),function(){var e=arguments;return Ar(function(t){return Pr(t,e)},t)})}),Ir=St(function(e,t){return t(e)}),Tr=Tt(function(e,t,r){var n=e(t),u=e(r);return n<u?-1:n>u?1:0}),Dr=Tt(function(e,t,r){var n={};for(var u in r)n[u]=r[u];return n[e]=t,n}),Nr=xt(function(e){return null==e}),Er=Tt(function e(t,r,n){if(0===t.length)return r;var u=t[0];if(t.length>1){var i=!Nr(n)&&Yt(u,n)?n[u]:ar(t[1])?[]:{};r=e(Array.prototype.slice.call(t,1),r,i)}if(ar(u)&&Nt(n)){var o=[].concat(n);return o[u]=r,o}return Dr(u,r,n)}),Or=St(function(e,t){switch(e){case 0:return function(){return t.call(this)};case 1:return function(e){return t.call(this,e)};case 2:return function(e,r){return t.call(this,e,r)};case 3:return function(e,r,n){return t.call(this,e,r,n)};case 4:return function(e,r,n,u){return t.call(this,e,r,n,u)};case 5:return function(e,r,n,u,i){return t.call(this,e,r,n,u,i)};case 6:return function(e,r,n,u,i,o){return t.call(this,e,r,n,u,i,o)};case 7:return function(e,r,n,u,i,o,a){return t.call(this,e,r,n,u,i,o,a)};case 8:return function(e,r,n,u,i,o,a,s){return t.call(this,e,r,n,u,i,o,a,s)};case 9:return function(e,r,n,u,i,o,a,s,c){return t.call(this,e,r,n,u,i,o,a,s,c)};case 10:return function(e,r,n,u,i,o,a,s,c,l){return t.call(this,e,r,n,u,i,o,a,s,c,l)};default:throw new Error("First argument to nAry must be a non-negative integer no greater than ten")}}),Lr=xt(function(e){return Or(2,e)});function Br(e){var t=Object.prototype.toString.call(e);return"[object Function]"===t||"[object AsyncFunction]"===t||"[object GeneratorFunction]"===t||"[object AsyncGeneratorFunction]"===t}var Rr=St(function(e,t){var r=jt(e,t);return jt(e,function(){return Ht(br,or(r,arguments[0]),Array.prototype.slice.call(arguments,1))})}),Mr=xt(function(e){return Rr(e.length,e)}),Ur=St(function(e,t){return Br(e)?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:Mr(wr)(e,t)}),zr=xt(function(e){return jt(e.length,e)}),qr=zr(function(e){return e.apply(this,Array.prototype.slice.call(arguments,1))});function Fr(e){return function t(r){for(var n,u,i,o=[],a=0,s=r.length;a<s;){if(Ft(r[a]))for(i=0,u=(n=e?t(r[a]):r[a]).length;i<u;)o[o.length]=n[i],i+=1;else o[o.length]=r[a];a+=1}return o}}var Gr=function(e){var t=function(e){return{"@@transducer/init":Bt.init,"@@transducer/result":function(t){return e["@@transducer/result"](t)},"@@transducer/step":function(t,r){var n=e["@@transducer/step"](t,r);return n["@@transducer/reduced"]?{"@@transducer/value":n,"@@transducer/reduced":!0}:n}}}(e);return{"@@transducer/init":Bt.init,"@@transducer/result":function(e){return t["@@transducer/result"](e)},"@@transducer/step":function(e,r){return Ft(r)?Ht(t,e,r):Ht(t,e,[r])}}},$r=St(Ot(["fantasy-land/chain","chain"],St(function(e,t){return or(e,Gr(t))}),function(e,t){return"function"==typeof t?function(r){return e(t(r))(r)}:Fr(!1)(or(e,t))})),Wr=Tt(function(e,t,r){if(e>t)throw new Error("min must not be greater than max in clamp(min, max, value)");return r<e?e:r>t?t:r});function Zr(e){return new RegExp(e.source,(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.sticky?"y":"")+(e.unicode?"u":""))}var Kr=xt(function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)});function Vr(e,t,r,n){var u=function(u){for(var i=t.length,o=0;o<i;){if(e===t[o])return r[o];o+=1}for(var a in t[o+1]=e,r[o+1]=u,e)u[a]=n?Vr(e[a],t,r,!0):e[a];return u};switch(Kr(e)){case"Object":return u({});case"Array":return u([]);case"Date":return new Date(e.valueOf());case"RegExp":return Zr(e);default:return e}}var Hr=xt(function(e){return null!=e&&"function"==typeof e.clone?e.clone():Vr(e,[],[],!0)}),Qr=xt(function(e){return function(t,r){return e(t,r)?-1:e(r,t)?1:0}}),Jr=xt(function(e){return!e}),Yr=Mr(Jr);function Xr(e,t){return function(){return t.call(this,e.apply(this,arguments))}}function en(e,t){return function(){var r=arguments.length;if(0===r)return t();var n=arguments[r-1];return Nt(n)||"function"!=typeof n[e]?t.apply(this,arguments):n[e].apply(n,Array.prototype.slice.call(arguments,0,r-1))}}var tn=Tt(en("slice",function(e,t,r){return Array.prototype.slice.call(r,e,t)})),rn=xt(en("tail",tn(1,1/0)));function nn(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return kt(arguments[0].length,dr(Xr,arguments[0],rn(arguments)))}var un=xt(function(e){return qt(e)?e.split("").reverse().join(""):Array.prototype.slice.call(e,0).reverse()});function on(){if(0===arguments.length)throw new Error("compose requires at least one argument");return nn.apply(this,un(arguments))}function an(){if(0===arguments.length)throw new Error("composeK requires at least one argument");var e=Array.prototype.slice.call(arguments),t=e.pop();return on(on.apply(this,or($r,e)),t)}function sn(e,t){return function(){var r=this;return e.apply(r,arguments).then(function(e){return t.call(r,e)})}}function cn(){if(0===arguments.length)throw new Error("pipeP requires at least one argument");return kt(arguments[0].length,dr(sn,arguments[0],rn(arguments)))}var ln=sr(0);function pn(e){return e}var hn=xt(pn),dn=St(function(e,t){if(t.length<=0)return hn;var r=ln(t),n=rn(t);return kt(r.length,function(){return Ht(function(t,r){return e.call(this,r,t)},r.apply(this,arguments),n)})}),mn=St(function(e,t){return dn.apply(this,[e,un(t)])});function fn(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}function wn(e,t,r){for(var n=0,u=r.length;n<u;){if(e(t,r[n]))return!0;n+=1}return!1}const gn="function"==typeof Object.is?Object.is:function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t};function yn(e,t,r,n){var u=fn(e);function i(e,t){return _n(e,t,r.slice(),n.slice())}return!wn(function(e,t){return!wn(i,t,e)},fn(t),u)}function _n(e,t,r,n){if(gn(e,t))return!0;var u=Kr(e);if(u!==Kr(t))return!1;if(null==e||null==t)return!1;if("function"==typeof e["fantasy-land/equals"]||"function"==typeof t["fantasy-land/equals"])return"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t)&&"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e);if("function"==typeof e.equals||"function"==typeof t.equals)return"function"==typeof e.equals&&e.equals(t)&&"function"==typeof t.equals&&t.equals(e);switch(u){case"Arguments":case"Array":case"Object":if("function"==typeof e.constructor&&"Promise"===function(e){var t=String(e).match(/^function (\w*)/);return null==t?"":t[1]}(e.constructor))return e===t;break;case"Boolean":case"Number":case"String":if(typeof e!=typeof t||!gn(e.valueOf(),t.valueOf()))return!1;break;case"Date":if(!gn(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(e.source!==t.source||e.global!==t.global||e.ignoreCase!==t.ignoreCase||e.multiline!==t.multiline||e.sticky!==t.sticky||e.unicode!==t.unicode)return!1}for(var i=r.length-1;i>=0;){if(r[i]===e)return n[i]===t;i-=1}switch(u){case"Map":return e.size===t.size&&yn(e.entries(),t.entries(),r.concat([e]),n.concat([t]));case"Set":return e.size===t.size&&yn(e.values(),t.values(),r.concat([e]),n.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var o=ir(e);if(o.length!==ir(t).length)return!1;var a=r.concat([e]),s=n.concat([t]);for(i=o.length-1;i>=0;){var c=o[i];if(!Yt(c,t)||!_n(t[c],e[c],a,s))return!1;i-=1}return!0}var bn=St(function(e,t){return _n(e,t,[],[])});function vn(e,t,r){var n,u;if("function"==typeof e.indexOf)switch(typeof t){case"number":if(0===t){for(n=1/t;r<e.length;){if(0===(u=e[r])&&1/u===n)return r;r+=1}return-1}if(t!=t){for(;r<e.length;){if("number"==typeof(u=e[r])&&u!=u)return r;r+=1}return-1}return e.indexOf(t,r);case"string":case"boolean":case"function":case"undefined":return e.indexOf(t,r);case"object":if(null===t)return e.indexOf(t,r)}for(;r<e.length;){if(bn(e[r],t))return r;r+=1}return-1}function xn(e,t){return vn(t,e,0)>=0}function Sn(e){return'"'+e.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0").replace(/"/g,'\\"')+'"'}var Cn=function(e){return(e<10?"0":"")+e},Pn="function"==typeof Date.prototype.toISOString?function(e){return e.toISOString()}:function(e){return e.getUTCFullYear()+"-"+Cn(e.getUTCMonth()+1)+"-"+Cn(e.getUTCDate())+"T"+Cn(e.getUTCHours())+":"+Cn(e.getUTCMinutes())+":"+Cn(e.getUTCSeconds())+"."+(e.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};function kn(e){return function(){return!e.apply(this,arguments)}}function An(e,t){for(var r=0,n=t.length,u=[];r<n;)e(t[r])&&(u[u.length]=t[r]),r+=1;return u}function jn(e){return"[object Object]"===Object.prototype.toString.call(e)}var In=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=Bt.init,e.prototype["@@transducer/result"]=Bt.result,e.prototype["@@transducer/step"]=function(e,t){return this.f(t)?this.xf["@@transducer/step"](e,t):e},e}(),Tn=St(Ot(["filter"],St(function(e,t){return new In(e,t)}),function(e,t){return jn(t)?Ht(function(r,n){return e(t[n])&&(r[n]=t[n]),r},{},ir(t)):An(e,t)})),Dn=St(function(e,t){return Tn(kn(e),t)});function Nn(e,t){var r=function(r){var n=t.concat([e]);return xn(r,n)?"<Circular>":Nn(r,n)},n=function(e,t){return zt(function(t){return Sn(t)+": "+r(e[t])},t.slice().sort())};switch(Object.prototype.toString.call(e)){case"[object Arguments]":return"(function() { return arguments; }("+zt(r,e).join(", ")+"))";case"[object Array]":return"["+zt(r,e).concat(n(e,Dn(function(e){return/^\d+$/.test(e)},ir(e)))).join(", ")+"]";case"[object Boolean]":return"object"==typeof e?"new Boolean("+r(e.valueOf())+")":e.toString();case"[object Date]":return"new Date("+(isNaN(e.valueOf())?r(NaN):Sn(Pn(e)))+")";case"[object Null]":return"null";case"[object Number]":return"object"==typeof e?"new Number("+r(e.valueOf())+")":1/e==-1/0?"-0":e.toString(10);case"[object String]":return"object"==typeof e?"new String("+r(e.valueOf())+")":Sn(e);case"[object Undefined]":return"undefined";default:if("function"==typeof e.toString){var u=e.toString();if("[object Object]"!==u)return u}return"{"+n(e,ir(e)).join(", ")+"}"}}var En=xt(function(e){return Nn(e,[])}),On=St(function(e,t){if(Nt(e)){if(Nt(t))return e.concat(t);throw new TypeError(En(t)+" is not an array")}if(qt(e)){if(qt(t))return e+t;throw new TypeError(En(t)+" is not a string")}if(null!=e&&Br(e["fantasy-land/concat"]))return e["fantasy-land/concat"](t);if(null!=e&&Br(e.concat))return e.concat(t);throw new TypeError(En(e)+' does not have a method named "concat" or "fantasy-land/concat"')}),Ln=xt(function(e){var t=dr(Ut,0,or(function(e){return e[0].length},e));return kt(t,function(){for(var t=0;t<e.length;){if(e[t][0].apply(this,arguments))return e[t][1].apply(this,arguments);t+=1}})}),Bn=St(function(e,t){if(e>10)throw new Error("Constructor with greater than ten arguments");return 0===e?function(){return new t}:zr(Or(e,function(e,r,n,u,i,o,a,s,c,l){switch(arguments.length){case 1:return new t(e);case 2:return new t(e,r);case 3:return new t(e,r,n);case 4:return new t(e,r,n,u);case 5:return new t(e,r,n,u,i);case 6:return new t(e,r,n,u,i,o);case 7:return new t(e,r,n,u,i,o,a);case 8:return new t(e,r,n,u,i,o,a,s);case 9:return new t(e,r,n,u,i,o,a,s,c);case 10:return new t(e,r,n,u,i,o,a,s,c,l)}}))}),Rn=xt(function(e){return Bn(e.length,e)}),Mn=St(xn),Un=St(function(e,t){return jt(dr(Ut,0,hr("length",t)),function(){var r=arguments,n=this;return e.apply(n,zt(function(e){return e.apply(n,r)},t))})}),zn=function(){function e(e,t,r,n){this.valueFn=e,this.valueAcc=t,this.keyFn=r,this.xf=n,this.inputs={}}return e.prototype["@@transducer/init"]=Bt.init,e.prototype["@@transducer/result"]=function(e){var t;for(t in this.inputs)if(Yt(t,this.inputs)&&(e=this.xf["@@transducer/step"](e,this.inputs[t]))["@@transducer/reduced"]){e=e["@@transducer/value"];break}return this.inputs=null,this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){var r=this.keyFn(t);return this.inputs[r]=this.inputs[r]||[r,this.valueAcc],this.inputs[r][1]=this.valueFn(this.inputs[r][1],t),e},e}(),qn=At(4,[],Ot([],At(4,[],function(e,t,r,n){return new zn(e,t,r,n)}),function(e,t,r,n){return Ht(function(n,u){var i=r(u);return n[i]=e(Yt(i,n)?n[i]:Vr(t,[],[],!1),u),n},{},n)})),Fn=qn(function(e,t){return e+1},0),Gn=Ct(-1),$n=St(function(e,t){return null==t||t!=t?e:t}),Wn=Tt(function(e,t,r){var n=e(t),u=e(r);return n>u?-1:n<u?1:0}),Zn=function(){function e(){this._nativeSet="function"==typeof Set?new Set:null,this._items={}}return e.prototype.add=function(e){return!Kn(e,!0,this)},e.prototype.has=function(e){return Kn(e,!1,this)},e}();function Kn(e,t,r){var n,u=typeof e;switch(u){case"string":case"number":return 0===e&&1/e==-1/0?!!r._items["-0"]||(t&&(r._items["-0"]=!0),!1):null!==r._nativeSet?t?(n=r._nativeSet.size,r._nativeSet.add(e),r._nativeSet.size===n):r._nativeSet.has(e):u in r._items?e in r._items[u]||(t&&(r._items[u][e]=!0),!1):(t&&(r._items[u]={},r._items[u][e]=!0),!1);case"boolean":if(u in r._items){var i=e?1:0;return!!r._items[u][i]||(t&&(r._items[u][i]=!0),!1)}return t&&(r._items[u]=e?[!1,!0]:[!0,!1]),!1;case"function":return null!==r._nativeSet?t?(n=r._nativeSet.size,r._nativeSet.add(e),r._nativeSet.size===n):r._nativeSet.has(e):u in r._items?!!xn(e,r._items[u])||(t&&r._items[u].push(e),!1):(t&&(r._items[u]=[e]),!1);case"undefined":return!!r._items[u]||(t&&(r._items[u]=!0),!1);case"object":if(null===e)return!!r._items.null||(t&&(r._items.null=!0),!1);default:return(u=Object.prototype.toString.call(e))in r._items?!!xn(e,r._items[u])||(t&&r._items[u].push(e),!1):(t&&(r._items[u]=[e]),!1)}}var Vn=St(function(e,t){for(var r=[],n=0,u=e.length,i=t.length,o=new Zn,a=0;a<i;a+=1)o.add(t[a]);for(;n<u;)o.add(e[n])&&(r[r.length]=e[n]),n+=1;return r}),Hn=Tt(function(e,t,r){for(var n=[],u=0,i=t.length;u<i;)wn(e,t[u],r)||wn(e,t[u],n)||n.push(t[u]),u+=1;return n}),Qn=St(function(e,t){var r={};for(var n in t)r[n]=t[n];return delete r[e],r}),Jn=Tt(function(e,t,r){var n=Array.prototype.slice.call(r,0);return n.splice(e,t),n}),Yn=Tt(function(e,t,r){return Dt(e,fr(t),r)}),Xn=St(function e(t,r){switch(t.length){case 0:return r;case 1:return ar(t[0])&&Nt(r)?Jn(t[0],1,r):Qn(t[0],r);default:var n=t[0],u=Array.prototype.slice.call(t,1);return null==r[n]?r:ar(n)&&Nt(r)?Yn(n,e(u,r[n]),r):Dr(n,e(u,r[n]),r)}}),eu=St(function(e,t){return e/t}),tu=function(){function e(e,t){this.xf=t,this.n=e}return e.prototype["@@transducer/init"]=Bt.init,e.prototype["@@transducer/result"]=Bt.result,e.prototype["@@transducer/step"]=function(e,t){return this.n>0?(this.n-=1,e):this.xf["@@transducer/step"](e,t)},e}(),ru=St(Ot(["drop"],St(function(e,t){return new tu(e,t)}),function(e,t){return tn(Math.max(0,e),1/0,t)})),nu=function(){function e(e,t){this.xf=t,this.n=e,this.i=0}return e.prototype["@@transducer/init"]=Bt.init,e.prototype["@@transducer/result"]=Bt.result,e.prototype["@@transducer/step"]=function(e,t){this.i+=1;var r=0===this.n?e:this.xf["@@transducer/step"](e,t);return this.n>=0&&this.i>=this.n?Lt(r):r},e}(),uu=St(Ot(["take"],St(function(e,t){return new nu(e,t)}),function(e,t){return tn(0,e<0?1/0:e,t)}));function iu(e,t){return uu(e<t.length?t.length-e:0,t)}var ou=function(){function e(e,t){this.xf=t,this.pos=0,this.full=!1,this.acc=new Array(e)}return e.prototype["@@transducer/init"]=Bt.init,e.prototype["@@transducer/result"]=function(e){return this.acc=null,this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.full&&(e=this.xf["@@transducer/step"](e,this.acc[this.pos])),this.store(t),e},e.prototype.store=function(e){this.acc[this.pos]=e,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},e}(),au=St(Ot([],St(function(e,t){return new ou(e,t)}),iu));function su(e,t){for(var r=t.length-1;r>=0&&e(t[r]);)r-=1;return tn(0,r+1,t)}var cu=function(){function e(e,t){this.f=e,this.retained=[],this.xf=t}return e.prototype["@@transducer/init"]=Bt.init,e.prototype["@@transducer/result"]=function(e){return this.retained=null,this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.f(t)?this.retain(e,t):this.flush(e,t)},e.prototype.flush=function(e,t){return e=Ht(this.xf["@@transducer/step"],e,this.retained),this.retained=[],this.xf["@@transducer/step"](e,t)},e.prototype.retain=function(e,t){return this.retained.push(t),e},e}(),lu=St(Ot([],St(function(e,t){return new cu(e,t)}),su)),pu=function(){function e(e,t){this.xf=t,this.pred=e,this.lastValue=void 0,this.seenFirstValue=!1}return e.prototype["@@transducer/init"]=Bt.init,e.prototype["@@transducer/result"]=Bt.result,e.prototype["@@transducer/step"]=function(e,t){var r=!1;return this.seenFirstValue?this.pred(this.lastValue,t)&&(r=!0):this.seenFirstValue=!0,this.lastValue=t,r?e:this.xf["@@transducer/step"](e,t)},e}(),hu=St(function(e,t){return new pu(e,t)}),du=sr(-1),mu=St(Ot([],hu,function(e,t){var r=[],n=1,u=t.length;if(0!==u)for(r[0]=t[0];n<u;)e(du(r),t[n])||(r[r.length]=t[n]),n+=1;return r})),fu=xt(Ot([],hu(bn),mu(bn))),wu=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=Bt.init,e.prototype["@@transducer/result"]=Bt.result,e.prototype["@@transducer/step"]=function(e,t){if(this.f){if(this.f(t))return e;this.f=null}return this.xf["@@transducer/step"](e,t)},e}(),gu=St(Ot(["dropWhile"],St(function(e,t){return new wu(e,t)}),function(e,t){for(var r=0,n=t.length;r<n&&e(t[r]);)r+=1;return tn(r,1/0,t)})),yu=St(function(e,t){return e||t}),_u=St(function(e,t){return Br(e)?function(){return e.apply(this,arguments)||t.apply(this,arguments)}:Mr(yu)(e,t)}),bu=xt(function(e){return null!=e&&"function"==typeof e["fantasy-land/empty"]?e["fantasy-land/empty"]():null!=e&&null!=e.constructor&&"function"==typeof e.constructor["fantasy-land/empty"]?e.constructor["fantasy-land/empty"]():null!=e&&"function"==typeof e.empty?e.empty():null!=e&&null!=e.constructor&&"function"==typeof e.constructor.empty?e.constructor.empty():Nt(e)?[]:qt(e)?"":jn(e)?{}:er(e)?function(){return arguments}():void 0}),vu=St(function(e,t){return ru(e>=0?t.length-e:0,t)}),xu=St(function(e,t){return bn(vu(e.length,t),e)}),Su=Tt(function(e,t,r){return bn(e(t),e(r))}),Cu=Tt(function(e,t,r){return bn(t[e],r[e])}),Pu=St(function e(t,r){var n,u,i,o=r instanceof Array?[]:{};for(u in r)i=typeof(n=t[u]),o[u]="function"===i?n(r[u]):n&&"object"===i?e(n,r[u]):r[u];return o}),ku=function(){function e(e,t){this.xf=t,this.f=e,this.found=!1}return e.prototype["@@transducer/init"]=Bt.init,e.prototype["@@transducer/result"]=function(e){return this.found||(e=this.xf["@@transducer/step"](e,void 0)),this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.f(t)&&(this.found=!0,e=Lt(this.xf["@@transducer/step"](e,t))),e},e}(),Au=St(Ot(["find"],St(function(e,t){return new ku(e,t)}),function(e,t){for(var r=0,n=t.length;r<n;){if(e(t[r]))return t[r];r+=1}})),ju=function(){function e(e,t){this.xf=t,this.f=e,this.idx=-1,this.found=!1}return e.prototype["@@transducer/init"]=Bt.init,e.prototype["@@transducer/result"]=function(e){return this.found||(e=this.xf["@@transducer/step"](e,-1)),this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.idx+=1,this.f(t)&&(this.found=!0,e=Lt(this.xf["@@transducer/step"](e,this.idx))),e},e}(),Iu=St(Ot([],St(function(e,t){return new ju(e,t)}),function(e,t){for(var r=0,n=t.length;r<n;){if(e(t[r]))return r;r+=1}return-1})),Tu=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=Bt.init,e.prototype["@@transducer/result"]=function(e){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](e,this.last))},e.prototype["@@transducer/step"]=function(e,t){return this.f(t)&&(this.last=t),e},e}(),Du=St(Ot([],St(function(e,t){return new Tu(e,t)}),function(e,t){for(var r=t.length-1;r>=0;){if(e(t[r]))return t[r];r-=1}})),Nu=function(){function e(e,t){this.xf=t,this.f=e,this.idx=-1,this.lastIdx=-1}return e.prototype["@@transducer/init"]=Bt.init,e.prototype["@@transducer/result"]=function(e){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](e,this.lastIdx))},e.prototype["@@transducer/step"]=function(e,t){return this.idx+=1,this.f(t)&&(this.lastIdx=this.idx),e},e}(),Eu=St(Ot([],St(function(e,t){return new Nu(e,t)}),function(e,t){for(var r=t.length-1;r>=0;){if(e(t[r]))return r;r-=1}return-1})),Ou=xt(Fr(!0)),Lu=xt(function(e){return jt(e.length,function(t,r){var n=Array.prototype.slice.call(arguments,0);return n[0]=r,n[1]=t,e.apply(this,n)})}),Bu=St(en("forEach",function(e,t){for(var r=t.length,n=0;n<r;)e(t[n]),n+=1;return t})),Ru=St(function(e,t){for(var r=ir(t),n=0;n<r.length;){var u=r[n];e(t[u],u,t),n+=1}return t}),Mu=xt(function(e){for(var t={},r=0;r<e.length;)t[e[r][0]]=e[r][1],r+=1;return t}),Uu=St(en("groupBy",qn(function(e,t){return null==e&&(e=[]),e.push(t),e},null))),zu=St(function(e,t){for(var r=[],n=0,u=t.length;n<u;){for(var i=n+1;i<u&&e(t[i-1],t[i]);)i+=1;r.push(t.slice(n,i)),n=i}return r}),qu=St(function(e,t){return e>t}),Fu=St(function(e,t){return e>=t}),Gu=St(function(e,t){if(0===e.length||Nr(t))return!1;for(var r=t,n=0;n<e.length;){if(Nr(r)||!Yt(e[n],r))return!1;r=r[e[n]],n+=1}return!0}),$u=St(function(e,t){return Gu([e],t)}),Wu=St(function(e,t){return e in t}),Zu=St(gn),Ku=Tt(function(e,t,r){return jt(Math.max(e.length,t.length,r.length),function(){return e.apply(this,arguments)?t.apply(this,arguments):r.apply(this,arguments)})}),Vu=Ct(1),Hu=St(xn),Qu=qn(function(e,t){return t},null),Ju=St(function(e,t){return"function"!=typeof t.indexOf||Nt(t)?vn(t,e,0):t.indexOf(e)}),Yu=tn(0,-1),Xu=Tt(function(e,t,r){return An(function(t){return wn(e,t,r)},t)}),ei=Tt(function(e,t,r){e=e<r.length&&e>=0?e:r.length;var n=Array.prototype.slice.call(r,0);return n.splice(e,0,t),n}),ti=Tt(function(e,t,r){return e=e<r.length&&e>=0?e:r.length,[].concat(Array.prototype.slice.call(r,0,e),t,Array.prototype.slice.call(r,e))}),ri=St(function(e,t){for(var r,n,u=new Zn,i=[],o=0;o<t.length;)r=e(n=t[o]),u.add(r)&&i.push(n),o+=1;return i}),ni=ri(hn),ui=St(function(e,t){var r,n;return e.length>t.length?(r=e,n=t):(r=t,n=e),ni(An(Lu(xn)(r),n))}),ii=St(en("intersperse",function(e,t){for(var r=[],n=0,u=t.length;n<u;)n===u-1?r.push(t[n]):r.push(t[n],e),n+=1;return r}));const oi="function"==typeof Object.assign?Object.assign:function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1,n=arguments.length;r<n;){var u=arguments[r];if(null!=u)for(var i in u)Yt(i,u)&&(t[i]=u[i]);r+=1}return t};var ai=St(function(e,t){var r={};return r[e]=t,r}),si={"@@transducer/init":Array,"@@transducer/step":function(e,t){return e.push(t),e},"@@transducer/result":pn},ci={"@@transducer/init":String,"@@transducer/step":function(e,t){return e+t},"@@transducer/result":pn},li={"@@transducer/init":Object,"@@transducer/step":function(e,t){return oi(e,Ft(t)?ai(t[0],t[1]):t)},"@@transducer/result":pn},pi=Tt(function(e,t,r){return Et(e)?Ht(t(e),e["@@transducer/init"](),r):Ht(t(function(e){if(Et(e))return e;if(Ft(e))return si;if("string"==typeof e)return ci;if("object"==typeof e)return li;throw new Error("Cannot create transformer for "+e)}(e)),Vr(e,[],[],!1),r)}),hi=xt(function(e){for(var t=ir(e),r=t.length,n=0,u={};n<r;){var i=t[n],o=e[i],a=Yt(o,u)?u[o]:u[o]=[];a[a.length]=i,n+=1}return u}),di=xt(function(e){for(var t=ir(e),r=t.length,n=0,u={};n<r;){var i=t[n];u[e[i]]=i,n+=1}return u}),mi=St(function(e,t){return jt(e+1,function(){var r=arguments[e];if(null!=r&&Br(r[t]))return r[t].apply(r,Array.prototype.slice.call(arguments,0,e));throw new TypeError(En(r)+' does not have a method named "'+t+'"')})}),fi=St(function(e,t){return null!=t&&t.constructor===e||t instanceof e}),wi=xt(function(e){return null!=e&&bn(e,bu(e))}),gi=mi(1,"join"),yi=xt(function(e){return Un(function(){return Array.prototype.slice.call(arguments,0)},e)}),_i=xt(function(e){var t,r=[];for(t in e)r[r.length]=t;return r}),bi=St(function(e,t){if("function"!=typeof t.lastIndexOf||Nt(t)){for(var r=t.length-1;r>=0;){if(bn(t[r],e))return r;r-=1}return-1}return t.lastIndexOf(e)});function vi(e){return"[object Number]"===Object.prototype.toString.call(e)}var xi=xt(function(e){return null!=e&&vi(e.length)?e.length:NaN}),Si=St(function(e,t){return function(r){return function(n){return or(function(e){return t(e,n)},r(e(n)))}}}),Ci=xt(function(e){return Si(sr(e),Yn(e))}),Pi=xt(function(e){return Si(lr(e),Er(e))}),ki=xt(function(e){return Si(pr(e),Dr(e))}),Ai=St(function(e,t){return e<t}),ji=St(function(e,t){return e<=t}),Ii=Tt(function(e,t,r){for(var n=0,u=r.length,i=[],o=[t];n<u;)o=e(o[0],r[n]),i[n]=o[1],n+=1;return[o[0],i]}),Ti=Tt(function(e,t,r){for(var n=r.length-1,u=[],i=[t];n>=0;)i=e(i[0],r[n]),u[n]=i[1],n-=1;return[i[0],u]}),Di=St(function(e,t){return Ht(function(r,n){return r[n]=e(t[n],n,t),r},{},ir(t))}),Ni=St(function(e,t){return t.match(e)||[]}),Ei=St(function(e,t){return ar(e)?!ar(t)||t<1?NaN:(e%t+t)%t:NaN}),Oi=Tt(function(e,t,r){return e(r)>e(t)?r:t}),Li=dr(Ct,0),Bi=xt(function(e){return Li(e)/e.length}),Ri=xt(function(e){var t=e.length;if(0===t)return NaN;var r=2-t%2,n=(t-r)/2;return Bi(Array.prototype.slice.call(e,0).sort(function(e,t){return e<t?-1:e>t?1:0}).slice(n,n+r))}),Mi=St(function(e,t){var r={};return kt(t.length,function(){var n=e.apply(this,arguments);return Yt(n,r)||(r[n]=t.apply(this,arguments)),r[n]})}),Ui=St(function(e,t){return oi({},e,t)}),zi=xt(function(e){return oi.apply(null,[{}].concat(e))}),qi=Tt(function(e,t,r){var n,u={};for(n in t)Yt(n,t)&&(u[n]=Yt(n,r)?e(n,t[n],r[n]):t[n]);for(n in r)Yt(n,r)&&!Yt(n,u)&&(u[n]=r[n]);return u}),Fi=Tt(function e(t,r,n){return qi(function(r,n,u){return jn(n)&&jn(u)?e(t,n,u):t(r,n,u)},r,n)}),Gi=St(function(e,t){return Fi(function(e,t,r){return t},e,t)}),$i=St(function(e,t){return Fi(function(e,t,r){return r},e,t)}),Wi=Tt(function(e,t,r){return Fi(function(t,r,n){return e(r,n)},t,r)}),Zi=St(function(e,t){return oi({},t,e)}),Ki=St(function(e,t){return oi({},e,t)}),Vi=Tt(function(e,t,r){return qi(function(t,r,n){return e(r,n)},t,r)}),Hi=St(function(e,t){return t<e?t:e}),Qi=Tt(function(e,t,r){return e(r)<e(t)?r:t}),Ji=St(function(e,t){return e%t}),Yi=Tt(function(e,t,r){var n=r.length,u=r.slice(),i=e<0?n+e:e,o=t<0?n+t:t,a=u.splice(i,1);return i<0||i>=r.length||o<0||o>=r.length?r:[].concat(u.slice(0,o)).concat(a).concat(u.slice(o,r.length))}),Xi=St(function(e,t){return e*t}),eo=xt(function(e){return-e}),to=St(function(e,t){return Mt(kn(e),t)}),ro=xt(function(e){return jt(e<0?1:e+1,function(){return sr(e,arguments)})}),no=Tt(function(e,t,r){return e(t(r))});function uo(e){return[e]}var io=xt(uo),oo=St(function(e,t){for(var r={},n={},u=0,i=e.length;u<i;)n[e[u]]=1,u+=1;for(var o in t)n.hasOwnProperty(o)||(r[o]=t[o]);return r}),ao=xt(function(e){var t,r=!1;return kt(e.length,function(){return r?t:(r=!0,t=e.apply(this,arguments))})});function so(e,t){if(null==t||!Br(t.then))throw new TypeError("`"+e+"` expected a Promise, received "+Nn(t,[]))}var co=St(function(e,t){return so("otherwise",t),t.then(null,e)}),lo=function(e){return{value:e,map:function(t){return lo(t(e))}}},po=Tt(function(e,t,r){return e(function(e){return lo(t(e))})(r).value}),ho=St(function(e,t){return[e,t]});function mo(e){return St(function(t,r){return kt(Math.max(0,t.length-r.length),function(){return t.apply(this,e(r,arguments))})})}var fo=mo(Pt),wo=mo(Lu(Pt)),go=yi([Tn,Dn]),yo=Tt(function(e,t,r){return bn(lr(e,r),t)}),_o=Tt(function(e,t,r){return $n(e,lr(t,r))}),bo=Tt(function(e,t,r){return e(lr(t,r))}),vo=St(function(e,t){for(var r={},n=0;n<e.length;)e[n]in t&&(r[e[n]]=t[e[n]]),n+=1;return r}),xo=St(function(e,t){for(var r={},n=0,u=e.length;n<u;){var i=e[n];r[i]=t[i],n+=1}return r}),So=St(function(e,t){var r={};for(var n in t)e(t[n],n,t)&&(r[n]=t[n]);return r}),Co=St(function(e,t){return Pt([e],t)}),Po=dr(Xi,1),ko=St(function(e,t){return jt(t.length,function(){for(var r=[],n=0;n<t.length;)r.push(t[n].call(this,arguments[n])),n+=1;return e.apply(this,r.concat(Array.prototype.slice.call(arguments,t.length)))})}),Ao=ko(zt,[xo,hn]),jo=Tt(function(e,t,r){return bn(t,r[e])}),Io=Tt(function(e,t,r){return fi(e,r[t])}),To=Tt(function(e,t,r){return _o(e,[t],r)}),Do=Tt(function(e,t,r){return e(r[t])}),No=St(function(e,t){return e.map(function(e){return lr([e],t)})}),Eo=St(function(e,t){if(!vi(e)||!vi(t))throw new TypeError("Both arguments to range must be numbers");for(var r=[],n=e;n<t;)r.push(n),n+=1;return r}),Oo=Tt(function(e,t,r){for(var n=r.length-1;n>=0;)t=e(r[n],t),n-=1;return t}),Lo=At(4,[],function(e,t,r,n){return Ht(function(r,n){return e(r,n)?t(r,n):Lt(r)},r,n)}),Bo=xt(Lt),Ro=St(function(e,t){var r,n=Number(t),u=0;if(n<0||isNaN(n))throw new RangeError("n must be a non-negative number");for(r=new Array(n);u<n;)r[u]=e(u),u+=1;return r}),Mo=St(function(e,t){return Ro(fr(e),t)}),Uo=Tt(function(e,t,r){return r.replace(e,t)}),zo=Tt(function(e,t,r){for(var n=0,u=r.length,i=[t];n<u;)t=e(t,r[n]),i[n+1]=t,n+=1;return i}),qo=St(function(e,t){return"function"==typeof t.sequence?t.sequence(e):Oo(function(e,t){return br(or(Co,e),t)},e([]),t)}),Fo=Tt(function(e,t,r){return po(e,fr(t),r)}),Go=St(function(e,t){return Array.prototype.slice.call(t,0).sort(e)}),$o=St(function(e,t){return Array.prototype.slice.call(t,0).sort(function(t,r){var n=e(t),u=e(r);return n<u?-1:n>u?1:0})}),Wo=St(function(e,t){return Array.prototype.slice.call(t,0).sort(function(t,r){for(var n=0,u=0;0===n&&u<e.length;)n=e[u](t,r),u+=1;return n})}),Zo=mi(1,"split"),Ko=St(function(e,t){return[tn(0,e,t),tn(e,xi(t),t)]}),Vo=St(function(e,t){if(e<=0)throw new Error("First argument to splitEvery must be a positive integer");for(var r=[],n=0;n<t.length;)r.push(tn(n,n+=e,t));return r}),Ho=St(function(e,t){for(var r=0,n=t.length,u=[];r<n&&!e(t[r]);)u.push(t[r]),r+=1;return[u,Array.prototype.slice.call(t,r)]}),Qo=St(function(e,t){return bn(uu(e.length,t),e)}),Jo=St(function(e,t){return Number(e)-Number(t)}),Yo=St(function(e,t){return On(Vn(e,t),Vn(t,e))}),Xo=Tt(function(e,t,r){return On(Hn(e,t,r),Hn(e,r,t))}),ea=St(function(e,t){for(var r=t.length-1;r>=0&&e(t[r]);)r-=1;return tn(r+1,1/0,t)}),ta=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=Bt.init,e.prototype["@@transducer/result"]=Bt.result,e.prototype["@@transducer/step"]=function(e,t){return this.f(t)?this.xf["@@transducer/step"](e,t):Lt(e)},e}(),ra=St(Ot(["takeWhile"],St(function(e,t){return new ta(e,t)}),function(e,t){for(var r=0,n=t.length;r<n&&e(t[r]);)r+=1;return tn(0,r,t)})),na=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=Bt.init,e.prototype["@@transducer/result"]=Bt.result,e.prototype["@@transducer/step"]=function(e,t){return this.f(t),this.xf["@@transducer/step"](e,t)},e}(),ua=St(Ot([],St(function(e,t){return new na(e,t)}),function(e,t){return e(t),t})),ia=St(function(e,t){if(r=e,"[object RegExp]"!==Object.prototype.toString.call(r))throw new TypeError("‘test’ requires a value of type RegExp as its first argument; received "+En(e));var r;return Zr(e).test(t)}),oa=St(function(e,t){return so("andThen",t),t.then(e)}),aa=mi(0,"toLowerCase"),sa=xt(function(e){var t=[];for(var r in e)Yt(r,e)&&(t[t.length]=[r,e[r]]);return t}),ca=xt(function(e){var t=[];for(var r in e)t[t.length]=[r,e[r]];return t}),la=mi(0,"toUpperCase"),pa=jt(4,function(e,t,r,n){return Ht(e("function"==typeof t?$t(t):t),r,n)}),ha=xt(function(e){for(var t=0,r=[];t<e.length;){for(var n=e[t],u=0;u<n.length;)void 0===r[u]&&(r[u]=[]),r[u].push(n[u]),u+=1;t+=1}return r}),da=Tt(function(e,t,r){return"function"==typeof r["fantasy-land/traverse"]?r["fantasy-land/traverse"](t,e):qo(e,or(t,r))}),ma="\t\n\v\f\r                　\u2028\u2029\ufeff",fa=xt("function"==typeof String.prototype.trim&&!ma.trim()&&"​".trim()?function(e){return e.trim()}:function(e){var t=new RegExp("^["+ma+"]["+ma+"]*"),r=new RegExp("["+ma+"]["+ma+"]*$");return e.replace(t,"").replace(r,"")}),wa=St(function(e,t){return kt(e.length,function(){try{return e.apply(this,arguments)}catch(r){return t.apply(this,Pt([r],arguments))}})}),ga=xt(function(e){return function(){return e(Array.prototype.slice.call(arguments,0))}}),ya=xt(function(e){return Or(1,e)}),_a=St(function(e,t){return jt(e,function(){for(var r,n=1,u=t,i=0;n<=e&&"function"==typeof u;)r=n===e?arguments.length:i+u.length,u=u.apply(this,Array.prototype.slice.call(arguments,i,r)),n+=1,i=r;return u})}),ba=St(function(e,t){for(var r=e(t),n=[];r&&r.length;)n[n.length]=r[0],r=e(r[1]);return n}),va=St(on(ni,Pt)),xa=St(function(e,t){for(var r,n=0,u=t.length,i=[];n<u;)wn(e,r=t[n],i)||(i[i.length]=r),n+=1;return i}),Sa=Tt(function(e,t,r){return xa(e,Pt(t,r))}),Ca=Tt(function(e,t,r){return e(r)?r:t(r)}),Pa=$r(pn),ka=Tt(function(e,t,r){for(var n=r;!e(n);)n=t(n);return n}),Aa=xt(function(e){var t,r=[];for(t in e)r[r.length]=e[t];return r}),ja=function(e){return{value:e,"fantasy-land/map":function(){return this}}},Ia=St(function(e,t){return e(ja)(t).value}),Ta=Tt(function(e,t,r){return e(r)?t(r):r}),Da=St(function(e,t){for(var r in e)if(Yt(r,e)&&!e[r](t[r]))return!1;return!0}),Na=St(function(e,t){return Da(or(bn,e),t)}),Ea=St(function(e,t){return Dn(Lu(xn)(e),t)}),Oa=St(function(e,t){return Boolean(!e^!t)}),La=St(function(e,t){for(var r,n=0,u=e.length,i=t.length,o=[];n<u;){for(r=0;r<i;)o[o.length]=[e[n],t[r]],r+=1;n+=1}return o}),Ba=St(function(e,t){for(var r=[],n=0,u=Math.min(e.length,t.length);n<u;)r[n]=[e[n],t[n]],n+=1;return r}),Ra=St(function(e,t){for(var r=0,n=Math.min(e.length,t.length),u={};r<n;)u[e[r]]=t[r],r+=1;return u}),Ma=Tt(function(e,t,r){for(var n=[],u=0,i=Math.min(t.length,r.length);u<i;)n[u]=e(t[u],r[u]),u+=1;return n}),Ua=xt(function(e){return jt(e.length,function(){var t=arguments;return function(){return e.apply(this,t)}})});const za=Object.freeze(Object.defineProperty({__proto__:null,F:function(){return!1},T:function(){return!0},__:{"@@functional/placeholder":!0},add:Ct,addIndex:It,adjust:Dt,all:Mt,allPass:mr,always:fr,and:wr,andThen:oa,any:yr,anyPass:_r,ap:br,aperture:Sr,append:Cr,apply:Pr,applySpec:jr,applyTo:Ir,ascend:Tr,assoc:Dr,assocPath:Er,binary:Lr,bind:Wt,both:Ur,call:qr,chain:$r,clamp:Wr,clone:Hr,comparator:Qr,complement:Yr,compose:on,composeK:an,composeP:function(){if(0===arguments.length)throw new Error("composeP requires at least one argument");return cn.apply(this,un(arguments))},composeWith:mn,concat:On,cond:Ln,construct:Rn,constructN:Bn,contains:Mn,converge:Un,countBy:Fn,curry:zr,curryN:jt,dec:Gn,defaultTo:$n,descend:Wn,difference:Vn,differenceWith:Hn,dissoc:Qn,dissocPath:Xn,divide:eu,drop:ru,dropLast:au,dropLastWhile:lu,dropRepeats:fu,dropRepeatsWith:mu,dropWhile:gu,either:_u,empty:bu,endsWith:xu,eqBy:Su,eqProps:Cu,equals:bn,evolve:Pu,filter:Tn,find:Au,findIndex:Iu,findLast:Du,findLastIndex:Eu,flatten:Ou,flip:Lu,forEach:Bu,forEachObjIndexed:Ru,fromPairs:Mu,groupBy:Uu,groupWith:zu,gt:qu,gte:Fu,has:$u,hasIn:Wu,hasPath:Gu,head:ln,identical:Zu,identity:hn,ifElse:Ku,inc:Vu,includes:Hu,indexBy:Qu,indexOf:Ju,init:Yu,innerJoin:Xu,insert:ei,insertAll:ti,intersection:ui,intersperse:ii,into:pi,invert:hi,invertObj:di,invoker:mi,is:fi,isEmpty:wi,isNil:Nr,join:gi,juxt:yi,keys:ir,keysIn:_i,last:du,lastIndexOf:bi,length:xi,lens:Si,lensIndex:Ci,lensPath:Pi,lensProp:ki,lift:Mr,liftN:Rr,lt:Ai,lte:ji,map:or,mapAccum:Ii,mapAccumRight:Ti,mapObjIndexed:Di,match:Ni,mathMod:Ei,max:Ut,maxBy:Oi,mean:Bi,median:Ri,memoizeWith:Mi,merge:Ui,mergeAll:zi,mergeDeepLeft:Gi,mergeDeepRight:$i,mergeDeepWith:Wi,mergeDeepWithKey:Fi,mergeLeft:Zi,mergeRight:Ki,mergeWith:Vi,mergeWithKey:qi,min:Hi,minBy:Qi,modulo:Ji,move:Yi,multiply:Xi,nAry:Or,negate:eo,none:to,not:Jr,nth:sr,nthArg:ro,o:no,objOf:ai,of:io,omit:oo,once:ao,or:yu,otherwise:co,over:po,pair:ho,partial:fo,partialRight:wo,partition:go,path:lr,pathEq:yo,pathOr:_o,pathSatisfies:bo,paths:cr,pick:vo,pickAll:xo,pickBy:So,pipe:nn,pipeK:function(){if(0===arguments.length)throw new Error("pipeK requires at least one argument");return an.apply(this,un(arguments))},pipeP:cn,pipeWith:dn,pluck:hr,prepend:Co,product:Po,project:Ao,prop:pr,propEq:jo,propIs:Io,propOr:To,propSatisfies:Do,props:No,range:Eo,reduce:dr,reduceBy:qn,reduceRight:Oo,reduceWhile:Lo,reduced:Bo,reject:Dn,remove:Jn,repeat:Mo,replace:Uo,reverse:un,scan:zo,sequence:qo,set:Fo,slice:tn,sort:Go,sortBy:$o,sortWith:Wo,split:Zo,splitAt:Ko,splitEvery:Vo,splitWhen:Ho,startsWith:Qo,subtract:Jo,sum:Li,symmetricDifference:Yo,symmetricDifferenceWith:Xo,tail:rn,take:uu,takeLast:vu,takeLastWhile:ea,takeWhile:ra,tap:ua,test:ia,thunkify:Ua,times:Ro,toLower:aa,toPairs:sa,toPairsIn:ca,toString:En,toUpper:la,transduce:pa,transpose:ha,traverse:da,trim:fa,tryCatch:wa,type:Kr,unapply:ga,unary:ya,uncurryN:_a,unfold:ba,union:va,unionWith:Sa,uniq:ni,uniqBy:ri,uniqWith:xa,unless:Ca,unnest:Pa,until:ka,update:Yn,useWith:ko,values:kr,valuesIn:Aa,view:Ia,when:Ta,where:Da,whereEq:Na,without:Ea,xor:Oa,xprod:La,zip:Ba,zipObj:Ra,zipWith:Ma},Symbol.toStringTag,{value:"Module"})),qa=_e(za);var Fa,Ga=(Fa||(Fa=1,function(e){var t=dt&&dt.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=dt&&dt.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=dt&&dt.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var u in e)"default"!==u&&Object.hasOwnProperty.call(e,u)&&t(n,e,u);return r(n,e),n};Object.defineProperty(e,"__esModule",{value:!0}),e.findTracking=e.getTracking=e.allCouriers=e.usps=e.ups=e.s10=e.ontrac=e.fedex=e.dhl=e.amazon=void 0;const u=n(mt);e.amazon=u;const i=n(ft);e.dhl=i;const o=n(wt);e.fedex=o;const a=n(gt);e.ontrac=a;const s=n(yt);e.s10=s;const c=n(_t);e.ups=c;const l=n(bt);e.usps=l;const p=qa;e.allCouriers=[u,i,o,a,s,c,l];const h=(e,t)=>{const r=p.is(String,t)?t:t.join(""),n=new RegExp(`\\b${r}\\b`).exec(e.replace(/[^a-zA-Z\d]/g,""));return n&&{serial:n.groups.SerialNumber.replace(/\s/g,""),checkDigit:n.groups.CheckDigit,groups:n.groups}||{}},d=(e,t)=>!t.additional||t.additional.every((e=>t=>"ServiceType"===t.regex_group_name?t.lookup.some(r=>!r.matches_regex||new RegExp(r.matches_regex).test(e.groups[t.regex_group_name])):"CountryCode"!==t.regex_group_name&&"ShippingContainerType"!==t.regex_group_name||t.lookup.some(r=>r.matches===e.groups[t.regex_group_name]))(h(e,t.regex))),m=e=>!0,f=e=>Object.assign({},e),w=(e,t)=>t%2==0,g=p.complement(w),y=(e,t)=>p.pipe(f,p.pickBy(e),p.values,p.sum)(t),_=({serial:e,checkDigit:t,checksum:r})=>{const n=(u=e.replace(/[^\da-zA-Z]/g,""),p.pipe(p.split(""),p.map(e=>isNaN(e)?(e.charCodeAt(0)-3)%10:parseInt(e)))(u));var u;return(10-p.sum([y(w,n)*(r.evens_multiplier||1),y(g,n)*(r.odds_multiplier||1)])%10)%10===parseInt(t)},b=({serial:e,checkDigit:t})=>parseInt(e)%7===parseInt(t),v=(e,t)=>p.sum(p.zip(t.split("").map(e=>parseInt(e)),e||[]).map(e=>e.reduce(p.multiply))),x=({serial:e,checkDigit:t})=>{const r=v([8,6,4,2,3,5,9,7],e)%11;return(1===r?0:0===r?5:11-r)===parseInt(t)},S=({serial:e,checkDigit:t,checksum:r})=>v(r.weightings,e)%r.modulo1%r.modulo2===parseInt(t),C=(e,t)=>t.map(p.pipe(p.prop("tracking_numbers"),p.chain(p.pipe((e=>t=>p.pipe(p.prop("regex"),p.ifElse(p.is(String),p.identity,p.join("")),e=>new RegExp(e,"g"),p.flip(p.match)(e),p.map(p.replace(/[^a-zA-Z\d\n\r]/g,"")),p.uniq)(t))(e),p.flatten)))),P=e=>p.reduce((t,r)=>t||p.reduce((t,n)=>{const u=((e,{regex:t,validation:{serial_number_format:r,checksum:n}})=>{const u=h(e,t);return u&&u.serial?{serial:r?(i=u.serial,o=r,o.prepend_if&&new RegExp(o.prepend_if.matches_regex).test(i)?`${o.prepend_if.content}${i}`:i):u.serial,checkDigit:u.checkDigit,checksum:n}:null;var i,o})(e,n);return u&&(({validation:{checksum:e}})=>"mod10"===(null==e?void 0:e.name)?_:"sum_product_with_weightings_and_modulo"===(null==e?void 0:e.name)?S:"mod7"===(null==e?void 0:e.name)?b:"s10"===(null==e?void 0:e.name)?x:m)(n)(u)&&d(e,n)?p.reduced(((e,t,r)=>({name:e.name,trackingUrl:e.tracking_url||null,description:e.description||null,trackingNumber:r.replace(/[^a-zA-Z\d]/g,""),courier:{name:t.name,code:t.courier_code}}))(n,r,e)):void 0},void 0,r.tracking_numbers),void 0);e.getTracking=(t,r=e.allCouriers)=>P(t)(r),e.findTracking=(t,r)=>((e,t)=>p.pipe(p.flatten,p.uniq,e=>p.filter(t=>p.none(p.test(new RegExp(`([a-zA-Z0-9 ]+)${t}$`)),e))(e),e=>p.filter(t=>p.none(p.test(new RegExp(`^${t}([a-zA-Z0-9 ]+)`)),e))(e))(C(e,t)))(t,r||e.allCouriers).map(t=>e.getTracking(t,r||e.allCouriers)).filter(p.complement(p.isNil))}(dt)),dt);const $a=o("span")(()=>({fontWeight:"bold",color:"#313440"}));function Wa({isCurrentCompany:e}){const{state:{shippings:t=[],addressLabelPermission:i,money:o}}=y.useContext(De),[a]=k(),s=S(),[c,l]=y.useState([]);y.useEffect(()=>{t.length&&(t.forEach(e=>{if(e.shipmentItems.length){const{shipmentItems:t}=e;t.forEach(e=>{const t=e.tracking_number;if(e?.generated_tracking_link&&t)return void(e.tracking_link=e.generated_tracking_link);const r=Ga.getTracking(t);if(r){const{trackingUrl:t="",trackingNumber:n}=r;t&&(e.tracking_link=t.includes("=%s")?t.replace("=%s",`=${n}`):t)}})}}),l(t))},[t]);const d=e=>{const{first_name:t,last_name:r}=e;return`${t} ${r}`},m=e=>{const{street_1:t,city:r,state:n,zip:u,country:i}=e;return`${t}, ${r}, ${n} ${u}, ${i}`};let g=0;const _=e=>{const{date_created:t,shipping_method:r,shipping_provider_display_name:n}=e;return`shipped on ${ye(new Date(t),"LLLL, d")}, by ${n}, ${r}`},b=e=>{if(i)return e;const t=e.indexOf("/");return e.substring(t+1,e.length)};return c.length?r.jsx(f,{spacing:2,children:c.map(t=>r.jsx(p,{children:r.jsxs(h,{children:[r.jsxs(n,{sx:{wordBreak:"break-word",color:"rgba(0, 0, 0, 0.87)"},children:[r.jsxs(u,{variant:"h6",sx:{fontSize:"24px",fontWeight:"400"},children:[d(t)," – ",b(t.company||"")]}),r.jsx(u,{variant:"h6",sx:{fontSize:"24px",fontWeight:"400"},children:m(t)})]}),(t.shipmentItems||[]).map(t=>t.itemsInfo.length>0?r.jsxs(y.Fragment,{children:[r.jsxs(n,{sx:{margin:"20px 0 2px"},children:[r.jsx(u,{variant:"body1",children:r.jsxs(r.Fragment,{children:[r.jsx($a,{children:`${s("orderDetail.shipment.shipment")} ${g+=1,g} – `}),_(t)]})}),t.tracking_link?r.jsx(w,{href:t.tracking_link,target:"_blank",children:t.tracking_number}):r.jsx(u,{variant:"body1",children:t.tracking_number})]}),r.jsx(G,{quantityKey:"current_quantity_shipped",products:t.itemsInfo,money:o,totalText:"Total",canToProduct:e,textAlign:"right"})]},`shipment-${t.id}`):null),t.notShip.itemsInfo.length>0?r.jsxs(y.Fragment,{children:[r.jsx(n,{sx:{margin:"20px 0 2px"},children:r.jsx(u,{variant:"body1",children:r.jsx($a,{children:s("orderDetail.shipment.notShippedYet")})})}),r.jsx(G,{quantityKey:"not_shipping_number",products:t.notShip.itemsInfo,money:o,totalText:"Total",canToProduct:e,textAlign:a?"left":"right"})]},`shipment-notShip-${t.id}`):null]})},`shipping-${t.id}`))}):null}function Za(){const e=C(P),t=C(({company:e})=>e.customer.role),i=C(({b2bFeatures:e})=>e.masqueradeCompany.isAgenting),o=C(({company:e})=>e.companyInfo.id),{selectCompanyHierarchyId:a}=C(({company:e})=>e.companyHierarchyInfo),s=C(({b2bFeatures:e})=>e.masqueradeCompany.id),c=t===Z.SUPER_ADMIN&&i?Number(s):Number(o),l=Number(a)||c,p=ne(),h=re(),d=S(),{state:{addressConfig:m},dispatch:w}=y.useContext(R),{state:{poNumber:_,status:b="",customStatus:v,orderSummary:x,orderStatus:A=[],products:j,digitalProducts:I},state:T,dispatch:D}=y.useContext(De),{state:{portalStyle:{backgroundColor:N="#FEF9F5"}}}=y.useContext(K),E=V(N),O=te(),[L]=k(),[B,M]=y.useState(""),[U,z]=y.useState(""),[q,F]=y.useState(!1),[G,$]=y.useState(!1);return y.useEffect(()=>{z(p.id||"")},[p]),y.useEffect(()=>{if(U){const t=async()=>{const t=parseInt(U,10);if(t){F(!0);try{const r=e?await ke(t):await Ae(t);if(r){const{products:e,companyInfo:t}=r,n={...r,products:e.map(e=>({...e,imageUrl:e?.variantImageUrl||e.imageUrl}))};$(Number(t.companyId)===Number(l));const u=ze(n,d);D({type:"all",payload:u}),M(U)}}catch(r){"order does not exist"===r&&setTimeout(()=>{window.location.hash=`/orderDetail/${B}`},1e3)}finally{F(!1)}}},r=async()=>{const t=e?await je():await Ie();D({type:"statusType",payload:{orderStatus:t}})};t(),r()}},[e,U,B,a]),y.useEffect(()=>{(async()=>{try{let e=m;if(!e){const{addressConfig:t}=await Y();e=t,w({type:"common",payload:{addressConfig:e}})}const t="1"===(e||[]).find(e=>"address_label"===e.key)?.isEnabled;D({type:"addressLabel",payload:{addressLabelPermission:t}})}catch(e){J.error(e)}})()},[]),r.jsx(H,{isSpinning:q,background:"rgba(255,255,255,0.2)",children:r.jsxs(n,{sx:{overflow:"auto",flex:1},children:[r.jsx(n,{sx:{marginBottom:"10px",width:"fit-content"},children:r.jsx(n,{sx:{color:"primary.main",cursor:"pointer",fontSize:"14px",display:"flex",alignItems:"center"},onClick:()=>{h(O.state.isCompanyOrder?"/company-orders":"/orders")},children:null!==O.state?r.jsxs(r.Fragment,{children:[r.jsx(ae,{sx:{fontSize:"13px",margin:"0 8px"}}),r.jsx("span",{children:d("orderDetail.backToOrders")})]}):""})}),r.jsxs(g,{container:!0,spacing:2,children:[r.jsxs(g,{item:!0,xs:L?12:8,sx:{display:"flex",alignItems:"center",gap:"15px",order:L?1:0},children:[r.jsxs(u,{variant:"h4",sx:{color:Q(E,.87)||"#263238"},children:[d("orderDetail.orderId",{orderId:U}),d("orderDetail.purchaseOrderNumber",{purchaseOrderNumber:_??""})]}),r.jsx(X,{code:b,text:(e=>{const t=A.find(t=>t.systemLabel===e);let r=t?.customLabel||v;if(t){const e=ee[t.systemLabel];r=e&&d(e)!==t.systemLabel?d(e):r}return r})(b)})]}),r.jsx(g,{container:!0,item:!0,xs:L?12:4,sx:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:O?.state&&r.jsx(Ge,{onChange:e=>(e=>{z(e.toString())})(e),color:E})})]}),j?.length&&!G?r.jsxs(n,{sx:{marginTop:"24px",height:"48px",padding:"6px 16px",borderRadius:"4px",backgroundColor:"#0288D1",display:"flex",alignItems:"center"},children:[r.jsx(se,{color:"primary",sx:{color:"#FFFFFF"}}),r.jsx(u,{sx:{color:"#FFFFFF",marginLeft:"8px",fontSize:"14px"},children:d("orderDetail.anotherCompany.tips")})]}):null,r.jsxs(g,{container:!0,spacing:2,sx:{marginTop:"0",overflow:"auto",flexWrap:L?"wrap":"nowrap",paddingBottom:"20px"},children:[r.jsx(g,{item:!0,sx:L?{flexBasis:"100%"}:{flexBasis:"690px",flexGrow:1},children:r.jsxs(f,{spacing:3,children:[r.jsx(Wa,{isCurrentCompany:G}),!!I?.length&&r.jsx(lt,{isCurrentCompany:G}),r.jsx(ht,{})]})}),r.jsx(g,{item:!0,sx:L?{flexBasis:"100%"}:{flexBasis:"340px"},children:"{}"===JSON.stringify(x)?null:r.jsx(ot,{detailsData:T,isCurrentCompany:G})})]})]})})}}}});
//# sourceMappingURL=index-legacy-D9wTXFrP.js.map
