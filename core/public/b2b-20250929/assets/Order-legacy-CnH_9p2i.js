System.register(["./mui-legacy-Co1sKVsS.js","./intl-legacy-f5dGU49Z.js","./react-setup-legacy-D2JRzxdF.js","./load-functions-legacy-rxJ-MsEG.js","./base-legacy-DAqmyLJs.js","./B2BAutoCompleteCheckbox-legacy-cWJzTGs5.js","./B3Filter-legacy-BmtmonFX.js","./OrderStatus-legacy-C0ptIsLu.js","./muiIcon-legacy-C-h6sDde.js","./router-legacy-CQEMCAt4.js"],function(e,t){"use strict";var r,s,n,a,i,o,c,l,u,d,h,p,y,m,f,b,g,x,R,I,C,v,S,w,O,j,B,Q,k,D,T,P,N,A,$,E,q,F,L,U,_,H,M,W,z,G,J,V,K,X,Y,Z,ee;return{setters:[e=>{r=e.j,s=e.w,n=e.G,a=e.z,i=e.A,o=e.D,c=e.E,l=e.H,u=e.J,d=e.K,h=e.L,p=e.M,y=e.O,m=e.ae,f=e.B,b=e.T},e=>{g=e.r},e=>{x=e.aV,R=e.aW,I=e.aX,C=e.aY,v=e.aZ,S=e.a_,w=e.a$,O=e.b0,j=e.b1,B=e.b2,Q=e.b3,k=e.b4,D=e.b5,T=e.b6,P=e.b7,N=e.b8,A=e.j,$=e.C,E=e.l,q=e.a,F=e.aa,L=e.ah,U=e.u,_=e.y,H=e.ay,M=e.aw,W=e.B,z=e.aD,G=e.aR,J=e.af},null,null,e=>{V=e.B},e=>{K=e.B},e=>{X=e.O,Y=e.o},e=>{Z=e.D},e=>{ee=e.a}],execute:function(){e("O",function({isCompanyOrder:e=!1}){const s=A(),[n]=q(),{role:a,isAgenting:i,companyId:o,isB2BUser:c,isEnabledCompanyHierarchy:l,selectedCompanyId:u}=function(){const e=U(_),t=U(({company:e})=>e.companyInfo.id),r=U(({company:e})=>e.customer.role),s=U(({b2bFeatures:e})=>e.masqueradeCompany.id),n=U(({b2bFeatures:e})=>e.masqueradeCompany.isAgenting),{order:a}=U(({company:e})=>e.pagesSubsidiariesPermission),{selectCompanyHierarchyId:i,isEnabledCompanyHierarchy:o}=U(({company:e})=>e.companyHierarchyInfo),c=r===L.SUPER_ADMIN&&n?Number(s):Number(t),l=t||s;return{role:r,isAgenting:n,isB2BUser:e,isEnabledCompanyHierarchy:o&&a,selectedCompanyId:Number(i)||c,companyId:l}}(),[d,h]=g.useState({offset:0,first:10}),[p,y]=g.useState(0),[m,b]=g.useState(),[x,R]=g.useState([]),[I,C]=g.useState([]),[v,O]=g.useState({key:"orderId",dir:"desc"});g.useEffect(()=>{const t=c?we(e,u):Se();b(t),a!==L.GUEST&&(async()=>{const t=c&&e?await $e(Number(o)):{},r=c?await Ne():await Ae(),n=ve(c,a,e,i,t,r);C(r);const l=n.map(e=>{const t=e;return t.label=s(e.idLang),"orderStatus"===e.name&&(t.options=e.options.map(e=>{const t=Y[e.systemLabel],r=e;return r.customLabel=s(t)===r.systemLabel?r.customLabel:s(t),e})),e});R(l)})()},[s,o,i,c,e,a,u]);const j=ee(),B=(t,r)=>{j(`/orderDetail/${t.orderId}`,{state:{currentIndex:r,searchParams:{...m,orderBy:Fe(v)},totalCount:p,isCompanyOrder:e,beginDateAt:m?.beginDateAt,endDateAt:m?.endDateAt}})},Q=[{key:"orderId",title:s("orders.order"),width:"10%",isSortable:!0,render:({orderId:e})=>e},{key:"companyName",title:s("orders.company"),width:"10%",isSortable:!1,render:({companyInfo:e})=>r.jsx(f,{children:e?.companyName||"–"})},{key:"poNumber",title:s("orders.poReference"),render:({poNumber:e})=>r.jsx(f,{children:e||"–"}),width:"10%",isSortable:!0},{key:"totalIncTax",title:s("orders.grandTotal"),render:({money:e,totalIncTax:t})=>e?G(JSON.parse(JSON.parse(e)),t):H(t),align:"right",width:"8%",isSortable:!0},{key:"status",title:s("orders.orderStatus"),render:({status:e})=>r.jsx(X,{text:Oe(e,I),code:e}),width:"10%",isSortable:!0},{key:"placedBy",title:s("orders.placedBy"),render:({firstName:e,lastName:t})=>`${e} ${t}`,width:"10%",isSortable:!0},{key:"createdAt",title:s("orders.createdOn"),render:({createdAt:e})=>`${M(Number(e))}`,width:"10%",isSortable:!0}],k=Q.filter(t=>{const{key:r}=t;return!(!c&&"companyName"===r||(!c||3===Number(a)&&!i)&&"placedBy"===r||"placedBy"===r&&(3!==Number(a)||i)&&!e)}),{data:D,isFetching:P}=function(e,t){const r=ie(),s=ce(),n=N(),a=n.defaultQueryOptions(e);n.getDefaultOptions().queries?._experimental_beforeQuery?.(a),a._optimisticResults=r?"isRestoring":"optimistic",he(a),le(a,s),ue(s);const i=!n.getQueryCache().get(a.queryHash),[o]=g.useState(()=>new t(n,a)),c=o.getOptimisticResult(a),l=!r&&!1!==e.subscribed;if(g.useSyncExternalStore(g.useCallback(e=>{const t=l?o.subscribe(T.batchCalls(e)):S;return o.updateResult(),t},[o,l]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),g.useEffect(()=>{o.setOptions(a)},[a,o]),ye(a,c))throw me(a,o,s);if(de({result:c,errorResetBoundary:s,throwOnError:a.throwOnError,query:n.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw c.error;if(n.getDefaultOptions().queries?._experimental_afterQuery?.(a,c),a.experimental_prefetchInRender&&!w&&pe(c,r)){const e=i?me(a,o,s):n.getQueryCache().get(a.queryHash)?.promise;e?.catch(S).finally(()=>{o.updateResult()})}return a.notifyOnChangeProps?c:o.trackResult(c)}({queryKey:["orderList",m,d,v],enabled:Boolean(m),queryFn:()=>(async({createdBy:e,...t})=>{const{edges:r=[],totalCount:s}=c?await Te({...t,email:Ee(e),createdBy:qe(e)}):await Pe(t);return y(s),{edges:r.map(e=>"node"in e?e.node:e),totalCount:s}})({...m,...d,orderBy:Fe(v)})},t);return r.jsx(J,{isSpinning:P,children:r.jsxs(f,{sx:{display:"flex",flexDirection:"column",flex:1,width:"100%"},children:[r.jsxs(f,{sx:{width:n?"100%":"auto",display:"flex",justifyContent:"flex-start",alignItems:n?"flex-start":"center",flexDirection:n?"column":"row","& > div":{width:n?"100%":"auto"}},children:[l&&r.jsx(f,{sx:{mr:n?0:"10px",mb:"30px"},children:r.jsx(V,{handleChangeCompanyIds:e=>{const t=e.includes(-1)?[]:e;b(e=>({...e,companyIds:t}))}})}),r.jsx(K,{startPicker:{isEnabled:!0,label:s("orders.from"),defaultValue:m?.beginDateAt||null,pickerKey:"start"},endPicker:{isEnabled:!0,label:s("orders.to"),defaultValue:m?.endDateAt||null,pickerKey:"end"},filterMoreInfo:x,handleChange:(e,t)=>{"search"===e&&b(e=>({...e,q:t}))},handleFilterChange:e=>{let t=e?.orderStatus||"";if(t){const e=I.find(e=>e.customLabel===t||e.systemLabel===t);t=e?.systemLabel||t}b(r=>({...r,beginDateAt:e?.startValue||null,endDateAt:e?.endValue||null,createdBy:e?.PlacedBy||"",statusCode:t,companyName:e?.company||""}))},pcTotalWidth:"100%",pcContainerWidth:"100%",pcSearchContainerWidth:"100%"})]}),r.jsx(Ie,{columnItems:k,listItems:D?.edges||[],pagination:{...d,count:D?.totalCount||0},onPaginationChange:h,isInfiniteScroll:n,renderItem:(e,t)=>r.jsx(Be,{goToDetail:()=>B(e,t),item:e},e.orderId),onClickRow:B,sortDirection:v.dir,sortByFn:e=>{O(t=>(function(e){if(!Object.keys(Ce).includes(e))throw new Error(`Invalid sort key: ${e}`)}(e),t.key===e?{key:e,dir:"asc"===t.dir?"desc":"asc"}:{key:e,dir:"desc"}))},orderBy:v.key})]})})});var t=class extends x{constructor(e,t){super(),this.options=t,this.#e=e,this.#t=null,this.#r=R(),this.bindMethods(),this.setOptions(t)}#e;#s=void 0;#n=void 0;#a=void 0;#i;#o;#r;#t;#c;#l;#u;#d;#h;#p;#y=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#s.addObserver(this),te(this.#s,this.options)?this.#m():this.updateResult(),this.#f())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return re(this.#s,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return re(this.#s,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#g(),this.#s.removeObserver(this)}setOptions(e){const t=this.options,r=this.#s;if(this.options=this.#e.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof I(this.options.enabled,this.#s))throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#x(),this.#s.setOptions(this.options),t._defaulted&&!C(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#s,observer:this});const s=this.hasListeners();s&&se(this.#s,r,this.options,t)&&this.#m(),this.updateResult(),!s||this.#s===r&&I(this.options.enabled,this.#s)===I(t.enabled,this.#s)&&v(this.options.staleTime,this.#s)===v(t.staleTime,this.#s)||this.#R();const n=this.#I();!s||this.#s===r&&I(this.options.enabled,this.#s)===I(t.enabled,this.#s)&&n===this.#p||this.#C(n)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),r=this.createResult(t,e);return s=r,!C(this.getCurrentResult(),s)&&(this.#a=r,this.#o=this.options,this.#i=this.#s.state),r;var s}getCurrentResult(){return this.#a}trackResult(e,t){return new Proxy(e,{get:(e,r)=>(this.trackProp(r),t?.(r),"promise"!==r||this.options.experimental_prefetchInRender||"pending"!==this.#r.status||this.#r.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(e,r))})}trackProp(e){this.#y.add(e)}getCurrentQuery(){return this.#s}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#m({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#a))}#m(e){this.#x();let t=this.#s.fetch(this.options,e);return e?.throwOnError||(t=t.catch(S)),t}#R(){this.#b();const e=v(this.options.staleTime,this.#s);if(w||this.#a.isStale||!O(e))return;const t=j(this.#a.dataUpdatedAt,e)+1;this.#d=B.setTimeout(()=>{this.#a.isStale||this.updateResult()},t)}#I(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#s):this.options.refetchInterval)??!1}#C(e){this.#g(),this.#p=e,!w&&!1!==I(this.options.enabled,this.#s)&&O(this.#p)&&0!==this.#p&&(this.#h=B.setInterval(()=>{(this.options.refetchIntervalInBackground||Q.isFocused())&&this.#m()},this.#p))}#f(){this.#R(),this.#C(this.#I())}#b(){this.#d&&(B.clearTimeout(this.#d),this.#d=void 0)}#g(){this.#h&&(B.clearInterval(this.#h),this.#h=void 0)}createResult(e,t){const r=this.#s,s=this.options,n=this.#a,a=this.#i,i=this.#o,o=e!==r?e.state:this.#n,{state:c}=e;let l,u={...c},d=!1;if(t._optimisticResults){const n=this.hasListeners(),a=!n&&te(e,t),i=n&&se(e,r,t,s);(a||i)&&(u={...u,...k(c.data,e.options)}),"isRestoring"===t._optimisticResults&&(u.fetchStatus="idle")}let{error:h,errorUpdatedAt:p,status:y}=u;l=u.data;let m=!1;if(void 0!==t.placeholderData&&void 0===l&&"pending"===y){let e;n?.isPlaceholderData&&t.placeholderData===i?.placeholderData?(e=n.data,m=!0):e="function"==typeof t.placeholderData?t.placeholderData(this.#u?.state.data,this.#u):t.placeholderData,void 0!==e&&(y="success",l=D(n?.data,e,t),d=!0)}if(t.select&&void 0!==l&&!m)if(n&&l===a?.data&&t.select===this.#c)l=this.#l;else try{this.#c=t.select,l=t.select(l),l=D(n?.data,l,t),this.#l=l,this.#t=null}catch(S){this.#t=S}this.#t&&(h=this.#t,l=this.#l,p=Date.now(),y="error");const f="fetching"===u.fetchStatus,b="pending"===y,g="error"===y,x=b&&f,C=void 0!==l,v={status:y,fetchStatus:u.fetchStatus,isPending:b,isSuccess:"success"===y,isError:g,isInitialLoading:x,isLoading:x,data:l,dataUpdatedAt:u.dataUpdatedAt,error:h,errorUpdatedAt:p,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>o.dataUpdateCount||u.errorUpdateCount>o.errorUpdateCount,isFetching:f,isRefetching:f&&!b,isLoadingError:g&&!C,isPaused:"paused"===u.fetchStatus,isPlaceholderData:d,isRefetchError:g&&C,isStale:ne(e,t),refetch:this.refetch,promise:this.#r,isEnabled:!1!==I(t.enabled,e)};if(this.options.experimental_prefetchInRender){const t=e=>{"error"===v.status?e.reject(v.error):void 0!==v.data&&e.resolve(v.data)},s=()=>{const e=this.#r=v.promise=R();t(e)},n=this.#r;switch(n.status){case"pending":e.queryHash===r.queryHash&&t(n);break;case"fulfilled":"error"!==v.status&&v.data===n.value||s();break;case"rejected":"error"===v.status&&v.error===n.reason||s()}}return v}updateResult(){const e=this.#a,t=this.createResult(this.#s,this.options);this.#i=this.#s.state,this.#o=this.options,void 0!==this.#i.data&&(this.#u=this.#s),C(t,e)||(this.#a=t,this.#v({listeners:(()=>{if(!e)return!0;const{notifyOnChangeProps:t}=this.options,r="function"==typeof t?t():t;if("all"===r||!r&&!this.#y.size)return!0;const s=new Set(r??this.#y);return this.options.throwOnError&&s.add("error"),Object.keys(this.#a).some(t=>{const r=t;return this.#a[r]!==e[r]&&s.has(r)})})()}))}#x(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#s)return;const t=this.#s;this.#s=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#f()}#v(e){T.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(this.#a)}),this.#e.getQueryCache().notify({query:this.#s,type:"observerResultsUpdated"})})}};function te(e,t){return function(e,t){return!1!==I(t.enabled,e)&&void 0===e.state.data&&!("error"===e.state.status&&!1===t.retryOnMount)}(e,t)||void 0!==e.state.data&&re(e,t,t.refetchOnMount)}function re(e,t,r){if(!1!==I(t.enabled,e)&&"static"!==v(t.staleTime,e)){const s="function"==typeof r?r(e):r;return"always"===s||!1!==s&&ne(e,t)}return!1}function se(e,t,r,s){return(e!==t||!1===I(s.enabled,e))&&(!r.suspense||"error"!==e.state.status)&&ne(e,r)}function ne(e,t){return!1!==I(t.enabled,e)&&e.isStaleByTime(v(t.staleTime,e))}var ae=g.createContext(!1),ie=()=>g.useContext(ae);ae.Provider;var oe=g.createContext(function(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}()),ce=()=>g.useContext(oe),le=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},ue=e=>{g.useEffect(()=>{e.clearReset()},[e])},de=({result:e,errorResetBoundary:t,throwOnError:r,query:s,suspense:n})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&(n&&void 0===e.data||P(r,[e.error,s])),he=e=>{if(e.suspense){const t=1e3,r=e=>"static"===e?e:Math.max(e??t,t),s=e.staleTime;e.staleTime="function"==typeof s?(...e)=>r(s(...e)):r(s),"number"==typeof e.gcTime&&(e.gcTime=Math.max(e.gcTime,t))}},pe=(e,t)=>e.isLoading&&e.isFetching&&!t,ye=(e,t)=>e?.suspense&&t.isPending,me=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});const fe=s("div")(()=>({height:"100%",minHeight:"400px",backgroundColor:"#fff",display:"flex",justifyContent:"center",alignItems:"center",color:"#aaa",fontSize:"18px"})),be=s("span")(()=>({marginLeft:"10px"}));function ge(){const e=A();return r.jsxs(fe,{children:[r.jsx(Z,{fontSize:"large"}),r.jsx(be,{children:e("global.table.noData")})]})}const xe=e=>"node"in e;function Re({columnItems:e,node:t,onClickRow:s}){return r.jsx(u,{hover:!0,onClick:s,sx:{cursor:"pointer"},"data-testid":"tableBody-Row",children:e.map(e=>r.jsx(d,{align:e.align??"left","data-testid":e.key?`tableBody-${e.key}`:"",children:e.render(t)},e.title))})}function Ie({columnItems:e,listItems:t=[],pagination:s={offset:0,count:0,first:10},onPaginationChange:y=()=>{},renderItem:m,isInfiniteScroll:f=!1,onClickRow:b,sortDirection:x="asc",sortByFn:R,orderBy:I=""}){const C=[10,20,30],{state:{portalStyle:{backgroundColor:v="#FEF9F5"}}}=g.useContext($),S=E(v),[w]=q(),O=A(),{offset:j,count:B,first:Q}=s,k=e=>{y(e)},D=(e,t)=>{k({...s,offset:t*Q})},T=e=>{k({...s,offset:0,first:parseInt(e.target.value,10)||Q})};return t.length>0?r.jsxs(r.Fragment,{children:[f&&r.jsxs(r.Fragment,{children:[r.jsx(n,{container:!0,spacing:2,children:t.map((e,t)=>r.jsx(n,{item:!0,xs:12,children:m(e,t)},e.orderId))}),r.jsx(a,{labelDisplayedRows:({from:e,to:t,count:r})=>O("global.pagination.pageXOfY",{from:e,to:t,count:r}),rowsPerPageOptions:C,labelRowsPerPage:O("global.pagination.perPage"),component:"div",sx:{color:w?F(S,.87):"rgba(0, 0, 0, 0.87)",marginTop:"1.5rem","::-webkit-scrollbar":{display:"none"},"& svg":{color:w?F(S,.87):"rgba(0, 0, 0, 0.87)"}},count:B,rowsPerPage:Q,page:0===Q?0:j/Q,onPageChange:D,onRowsPerPageChange:T})]}),!f&&r.jsxs(i,{sx:{height:"100%",boxShadow:"0px 2px 1px -1px rgb(0 0 0 / 20%), 0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%)"},children:[r.jsx(o,{children:r.jsxs(c,{sx:{tableLayout:"initial"},children:[r.jsx(l,{children:r.jsx(u,{"data-testid":"tableHead-Row",children:e.map(e=>r.jsx(d,{width:e.width,align:e.align??"left",sortDirection:e.key===I&&x,"data-testid":e.key?`tableHead-${e.key}`:"",children:e.isSortable?r.jsx(h,{active:e.key===I,direction:e.key===I?x:"desc",hideSortIcon:e.key!==I,onClick:()=>R?.(e.key),children:e.title}):e.title},e.title))})}),r.jsx(p,{children:t.map((t,s)=>{const n=xe(t)?t.node:t;return r.jsx(Re,{columnItems:e,node:n,onClickRow:()=>b(n,s)},`row-${n.orderId}`)})})]})}),r.jsx(a,{labelDisplayedRows:({from:e,to:t,count:r})=>O("global.pagination.pageXOfY",{from:e,to:t,count:r}),rowsPerPageOptions:C,labelRowsPerPage:O("global.pagination.rowsPerPage"),component:"div",sx:{marginTop:"1.5rem","::-webkit-scrollbar":{display:"none"}},count:B,rowsPerPage:Q,page:0===Q?0:j/Q,onPageChange:D,onRowsPerPageChange:T})]})]}):r.jsx(ge,{})}const Ce={orderId:"bcOrderId",poNumber:"poNumber",totalIncTax:"totalIncTax",status:"status",placedBy:"placedBy",createdAt:"createdAt"},ve=(e,t,r,s,n,a=[])=>{const i=[{name:"company",label:"Company",required:!1,default:"",fieldType:"text",xs:12,variant:"filled",size:"small",idLang:"orders.company"},{name:"orderStatus",label:"Order status",required:!1,default:"",fieldType:"dropdown",options:a.filter(e=>"0"!==e.statusCode&&"1"!==e.statusCode),replaceOptions:{label:"customLabel",value:"customLabel"},xs:12,variant:"filled",size:"small",idLang:"orders.orderStatus"},{name:"PlacedBy",label:"Placed by",required:!1,default:"",fieldType:"dropdown",options:n?.createdByUser?.results.map(e=>({createdBy:`${e.firstName} ${e.lastName} (${e.email})`}))||[],replaceOptions:{label:"createdBy",value:"createdBy"},xs:12,variant:"filled",size:"small",idLang:"orders.placedBy"}],o=e&&!(3===Number(t)&&!s);return i.filter(n=>!(!(e&&!o||r||"company"!==n.name&&"PlacedBy"!==n.name)||3===Number(t)&&!s&&"PlacedBy"===n.name||(e||Number(t)===L.SUPER_ADMIN&&s)&&r&&"company"===n.name))},Se=()=>({beginDateAt:null,endDateAt:null,createdBy:"",q:""}),we=(e,t)=>({companyId:"",beginDateAt:null,endDateAt:null,companyName:"",createdBy:"",orderNumber:"",poNumber:"",companyIds:[t],isShowMy:e?0:1,q:""}),Oe=(e,t)=>t.find(t=>t.systemLabel===e)?.customLabel||"",je=s("div")(()=>({display:"flex",alignItems:"center","&.between-flex":{justifyContent:"space-between"}}));function Be({item:e,goToDetail:t}){const s=y(),n=U(_),a=U(({company:e})=>e.customer);return r.jsx(i,{children:r.jsxs(m,{sx:{color:"rgba(0, 0, 0, 0.6)"},onClick:t,children:[r.jsxs(je,{className:"between-flex",children:[r.jsxs(f,{sx:{display:"flex",alignItems:"center"},children:[r.jsx(b,{variant:"h5",sx:{color:"rgba(0, 0, 0, 0.87)"},children:`# ${e.orderId}`}),r.jsx(b,{sx:{ml:1},variant:"body2",children:e.poNumber?e.poNumber:"–"})]}),r.jsx(f,{children:r.jsx(X,{code:e.status})})]}),r.jsx(b,{variant:"h6",sx:{marginBottom:s.spacing(2.5),mt:s.spacing(1.5),minHeight:"1.43em"},children:H(e.totalIncTax)}),r.jsxs(f,{sx:{display:"flex",justifyContent:"space-between"},children:[r.jsx(b,{variant:"body2",sx:{fontWeight:"normal",marginRight:s.spacing(2)},children:(o=e,n?`by ${o.firstName} ${o.lastName}`:`by ${a.firstName} ${a.lastName}`)}),r.jsx(b,{children:`${M(e.createdAt)}`})]})]})},e.orderId);var o}const Qe=(e,t)=>`\nquery ${"allOrders"===t?"GetAllOrders":"GetCustomerOrders"} {\n  ${t}(\n    search: "${e.q||""}"\n    status: "${e?.statusCode||""}"\n    first: ${e.first}\n    offset: ${e.offset}\n    beginDateAt: ${e?.beginDateAt?JSON.stringify(e.beginDateAt):null}\n    endDateAt: ${e?.endDateAt?JSON.stringify(e.endDateAt):null}\n    companyName: "${e?.companyName||""}"\n    createdBy: "${e?.createdBy||""}"\n    isShowMy: "${e?.isShowMy||0}"\n    orderBy: "${e.orderBy}"\n    email: "${e?.email||""}"\n    ${e?.companyIds?`companyIds: ${z(e.companyIds||[])}`:""}\n  ){\n    totalCount,\n    edges{\n      node {\n        orderId,\n        createdAt,\n        totalIncTax,\n        money,\n        poNumber,\n        status,\n        firstName,\n        lastName,\n        companyInfo {\n          companyName,\n        }\n      }\n    }\n  }\n}`,ke=e=>`\nquery ${"orderStatuses"===e?"GetOrderStatuses":"GetCustomerOrderStatuses"} {\n  ${e} {\n    systemLabel,\n    customLabel,\n    statusCode,\n  }\n}`,De=e=>`\n  query GetOrdersCreatedByUser {\n    createdByUser (\n      companyId: ${e},\n      module: 0,\n    ){\n      results,\n    }\n  }\n`,Te=e=>W.graphqlB2B({query:Qe(e,"allOrders")}).then(e=>e.allOrders),Pe=e=>W.graphqlB2B({query:Qe(e,"customerOrders")}).then(e=>e.customerOrders),Ne=()=>W.graphqlB2B({query:ke("orderStatuses")}).then(e=>e.orderStatuses),Ae=()=>W.graphqlB2B({query:ke("bcOrderStatuses")}).then(e=>e.bcOrderStatuses),$e=e=>W.graphqlB2B({query:De(e)}),Ee=(e="")=>{const t=/\((.+)\)/g.exec(e);return t?.length?t[1]:""},qe=(e="")=>{const t=/^[^(]+/.exec(e);return t?.length?t[0].trim():""},Fe=({key:e,dir:t})=>"desc"===t?`-${Ce[e]}`:Ce[e]}}});
//# sourceMappingURL=Order-legacy-CnH_9p2i.js.map
