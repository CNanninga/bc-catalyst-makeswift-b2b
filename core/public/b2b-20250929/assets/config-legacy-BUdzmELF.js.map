{"version":3,"file":"config-legacy-BUdzmELF.js","sources":["../../src/pages/Login/config.ts"],"sourcesContent":["import { LangFormatFunction } from '@/lib/lang';\nimport { LoginFlagType, LoginTypeConfig } from '@/types/login';\nimport { BigCommerceStorefrontAPIBaseURL, validatorRules } from '@/utils';\nimport b2bLogger from '@/utils/b3Logger';\n\nexport type LoginConfig = {\n  email: string;\n  password: string;\n};\n\nexport const getForgotPasswordFields = (b3Lang: LangFormatFunction) => [\n  {\n    name: 'email',\n    label: b3Lang('global.loginText.emailAddress'),\n    required: true,\n    default: '',\n    fieldType: 'text',\n    xs: 12,\n    size: 'small',\n    variant: 'filled',\n    validate: validatorRules(['email']),\n  },\n];\n\nexport const getLoginFields = (b3Lang: LangFormatFunction, submitLoginFn: () => void) => [\n  {\n    name: 'email',\n    label: b3Lang('global.loginText.emailAddress'),\n    required: true,\n    default: '',\n    fieldType: 'text',\n    xs: 12,\n    variant: 'filled',\n    validate: validatorRules(['email']),\n    isAutoComplete: true,\n  },\n  {\n    name: 'password',\n    label: b3Lang('login.loginText.password'),\n    required: true,\n    default: '',\n    fieldType: 'password',\n    xs: 12,\n    variant: 'filled',\n    isEnterTrigger: true,\n    handleEnterClick: submitLoginFn,\n    isAutoComplete: true,\n  },\n];\n\nexport const loginCheckout = (data: LoginConfig) => {\n  const requestOptions = {\n    method: 'POST',\n    headers: {\n      'content-type': 'application/json',\n    },\n    body: JSON.stringify(data),\n  };\n\n  return fetch(\n    // cspell:disable\n    `${BigCommerceStorefrontAPIBaseURL}/internalapi/v1/checkout/customer`,\n    requestOptions,\n  ).then((response) => response.json());\n};\n\nexport const sendForgotPasswordEmailFor = (email: string) => {\n  const urlencoded = new URLSearchParams();\n  urlencoded.append('email', email);\n\n  const requestOptions: RequestInit = {\n    method: 'POST',\n    body: urlencoded,\n    redirect: 'follow',\n  };\n\n  return fetch(\n    `${BigCommerceStorefrontAPIBaseURL}/login.php?action=send_password_email`,\n    requestOptions,\n  )\n    .then((response) => response.text())\n    .catch((error) => b2bLogger.error('error', error));\n};\n\nexport const loginType: LoginTypeConfig = {\n  resetPassword: {\n    alertType: 'error',\n    tip: 'login.loginTipInfo.resetPassword',\n  },\n  receivePassword: {\n    alertType: 'success',\n    tip: 'login.loginTipInfo.receivePassword',\n  },\n  loggedOutLogin: {\n    alertType: 'success',\n    tip: 'login.loginTipInfo.loggedOutLogin',\n  },\n  accountIncorrect: {\n    alertType: 'error',\n    tip: 'login.loginTipInfo.accountIncorrect',\n  },\n  accountPrelaunch: {\n    alertType: 'warning',\n    tip: 'login.loginTipInfo.accountPrelaunch',\n  },\n  deviceCrowdingLogIn: {\n    alertType: 'success',\n    tip: 'login.loginText.deviceCrowdingLogIn',\n  },\n  invoiceErrorTip: {\n    alertType: 'error',\n    tip: 'login.loginText.invoiceErrorTip',\n  },\n};\n\nexport const isLoginFlagType = (value?: unknown): value is LoginFlagType => {\n  if (typeof value !== 'string') {\n    return false;\n  }\n\n  return Object.keys(loginType).includes(value);\n};\n"],"names":["exports","b3Lang","name","label","required","default","fieldType","xs","size","variant","validate","validatorRules","submitLoginFn","isAutoComplete","isEnterTrigger","handleEnterClick","data","requestOptions","method","headers","body","JSON","stringify","fetch","BigCommerceStorefrontAPIBaseURL","then","response","json","email","urlencoded","URLSearchParams","append","redirect","text","catch","error","b2bLogger","loginType","resetPassword","alertType","tip","receivePassword","loggedOutLogin","accountIncorrect","accountPrelaunch","deviceCrowdingLogIn","invoiceErrorTip","value","Object","keys","includes"],"mappings":"8SAUaA,EAAA,IAA2BC,GAA+B,CACrE,CACEC,KAAM,QACNC,MAAOF,EAAO,iCACdG,UAAU,EACVC,QAAS,GACTC,UAAW,OACXC,GAAI,GACJC,KAAM,QACNC,QAAS,SACTC,SAAUC,EAAe,CAAC,aAIjBX,EAAA,IAAiB,CAACC,EAA4BW,IAA8B,CACvF,CACEV,KAAM,QACNC,MAAOF,EAAO,iCACdG,UAAU,EACVC,QAAS,GACTC,UAAW,OACXC,GAAI,GACJE,QAAS,SACTC,SAAUC,EAAe,CAAC,UAC1BE,gBAAgB,GAElB,CACEX,KAAM,WACNC,MAAOF,EAAO,4BACdG,UAAU,EACVC,QAAS,GACTC,UAAW,WACXC,GAAI,GACJE,QAAS,SACTK,gBAAgB,EAChBC,iBAAkBH,EAClBC,gBAAgB,KAIPb,EAAA,IAAiBgB,IAC5B,MAAMC,EAAiB,CACrBC,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAUN,IAGvB,OAAOO,MAEL,GAAGC,qCACHP,GACAQ,KAAMC,GAAaA,EAASC,UAGnB3B,EAAA,IAA8B4B,IACzC,MAAMC,EAAa,IAAIC,gBASvB,OARAD,EAAWE,OAAO,QAASH,GAQpBL,MACL,GAAGC,yCAP+B,CAClCN,OAAQ,OACRE,KAAMS,EACNG,SAAU,WAOTP,KAAMC,GAAaA,EAASO,QAC5BC,MAAOC,GAAUC,EAAUD,MAAM,QAASA,MAvExC,MA0EME,EAAArC,EAAA,IAA6B,CACxCsC,cAAe,CACbC,UAAW,QACXC,IAAK,oCAEPC,gBAAiB,CACfF,UAAW,UACXC,IAAK,sCAEPE,eAAgB,CACdH,UAAW,UACXC,IAAK,qCAEPG,iBAAkB,CAChBJ,UAAW,QACXC,IAAK,uCAEPI,iBAAkB,CAChBL,UAAW,UACXC,IAAK,uCAEPK,oBAAqB,CACnBN,UAAW,UACXC,IAAK,uCAEPM,gBAAiB,CACfP,UAAW,QACXC,IAAK,qCAIIxC,EAAA,IAAmB+C,GACT,iBAAVA,GAIJC,OAAOC,KAAKZ,GAAWa,SAASH"}