import{j as e,B as A,a1 as we,T as Ve,q as Ue,an as Oe,v as Be,ao as Ee,w as De,O as qe,ap as ze,aq as Ke,ar as Ge,a7 as He}from"./mui-DjJKBaL-.js";import{r as c}from"./intl-D34a3Rgg.js";import{a as Te,d as We}from"./router-DcuTQ_yx.js";import{g as $e,b as Je}from"./getAssetUrl-BPqy79Y9.js";import{B as Xe}from"./B3Card-OgBqR3vH.js";import{j as pe,bW as ge,G as ke,C as be,l as ce,I as ie,bX as Ye,bT as Ze,aI as Fe,bY as Qe,bZ as et,u as Ie,b_ as Re,aa as ne,a as ve,by as tt,af as ot,b$ as at,aj as st,an as nt,_ as rt,M as it,w as ct,c0 as lt}from"./react-setup-B5wPcSA9.js";import{b as se}from"./base-CC7kTJh2.js";import"./load-functions-DCmK5p8C.js";import{l as dt}from"./b3Login-lPEy7w6j.js";import{c as ut}from"./login-DEXQNxOD.js";import{b as mt}from"./config-DX5NdJKd.js";import{d as re,t as ft,B as Ae,a as pt,e as gt,b as Me,s as ht,c as yt,g as _e,f as xt}from"./config-Ck1e_eKM.js";import{u as Se}from"./form-pKe_k4Gy.js";import{B as me}from"./B3CustomForm-B2g91-rz.js";import{C as bt,g as Ct}from"./recaptcha-jSfBfPwt.js";import{T as je,I as le,P as fe,R as Ft,a as It,b as wt}from"./RegisteredFinish-D_ib3doZ.js";import{a as St,c as jt}from"./users-DlJtxzvo.js";import{e as Lt}from"./lodashEs-CONzB2I0.js";import"./reactVendor-CkUTLE5B.js";import"./eCache-97HTO8co.js";import"./redux-Bt5-tVzx.js";import"./toolkit-CpEbzTSY.js";import"../index.js";import"./global-D7Yn0gGb.js";import"./muiIcon-BBtg8u0V.js";import"./dropzone-B1UJxEDf.js";import"./dateFns-DubixNBV.js";import"./validatorRules-Cki_nfBC.js";function Bt(H){var Le;const M=pe(),{handleBack:S,handleNext:P}=H,[C,W]=c.useState([]),[y,F]=c.useState(""),[_,j]=c.useState(""),[g,x]=c.useState(""),[R,J]=c.useState(!1),[Y,Z]=c.useState(""),[T,V]=c.useState(!1),Q=h=>x(h);c.useEffect(()=>{(async()=>{try{const s=await Ct();s&&(J(s.isEnabledOnStorefront),Z(s.siteKey))}catch(s){se.error(s)}})()},[]),c.useEffect(()=>{g&&V(!1)},[g]);const{control:X,handleSubmit:oe,setError:$,formState:{errors:D}}=Se({mode:"all"}),{state:ee,dispatch:u}=c.useContext(ge),{state:{blockPendingAccountOrderCreation:z}}=c.useContext(ke),{state:{portalStyle:{backgroundColor:L="#FEF9F5"}}}=c.useContext(be),K=ce(L),{contactInformation:b,bcContactInformation:U,passwordInformation:O=[],bcPasswordInformation:ae=[],accountType:B,additionalInformation:v,bcAdditionalInformation:G,addressBasicFields:m=[],bcAddressBasicFields:n=[],companyInformation:o=[],emailMarketingNewsletter:d}=ee,p=B==="1"?b:U,a=B==="1"?O:ae,l=((Le=a[0])==null?void 0:Le.groupName)||"",N=B==="1"?v:G,k=B==="1"?m:n;c.useEffect(()=>{if(B){if(p&&p.length){const h=p.find(s=>s.name==="email")||{};j((h==null?void 0:h.default)||"")}W(a)}},[b,U,B,p,a]);const de=h=>{const s={};if(s.authentication={force_password_reset:!1,new_password:h.password},s.accepts_product_review_abandoned_cart_emails=d,p&&(p.forEach(t=>{var r;const I=re(t.name);I==="accepts_marketing_emails"?s.accepts_product_review_abandoned_cart_emails=!!((r=t==null?void 0:t.default)!=null&&r.length):t.custom||(s[I]=(t==null?void 0:t.default)||"")}),s.form_fields=[],N&&N.length&&N.forEach(t=>{s.form_fields.push({name:t.bcLabel,value:t.default})})),s.addresses=[],s.origin_channel_id=ie,s.channel_ids=[ie],B==="2"){const t={},I=k.filter(f=>!f.custom),r=k.filter(f=>f.custom);I&&(s.addresses={},I.forEach(f=>{f.name==="country"?t.country_code=f.default:f.name==="state"?t.state_or_province=f.default:f.name==="postalCode"?t.postal_code=f.default:f.name==="firstName"?t.first_name=f.default:f.name==="lastName"?t.last_name=f.default:t[f.name]=f.default})),t.form_fields=[],r&&r.length&&r.forEach(f=>{t.form_fields.push({name:f.bcLabel,value:f.default})}),s.addresses=[t],s.trigger_account_created_notification=!0}const E={storeHash:Fe,...s};return Ye(E,g)},ue=async(h,s,E)=>{try{const t={};t.customerId=s||"",t.storeHash=Fe;const r=(p||[]).filter(i=>!!i.custom);if(r.length){const i=[];r.forEach(w=>{const q={};q.fieldName=re(w.name),q.fieldValue=(w==null?void 0:w.default)||"",i.push(q)}),t.userExtraFields=i}const f=o.filter(i=>!i.custom&&i.fieldType!=="files"),te=o.filter(i=>!!i.custom);if(f.length&&f.forEach(i=>{t[ft(re(i.name))]=(i==null?void 0:i.default)||""}),te.length){const i=[];te.forEach(w=>{const q={};q.fieldName=re(w.name),q.fieldValue=(w==null?void 0:w.default)||"",i.push(q)}),t.extraFields=i}const ye=k.filter(i=>!i.custom)||[],xe=k.filter(i=>!!i.custom)||[];if(ye.length&&ye.forEach(i=>{const w=re(i.name);w==="address1"&&(t.addressLine1=i.default),w==="address2"&&(t.addressLine2=i.default),t[w]=i.default}),xe.length){const i=[];xe.forEach(w=>{const q={};q.fieldName=re(w.name),q.fieldValue=(w==null?void 0:w.default)||"",i.push(q)}),t.addressExtraFields=i}return t.fileList=E,t.channelId=ie,await Qe(t)}catch(t){se.error(t)}},he=async h=>{let s=[];if(h.length){h.forEach(E=>{s=E.default});try{return(await Promise.all(s.map(I=>Ze({file:I,type:"companyAttachedFile"})))).reduce((I,r)=>{let f=I;if(r.code===200){const te={...r.data};te.fileSize=te.fileSize?"".concat(te.fileSize):"",f=[...I,te]}else throw r.data.errMsg||r.message||M("intl.global.fileUpload.fileUploadFailure");return f},[])}catch(E){throw se.error(E),E}}},Ce=h=>{const s=O.map(t=>{const I=t;return B==="1"&&(I.default=h[t.name]||t.default),t}),E=ae.map(t=>{const I=t;return B==="2"&&(I.default=h[t.name]||t.default),t});u({type:"all",payload:{passwordInformation:s,bcPasswordInformation:E}})},Ne=async()=>{if(p&&p.length>0){const h=p.find(r=>r.fieldId==="field_email_marketing_newsletter"&&r.fieldType==="checkbox"),s=p.find(r=>r.fieldId==="field_first_name")||{},E=p.find(r=>r.fieldId==="field_last_name")||{},t=(h==null?void 0:h.isChecked)||!1,I=(h==null?void 0:h.default)||[];if(t&&I.length>0)try{await et({storeHash:Fe,email:_,first_name:s.default,last_name:E.default,channel_id:ie||1})}catch(r){F((r==null?void 0:r.message)||r)}}},Pe=h=>{oe(async({password:s,confirmPassword:E})=>{var t,I;if(s!==E){$("confirmPassword",{type:"manual",message:M("global.registerComplete.passwordMatchPrompt")}),$("password",{type:"manual",message:M("global.registerComplete.passwordMatchPrompt")});return}if(R&&!g){V(!0);return}if(!T)try{u({type:"loading",payload:{isLoading:!0}});let r=!0;if(B==="2")await de({password:s,confirmPassword:E});else{const f=o.filter(q=>q.fieldType==="files"),te=await he(f||[]),ye=await de({password:s,confirmPassword:E}),{customerCreate:{customer:xe}}=ye,i=await ue({password:s,confirmPassword:E},xe.id,te),w=((I=(t=i==null?void 0:i.companyCreate)==null?void 0:t.company)==null?void 0:I.companyStatus)||"";r=Number(w)===1}u({type:"finishInfo",payload:{submitSuccess:!0,isAutoApproval:r,blockPendingAccountOrderCreation:z}}),Ce({password:s,confirmPassword:E}),await Ne(),P(s)}catch(r){F((r==null?void 0:r.message)||r)}finally{u({type:"loading",payload:{isLoading:!1}})}})(h)};return e.jsxs(A,{sx:{pl:1,pr:1,mt:2,width:"100%","& h4":{color:K},"& input, & .MuiFormControl-root .MuiTextField-root":{borderRadius:"4px",borderBottomLeftRadius:"0",borderBottomRightRadius:"0"}},children:[y&&e.jsx(we,{severity:"error",children:e.jsx(je,{children:y})}),e.jsxs(A,{children:[e.jsx(le,{children:l}),C&&e.jsxs(e.Fragment,{children:[_.length>0&&e.jsx(A,{sx:{fontSize:"16px",fontWeight:400,color:"#000000",marginBottom:"10px",marginTop:"-12px",wordWrap:"break-word"},children:"Create password for ".concat(_)}),e.jsx(me,{formFields:C,errors:D,control:X})]}),T?e.jsx(Ve,{variant:"body1",sx:{color:"red",display:"flex",alignSelf:"flex-start",marginLeft:"8px",marginTop:"2px",fontSize:"13px"},children:M("login.loginText.missingCaptcha")}):"",R?e.jsx(A,{sx:{display:"flex",justifyContent:"center",marginTop:"20px"},children:e.jsx(bt,{siteKey:Y,size:"normal",handleGetKey:Q})}):""]}),e.jsxs(A,{sx:{display:"flex",justifyContent:"flex-end",pt:2,gap:1},children:[e.jsx(fe,{onClick:S,children:M("global.button.back")}),e.jsx(fe,{onClick:Pe,children:M("global.button.submit")})]})]})}function Et({handleNext:H}){var v,G,m;const{state:M,dispatch:S}=c.useContext(ge),P=Ie(Re),{state:{accountLoginRegistration:C,portalStyle:{backgroundColor:W="#FEF9F5"}}}=c.useContext(be),y=ce(W),F=pe(),[_,j]=c.useState(""),{contactInformation:g,accountType:x,additionalInformation:R,bcContactInformation:J,bcAdditionalInformation:Y}=M,{control:Z,handleSubmit:T,getValues:V,formState:{errors:Q},setError:X,setValue:oe}=Se({mode:"onSubmit"}),$=x==="1"?"additionalInformation":"bcAdditionalInformation",D=x==="1"?R||[]:Y||[],ee=g==null?void 0:g.map(n=>{const o=n;return n.fieldId==="field_email"&&x==="1"&&(o.isTip=!0,o.tipText="This email will be used to sign in to your account"),n}),u=x==="1"?ee:J||[],z=x==="1"?"contactInformation":"bcContactInformationFields",L=u.length?(v=u[0])==null?void 0:v.groupName:"",K=D.length?(G=D[0])==null?void 0:G.groupName:"",b=(n=!1)=>{S({type:"loading",payload:{isLoading:n}})},U=n=>{S({type:"accountType",payload:{accountType:n.target.value}})},O=((m=g==null?void 0:g.find(n=>n.fieldId==="field_email"))==null?void 0:m.name)||"email",ae=async n=>{const o=x==="1";try{b(!0);const{isValid:d,userType:p,userInfo:{companyName:a=""}={}}=o?await St({email:n,channelId:ie}):await jt({email:n,channelId:ie});return d?j(""):(j(F(gt[p],{companyName:a||"",email:n})),X(O,{type:"custom",message:""}),P==null||P.body.scrollIntoView(!0)),d}catch(d){return!1}finally{b(!1)}},B=async n=>{T(async o=>{var a;if(!await ae(o[O]))return;const d=u.map(l=>{const N=l;return N.default=o[l.name]||l.default,l.fieldId==="field_email_marketing_newsletter"&&l.fieldType==="checkbox"&&(N.isChecked=o[l.name].length>0),l});try{if(b(!0),x==="1"){const l=d.filter(k=>!!k.custom),N=l.map(k=>({fieldName:Ae.decode(k.name),fieldValue:o[k.name]||k.default}));if(N.length>0){const k=await pt({extraFields:N});if(k.code!==200){const de=((a=k.data)==null?void 0:a.errMsg)||k.message||"",ue=de.split(":");if(ue.length>=2){const he=l.find(Ce=>Ae.decode(Ce.name)===ue[0]);if(he){X(he.name,{type:"manual",message:ue[1]}),b(!1);return}}j(de),b(!1);return}}j("")}}catch(l){se.error(l)}finally{b(!1)}let p=[];D&&(p=D.map(l=>{const N=l;return N.default=o[l.name]||l.default,l})),S({type:"all",payload:{[$]:[...p],[z]:[...d]}}),H(o[O])})(n)};return e.jsxs(A,{sx:{pl:1,pr:1,mt:2,width:"100%"},children:[_&&e.jsx(we,{severity:"error",children:e.jsx(je,{children:_})}),e.jsxs(Ue,{sx:{"& h4":{color:y}},children:[e.jsx(le,{children:F("register.registeredAccount.accountType")}),e.jsxs(Oe,{"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",value:x,onChange:U,sx:{"& .MuiTypography-root.MuiTypography-body1.MuiFormControlLabel-label":{color:ne(y,.87)},"& .MuiButtonBase-root.MuiRadio-root.MuiRadio-colorPrimary:not(.Mui-checked)":{color:ne(y,.6)}},children:[C.b2b&&e.jsx(Be,{value:"1",control:e.jsx(Ee,{}),label:F("register.registeredAccount.businessAccount")}),C.b2c&&e.jsx(Be,{value:"2",control:e.jsx(Ee,{}),label:F("register.registeredAccount.personalAccount")})]})]}),e.jsxs(A,{sx:{"& h4":{color:y},"& input, & .MuiFormControl-root .MuiTextField-root, & .MuiTextField-root .MuiInputBase-multiline":{borderRadius:"4px",borderBottomLeftRadius:"0",borderBottomRightRadius:"0"},"& .MuiButtonBase-root.MuiCheckbox-root.MuiCheckbox-colorPrimary:not(.Mui-checked)":{color:ne(y,.6)},"& .MuiTypography-root.MuiTypography-body1.MuiFormControlLabel-label":{color:ne(y,.87)}},children:[e.jsx(le,{children:L}),e.jsx(me,{formFields:u,errors:Q,control:Z,getValues:V,setValue:oe})]}),e.jsx(A,{}),D&&D.length?e.jsxs(A,{sx:{"& h4":{color:y},"& .MuiFormControlLabel-label, & .MuiFormControl-root .MuiFormLabel-root:not(.Mui-focused)":{color:ne(y,.87)},"& .MuiRadio-root:not(.Mui-checked)":{color:ne(y,.6)}},children:[e.jsx(le,{children:K}),e.jsx(me,{formFields:D,errors:Q,control:Z,getValues:V,setValue:oe})]}):"",e.jsx(A,{sx:{display:"flex",justifyContent:"flex-end",pt:2},children:e.jsx(fe,{onClick:B,children:F("global.button.next")})})]})}function At({handleBack:H,handleNext:M}){var v,G;const S=pe(),{state:P,dispatch:C}=c.useContext(ge),{state:{portalStyle:{backgroundColor:W="#FEF9F5"}}}=c.useContext(be),y=ce(W),[F,_]=c.useState(""),{accountType:j="1",companyInformation:g=[],companyAttachment:x=[],addressBasicFields:R=[],bcAddressBasicFields:J=[],countryList:Y=[]}=P,{control:Z,handleSubmit:T,getValues:V,formState:{errors:Q},setValue:X,watch:oe,setError:$}=Se({mode:"all"}),D=j==="1"?(v=g[0])==null?void 0:v.groupName:"",ee=j==="1"?"addressBasicFields":"bcAddressBasicFields",u=j==="1"?R:J,z=((G=u[0])==null?void 0:G.groupName)||"",L=c.useCallback((m,n="")=>{var p;const o=((p=Y.find(a=>a.countryCode===m||a.countryName===m))==null?void 0:p.states)||[],d=u.find(a=>a.name==="state");d&&(o.length>0?(d.fieldType="dropdown",d.options=o,d.required=!0):(d.fieldType="text",d.options=[],d.required=!1)),X("state",n&&m&&(o.find(a=>a.stateName===n)||o.length===0)?n:""),C({type:"stateList",payload:{stateList:o,addressBasicFields:R,bcAddressBasicFields:J,[ee]:[...u]}})},[R,u,ee,J,Y]);c.useEffect(()=>{const m=V("country"),n=V("state");L(m,n)},[]),c.useEffect(()=>{const m=oe((n,{name:o,type:d})=>{const{country:p,state:a}=n;o==="country"&&d==="change"&&L(p,a)});return()=>m.unsubscribe()},[Y,L]);const K=(m=!1)=>{C({type:"loading",payload:{isLoading:m}})},b=(m,n)=>m.map(o=>{const d=o;return d.default=n[o.name]||o.default,o}),U=()=>{const m=[...g,...x,...u].reduce((p,a)=>{const l=p;return l[a.name]=V(a.name)||a.default,p},{}),n=b(g,m),o=b(x,m),d=b(u,m);C({type:"all",payload:{companyInformation:[...n],companyAttachment:[...o],[ee]:[...d]}})},O=()=>{var m;if(j==="1"){const n=V(),o=g.find(d=>d.fieldId==="field_attachments");if(!Lt(o)&&o.required&&n[o.name].length===0)return $(o.name,{type:"required",message:S("global.validate.required",{label:(m=o.label)!=null?m:""})}),K(!1),!0}return!1},ae=m=>{const n=O();T(async o=>{if(!n){K(!0);try{j==="1"&&(await Promise.all([Me({fields:g,data:o,type:"company",setError:$}),Me({fields:R,data:o,type:"address",setError:$})]),_("")),U(),K(!1),M()}catch(d){typeof d=="string"&&_(d),K(!1)}}})(m)},B=()=>{U(),H()};return e.jsxs(A,{sx:{pl:1,pr:1,mt:2,width:"100%","& h4":{color:y},"& input, & .MuiFormControl-root .MuiTextField-root, & .MuiDropzoneArea-textContainer, & .MuiSelect-select.MuiSelect-filled, & .MuiTextField-root .MuiInputBase-multiline":{borderRadius:"4px",borderBottomLeftRadius:"0",borderBottomRightRadius:"0"}},children:[F&&e.jsx(we,{severity:"error",children:e.jsx(je,{children:F})}),j==="1"?e.jsxs(A,{children:[e.jsx(le,{children:D}),e.jsx(me,{formFields:[...g],errors:Q,control:Z,getValues:V,setValue:X,setError:$})]}):null,e.jsxs(A,{children:[e.jsx(le,{children:z}),e.jsx(me,{formFields:u,errors:Q,control:Z,getValues:V,setValue:X})]}),e.jsxs(A,{sx:{display:"flex",justifyContent:"flex-end",pt:2,gap:1},children:[e.jsx(fe,{onClick:B,children:S("global.button.back")}),e.jsx(fe,{onClick:ae,children:S("global.button.next")})]})]})}const Mt=De(A)({"& #b3-customForm-id-name":{'& label[data-shrink="true"]':{whiteSpace:"break-spaces",minWidth:"calc(133% - 24px)",transition:"unset"},'& label[data-shrink="false"]':{whiteSpace:"break-spaces"}}});function _t({activeStep:H,handleBack:M,handleNext:S,handleFinish:P}){const[C,W]=c.useState(""),[y,F]=c.useState(""),_=Te(),j=x=>{x?P({email:C,password:y}):_("/login")},g=x=>{switch(x){case 0:return e.jsx(Et,{handleNext:R=>{W(R),S()}});case 1:return e.jsx(At,{handleBack:M,handleNext:S});case 2:return e.jsx(Bt,{handleBack:M,handleNext:R=>{F(R),S()}});case 3:return e.jsx(Ft,{handleFinish:j});default:return null}};return e.jsx(Mt,{component:"div",children:g(H)})}function Tt(H){const{children:M,activeStep:S,backgroundColor:P}=H,C=pe(),[W]=ve(),y=qe(),{state:{accountType:F,submitSuccess:_}}=c.useContext(ge),j=c.useMemo(()=>C(_?F==="1"?"register.title.registerComplete":"register.title.accountCreated":"register.title.accountRegister"),[_,F,C]),g=ce(P);return e.jsxs(A,{component:"div",sx:{width:W?"100%":"537px",boxShadow:"0px 2px 1px -1px rgba(0, 0, 0, 0.2), 0px 1px 1px rgba(0, 0, 0, 0.14), 0px 1px 3px rgba(0, 0, 0, 0.12)",borderRadius:"4px",marginTop:"1rem",background:"#FFFFFF",padding:"0 0.8rem 1rem 0.8rem"},children:[e.jsx(A,{component:"h3",sx:{display:"flex",flexDirection:"row",justifyContent:"center",pt:2,fontSize:"24px",fontWeight:"400",margin:"0.5rem 0",color:g},children:j}),!_&&e.jsx(ze,{activeStep:S,sx:{"& .MuiSvgIcon-root:not(.Mui-active) .MuiStepIcon-text":{fill:ce(g)},"& .MuiSvgIcon-root.Mui-active .MuiStepIcon-text":{fill:ce(y.palette.primary.main)}},children:ht.map(x=>e.jsx(Ke,{children:e.jsx(Ge,{children:C(x)})},x))}),M]})}const kt=[1,2];function co(H){const{setOpenPage:M}=H,[S,P]=c.useState(0),C=pe(),[W]=ve(),y=Te(),F=Ie(Re),_=Ie(({global:u})=>u.loginLandingLocation),[j]=We(),{state:{isCheckout:g,isCloseGotoBCHome:x,logo:R,registerEnabled:J},dispatch:Y}=c.useContext(ke),{state:{isLoading:Z},dispatch:T}=c.useContext(ge),{state:{accountLoginRegistration:V,portalStyle:{backgroundColor:Q="#FEF9F5"}},dispatch:X}=c.useContext(be);c.useEffect(()=>{J||y("/login")},[y,J]),c.useEffect(()=>{(async()=>{var z,L,K,b;try{T&&(T({type:"loading",payload:{isLoading:!0}}),T({type:"finishInfo",payload:{submitSuccess:!1}})),at(X,Y);const U=kt.map(a=>st(a)),O=await Promise.all(U),ae=(((z=O[1])==null?void 0:z.accountFormFields)||[]).map(a=>{const l=a;return yt.includes((a==null?void 0:a.fieldId)||"")&&a.groupId===4&&(l.isRequired=!0,l.visible=!0),a}),B=_e(((L=O[0])==null?void 0:L.accountFormFields)||[]),v=_e(ae||[]),{countries:G}=await nt(),m=((K=v.address)==null?void 0:K.map(a=>{const l=a;return a.name==="country"&&(l.options=G,l.replaceOptions={label:"countryName",value:"countryName"}),a}))||[],n=((b=B.address)==null?void 0:b.map(a=>{const l=a;if(a.name==="country"){l.options=G;const N=G.find(k=>k.countryName===a.default);l.default=(N==null?void 0:N.countryCode)||a.default}return a}))||[],{b2b:o,b2c:d}=V;T&&T({type:"all",payload:{accountType:d&&!o?"2":"1",isLoading:!1,contactInformation:[...v.contactInformation||[]],bcContactInformation:[...B.contactInformation||[]],additionalInformation:[...v.additionalInformation||[]],bcAdditionalInformation:[...B.additionalInformation||[]],companyExtraFields:[],companyInformation:[...(v==null?void 0:v.businessDetails)||[]],companyAttachment:[...xt(C)],addressBasicFields:[...m],bcAddressBasicFields:[...n],countryList:[...G],passwordInformation:[...v.password||[]],bcPasswordInformation:[...B.password||[]]}})}catch(U){se.error(U)}})()},[]);const oe=async()=>{P(u=>u+1)},$=()=>{P(u=>u-1)},D=()=>{T&&T({type:"all",payload:{accountType:"",isLoading:!1,submitSuccess:!1,contactInformation:[],additionalInformation:[],companyExtraFields:[],companyInformation:[],companyAttachment:[],addressBasicFields:[],addressExtraFields:[],countryList:[],passwordInformation:[]}})},ee=async({email:u,password:z})=>{if(T({type:"loading",payload:{isLoading:!0}}),g)try{await mt({email:u,password:z}),window.location.reload()}catch(L){se.error(L)}else try{const L=await ut({email:u,password:z}).then(b=>{var U,O;return(O=(U=b==null?void 0:b.data)==null?void 0:U.login)==null?void 0:O.customer});if(L&&rt.set("loginCustomer",{emailAddress:L.email,phoneNumber:L.phone,...L}),await it(),D(),ct==="catalyst"){const b=j.get("redirectTo")==="check-out"?lt.CHECKOUT:_;window.b2b.callbacks.dispatchEvent("on-registered",{email:u,password:z,landingLoginLocation:b}),window.location.hash="";return}if(!dt(y))return;x?window.location.href="/":y("/orders")}catch(L){se.error(L)}T({type:"loading",payload:{isLoading:!1}})};return c.useEffect(()=>{F==null||F.body.scrollIntoView(!0)},[S]),tt(!1),e.jsx(Xe,{setOpenPage:M,children:e.jsx(It,{isMobile:W,children:e.jsx(ot,{isSpinning:Z,tip:C("global.tips.loading"),transparency:"0",children:e.jsxs(A,{sx:{display:"flex",flexDirection:"column",width:"100%",alignItems:"center"},children:[e.jsx(wt,{children:e.jsx(He,{sx:{maxWidth:"250px"},onClick:()=>{window.location.href="/"},children:e.jsx("img",{src:R||$e(Je),alt:C("global.tips.registerLogo"),loading:"lazy"})})}),e.jsx(Tt,{activeStep:S,backgroundColor:Q,children:e.jsx(_t,{activeStep:S,handleBack:$,handleNext:oe,handleFinish:ee})})]})})})})}export{co as default};
//# sourceMappingURL=index-DiNgLqos.js.map
